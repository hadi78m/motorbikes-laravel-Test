{
  "version": 3,
  "file": "tw-elements.umd.min.js",
  "sources": [
  "../../src/js/dom/data.js",
  "../../src/js/util/index.js",
  "../../src/js/dom/event-handler.js",
  "../../src/js/base-component.js",
  "../../src/js/components/button.js",
  "../../node_modules/@popperjs/core/lib/enums.js",
  "../../node_modules/@popperjs/core/lib/dom-utils/getNodeName.js",
  "../../node_modules/@popperjs/core/lib/dom-utils/getWindow.js",
  "../../node_modules/@popperjs/core/lib/dom-utils/instanceOf.js",
  "../../node_modules/@popperjs/core/lib/modifiers/applyStyles.js",
  "../../node_modules/@popperjs/core/lib/utils/getBasePlacement.js",
  "../../node_modules/@popperjs/core/lib/utils/math.js",
  "../../node_modules/@popperjs/core/lib/utils/userAgent.js",
  "../../node_modules/@popperjs/core/lib/dom-utils/isLayoutViewport.js",
  "../../node_modules/@popperjs/core/lib/dom-utils/getBoundingClientRect.js",
  "../../node_modules/@popperjs/core/lib/dom-utils/getLayoutRect.js",
  "../../node_modules/@popperjs/core/lib/dom-utils/contains.js",
  "../../node_modules/@popperjs/core/lib/dom-utils/getComputedStyle.js",
  "../../node_modules/@popperjs/core/lib/dom-utils/isTableElement.js",
  "../../node_modules/@popperjs/core/lib/dom-utils/getDocumentElement.js",
  "../../node_modules/@popperjs/core/lib/dom-utils/getParentNode.js",
  "../../node_modules/@popperjs/core/lib/dom-utils/getOffsetParent.js",
  "../../node_modules/@popperjs/core/lib/utils/getMainAxisFromPlacement.js",
  "../../node_modules/@popperjs/core/lib/utils/within.js",
  "../../node_modules/@popperjs/core/lib/utils/getFreshSideObject.js",
  "../../node_modules/@popperjs/core/lib/utils/mergePaddingObject.js",
  "../../node_modules/@popperjs/core/lib/utils/expandToHashMap.js",
  "../../node_modules/@popperjs/core/lib/modifiers/arrow.js",
  "../../node_modules/@popperjs/core/lib/utils/getVariation.js",
  "../../node_modules/@popperjs/core/lib/modifiers/computeStyles.js",
  "../../node_modules/@popperjs/core/lib/modifiers/eventListeners.js",
  "../../node_modules/@popperjs/core/lib/utils/getOppositePlacement.js",
  "../../node_modules/@popperjs/core/lib/utils/getOppositeVariationPlacement.js",
  "../../node_modules/@popperjs/core/lib/dom-utils/getWindowScroll.js",
  "../../node_modules/@popperjs/core/lib/dom-utils/getWindowScrollBarX.js",
  "../../node_modules/@popperjs/core/lib/dom-utils/getViewportRect.js",
  "../../node_modules/@popperjs/core/lib/dom-utils/getDocumentRect.js",
  "../../node_modules/@popperjs/core/lib/dom-utils/isScrollParent.js",
  "../../node_modules/@popperjs/core/lib/dom-utils/getScrollParent.js",
  "../../node_modules/@popperjs/core/lib/dom-utils/listScrollParents.js",
  "../../node_modules/@popperjs/core/lib/utils/rectToClientRect.js",
  "../../node_modules/@popperjs/core/lib/dom-utils/getClippingRect.js",
  "../../node_modules/@popperjs/core/lib/utils/computeOffsets.js",
  "../../node_modules/@popperjs/core/lib/utils/detectOverflow.js",
  "../../node_modules/@popperjs/core/lib/utils/computeAutoPlacement.js",
  "../../node_modules/@popperjs/core/lib/modifiers/flip.js",
  "../../node_modules/@popperjs/core/lib/modifiers/hide.js",
  "../../node_modules/@popperjs/core/lib/modifiers/offset.js",
  "../../node_modules/@popperjs/core/lib/modifiers/popperOffsets.js",
  "../../node_modules/@popperjs/core/lib/utils/getAltAxis.js",
  "../../node_modules/@popperjs/core/lib/modifiers/preventOverflow.js",
  "../../node_modules/@popperjs/core/lib/dom-utils/getHTMLElementScroll.js",
  "../../node_modules/@popperjs/core/lib/dom-utils/getNodeScroll.js",
  "../../node_modules/@popperjs/core/lib/dom-utils/getCompositeRect.js",
  "../../node_modules/@popperjs/core/lib/utils/orderModifiers.js",
  "../../node_modules/@popperjs/core/lib/utils/debounce.js",
  "../../node_modules/@popperjs/core/lib/utils/format.js",
  "../../node_modules/@popperjs/core/lib/utils/validateModifiers.js",
  "../../node_modules/@popperjs/core/lib/utils/uniqueBy.js",
  "../../node_modules/@popperjs/core/lib/utils/mergeByName.js",
  "../../node_modules/@popperjs/core/lib/createPopper.js",
  "../../node_modules/@popperjs/core/lib/popper-lite.js",
  "../../node_modules/@popperjs/core/lib/popper.js",
  "../../src/js/dom/manipulator.js",
  "../../src/js/dom/selector-engine.js",
  "../../src/js/components/dropdown.js",
  "../../src/js/components/collapse.js",
  "../../src/js/util/scrollbar.js",
  "../../src/js/util/backdrop.js",
  "../../src/js/util/focusTrap.js",
  "../../src/js/util/component-functions.js",
  "../../src/js/components/offcanvas.js",
  "../../src/js/components/alert.js",
  "../../src/js/components/carousel.js",
  "../../src/js/components/modal.js",
  "../../src/js/util/sanitizer.js",
  "../../src/js/components/tooltip.js",
  "../../src/js/components/popover.js",
  "../../src/js/navigation/scrollspy.js",
  "../../src/js/navigation/tab.js",
  "../../src/js/components/toast.js",
  "../../node_modules/detect-autofill/dist/detect-autofill.js",
  "../../src/js/forms/input.js",
  "../../src/js/content-styles/animate.js",
  "../../src/js/methods/ripple.js",
  "../../src/js/forms/datepicker/date-utils.js",
  "../../src/js/forms/datepicker/templates.js",
  "../../src/js/util/keycodes.js",
  "../../src/js/forms/datepicker/index.js",
  "../../src/js/forms/timepicker/templates.js",
  "../../src/js/forms/timepicker/utils.js",
  "../../src/js/forms/timepicker/index.js",
  "../../node_modules/perfect-scrollbar/dist/perfect-scrollbar.esm.js",
  "../../src/js/util/touch/swipe.js",
  "../../src/js/util/touch/index.js",
  "../../src/js/util/add-perfect-scrollbar-styles.js",
  "../../src/js/navigation/sidenav.js",
  "../../src/js/components/stepper.js",
  "../../src/js/forms/select/select-option.js",
  "../../src/js/forms/select/selection-model.js",
  "../../src/js/forms/select/util.js",
  "../../src/js/forms/select/templates.js",
  "../../src/js/forms/select/index.js",
  "../../src/js/autoinit/jqueryInit.js",
  "../../src/js/autoinit/autoinitCallbacks.js",
  "../../src/js/data/chart/chartDefaults.js",
  "../../src/js/autoinit/index.js",
  "../../src/js/autoinit/chartsInit.js",
  "../../src/js/components/chips/templates.js",
  "../../src/js/components/chips/chip.js",
  "../../src/js/components/chips/index.js",
  "../../node_modules/deepmerge/dist/cjs.js",
  "../../src/js/data/chart/charts.js",
  "../../src/js/index.umd.js",
  "../../node_modules/chart.js/dist/chunks/helpers.segment.mjs",
  "../../node_modules/chart.js/dist/chart.mjs",
  "../../node_modules/chartjs-plugin-datalabels/dist/chartjs-plugin-datalabels.esm.js"
  ],
  "sourcesContent": [
  "/* -------------------------------------------------------------------------- Tailwind Elements is an open-source UI kit of advanced components for TailwindCSS. Copyright © 2023 MDBootstrap.com Unless a custom, individually assigned license has been granted, this program is free software: you can redistribute it and/or modify it under the terms of the GNU Affero General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. In addition, a custom license may be available upon request, subject to the terms and conditions of that license. Please contact tailwind@mdbootstrap.com for more information on obtaining a custom license. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero General Public License for more details. -------------------------------------------------------------------------- */ /* ------------------------------------------------------------------------ Constants ------------------------------------------------------------------------ */ const mapData = (() => { const storeData = {}; let id = 1; return { set(element, key, data) { if (typeof element[key] === "undefined") { element[key] = { key, id, }; id++; } storeData[element[key].id] = data; }, get(element, key) { if (!element || typeof element[key] === "undefined") { return null; } const keyProperties = element[key]; if (keyProperties.key === key) { return storeData[keyProperties.id]; } return null; }, delete(element, key) { if (typeof element[key] === "undefined") { return; } const keyProperties = element[key]; if (keyProperties.key === key) { delete storeData[keyProperties.id]; delete element[key]; } }, }; })(); const Data = { setData(instance, key, data) { mapData.set(instance, key, data); }, getData(instance, key) { return mapData.get(instance, key); }, removeData(instance, key) { mapData.delete(instance, key); }, }; export default Data; ",
  "/* -------------------------------------------------------------------------- Tailwind Elements is an open-source UI kit of advanced components for TailwindCSS. Copyright © 2023 MDBootstrap.com Unless a custom, individually assigned license has been granted, this program is free software: you can redistribute it and/or modify it under the terms of the GNU Affero General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. In addition, a custom license may be available upon request, subject to the terms and conditions of that license. Please contact tailwind@mdbootstrap.com for more information on obtaining a custom license. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero General Public License for more details. -------------------------------------------------------------------------- */ const MAX_UID = 1000000; const MILLISECONDS_MULTIPLIER = 1000; const TRANSITION_END = "transitionend"; // Shoutout AngusCroll (https://goo.gl/pxwQGp) const toType = (obj) => { if (obj === null || obj === undefined) { return `${obj}`; } return {}.toString .call(obj) .match(/\s([a-z]+)/i)[1] .toLowerCase(); }; /** * -------------------------------------------------------------------------- * Public Util Api * -------------------------------------------------------------------------- */ const getUID = (prefix) => { do { prefix += Math.floor(Math.random() * MAX_UID); } while (document.getElementById(prefix)); return prefix; }; const getSelector = (element) => { let selector = element.getAttribute("data-te-target"); if (!selector || selector === "#") { let hrefAttr = element.getAttribute("href"); // The only valid content that could double as a selector are IDs or classes, // so everything starting with `#` or `.`. If a "real" URL is used as the selector, // `document.querySelector` will rightfully complain it is invalid. // See https://github.com/twbs/bootstrap/issues/32273 if (!hrefAttr || (!hrefAttr.includes("#") && !hrefAttr.startsWith("."))) { return null; } // Just in case some CMS puts out a full URL with the anchor appended if (hrefAttr.includes("#") && !hrefAttr.startsWith("#")) { hrefAttr = `#${hrefAttr.split("#")[1]}`; } selector = hrefAttr && hrefAttr !== "#" ? hrefAttr.trim() : null; } return selector; }; const getSelectorFromElement = (element) => { const selector = getSelector(element); if (selector) { return document.querySelector(selector) ? selector : null; } return null; }; const getElementFromSelector = (element) => { const selector = getSelector(element); return selector ? document.querySelector(selector) : null; }; const getTransitionDurationFromElement = (element) => { if (!element) { return 0; } // Get transition-duration of the element let { transitionDuration, transitionDelay } = window.getComputedStyle(element); const floatTransitionDuration = Number.parseFloat(transitionDuration); const floatTransitionDelay = Number.parseFloat(transitionDelay); // Return 0 if element or transition duration is not found if (!floatTransitionDuration && !floatTransitionDelay) { return 0; } // If multiple durations are defined, take the first transitionDuration = transitionDuration.split(",")[0]; transitionDelay = transitionDelay.split(",")[0]; return ( (Number.parseFloat(transitionDuration) + Number.parseFloat(transitionDelay)) * MILLISECONDS_MULTIPLIER ); }; const triggerTransitionEnd = (element) => { element.dispatchEvent(new Event(TRANSITION_END)); }; const isElement = (obj) => { if (!obj || typeof obj !== "object") { return false; } if (typeof obj.jquery !== "undefined") { obj = obj[0]; } return typeof obj.nodeType !== "undefined"; }; const getElement = (obj) => { if (isElement(obj)) { // it's a jQuery object or a node element return obj.jquery ? obj[0] : obj; } if (typeof obj === "string" && obj.length > 0) { return document.querySelector(obj); } return null; }; const emulateTransitionEnd = (element, duration) => { let called = false; const durationPadding = 5; const emulatedDuration = duration + durationPadding; function listener() { called = true; element.removeEventListener(TRANSITION_END, listener); } element.addEventListener(TRANSITION_END, listener); setTimeout(() => { if (!called) { triggerTransitionEnd(element); } }, emulatedDuration); }; const typeCheckConfig = (componentName, config, configTypes) => { Object.keys(configTypes).forEach((property) => { const expectedTypes = configTypes[property]; const value = config[property]; const valueType = value && isElement(value) ? "element" : toType(value); if (!new RegExp(expectedTypes).test(valueType)) { throw new Error( `${componentName.toUpperCase()}: ` + `Option "${property}" provided type "${valueType}" ` + `but expected type "${expectedTypes}".` ); } }); }; const isVisible = (element) => { if (!element || element.getClientRects().length === 0) { return false; } if (element.style && element.parentNode && element.parentNode.style) { const elementStyle = getComputedStyle(element); const parentNodeStyle = getComputedStyle(element.parentNode); return ( getComputedStyle(element).getPropertyValue("visibility") === "visible" || (elementStyle.display !== "none" && parentNodeStyle.display !== "none" && elementStyle.visibility !== "hidden") ); } return false; }; const isDisabled = (element) => { if (!element || element.nodeType !== Node.ELEMENT_NODE) { return true; } if (element.classList.contains("disabled")) { return true; } if (typeof element.disabled !== "undefined") { return element.disabled; } return ( element.hasAttribute("disabled") && element.getAttribute("disabled") !== "false" ); }; const findShadowRoot = (element) => { if (!document.documentElement.attachShadow) { return null; } // Can find the shadow root otherwise it'll return the document if (typeof element.getRootNode === "function") { const root = element.getRootNode(); return root instanceof ShadowRoot ? root : null; } if (element instanceof ShadowRoot) { return element; } // when we don't find a shadow root if (!element.parentNode) { return null; } return findShadowRoot(element.parentNode); }; const noop = () => function () {}; /** * Trick to restart an element's animation * * @param {HTMLElement} element * @return void * * @see https://www.charistheo.io/blog/2021/02/restart-a-css-animation-with-javascript/#restarting-a-css-animation */ const reflow = (element) => { // eslint-disable-next-line no-unused-expressions element.offsetHeight; }; const getjQuery = () => { const { jQuery } = window; if (jQuery && !document.body.hasAttribute("data-te-no-jquery")) { return jQuery; } return null; }; const DOMContentLoadedCallbacks = []; const onDOMContentLoaded = (callback) => { if (document.readyState === "loading") { // add listener on the first call when the document is in loading state if (!DOMContentLoadedCallbacks.length) { document.addEventListener("DOMContentLoaded", () => { DOMContentLoadedCallbacks.forEach((callback) => callback()); }); } DOMContentLoadedCallbacks.push(callback); } else { callback(); } }; const isRTL = () => document.documentElement.dir === "rtl"; const array = (collection) => { return Array.from(collection); }; const element = (tag) => { return document.createElement(tag); }; const defineJQueryPlugin = (plugin) => { onDOMContentLoaded(() => { const $ = getjQuery(); /* istanbul ignore if */ if ($) { const name = plugin.NAME; const JQUERY_NO_CONFLICT = $.fn[name]; $.fn[name] = plugin.jQueryInterface; $.fn[name].Constructor = plugin; $.fn[name].noConflict = () => { $.fn[name] = JQUERY_NO_CONFLICT; return plugin.jQueryInterface; }; } }); }; const execute = (callback) => { if (typeof callback === "function") { callback(); } }; const executeAfterTransition = ( callback, transitionElement, waitForTransition = true ) => { if (!waitForTransition) { execute(callback); return; } const durationPadding = 5; const emulatedDuration = getTransitionDurationFromElement(transitionElement) + durationPadding; let called = false; const handler = ({ target }) => { if (target !== transitionElement) { return; } called = true; transitionElement.removeEventListener(TRANSITION_END, handler); execute(callback); }; transitionElement.addEventListener(TRANSITION_END, handler); setTimeout(() => { if (!called) { triggerTransitionEnd(transitionElement); } }, emulatedDuration); }; /** * Return the previous/next element of a list. * * @param {array} list The list of elements * @param activeElement The active element * @param shouldGetNext Choose to get next or previous element * @param isCycleAllowed * @return {Element|elem} The proper element */ const getNextActiveElement = ( list, activeElement, shouldGetNext, isCycleAllowed ) => { let index = list.indexOf(activeElement); // if the element does not exist in the list return an element depending on the direction and if cycle is allowed if (index === -1) { return list[!shouldGetNext && isCycleAllowed ? list.length - 1 : 0]; } const listLength = list.length; index += shouldGetNext ? 1 : -1; if (isCycleAllowed) { index = (index + listLength) % listLength; } return list[Math.max(0, Math.min(index, listLength - 1))]; }; export { getjQuery, TRANSITION_END, getUID, getSelectorFromElement, getElementFromSelector, getTransitionDurationFromElement, triggerTransitionEnd, isElement, emulateTransitionEnd, typeCheckConfig, isVisible, findShadowRoot, noop, reflow, array, element, onDOMContentLoaded, isRTL, defineJQueryPlugin, getElement, isDisabled, execute, executeAfterTransition, getNextActiveElement, }; ",
  "/* -------------------------------------------------------------------------- Tailwind Elements is an open-source UI kit of advanced components for TailwindCSS. Copyright © 2023 MDBootstrap.com Unless a custom, individually assigned license has been granted, this program is free software: you can redistribute it and/or modify it under the terms of the GNU Affero General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. In addition, a custom license may be available upon request, subject to the terms and conditions of that license. Please contact tailwind@mdbootstrap.com for more information on obtaining a custom license. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero General Public License for more details. -------------------------------------------------------------------------- */ import { getjQuery } from "../util/index"; /* ------------------------------------------------------------------------ Constants ------------------------------------------------------------------------ */ const namespaceRegex = /[^.]*(?=\..*)\.|.*/; const stripNameRegex = /\..*/; const stripUidRegex = /::\d+$/; const eventRegistry = {}; // Events storage let uidEvent = 1; const customEvents = { mouseenter: "mouseover", mouseleave: "mouseout", }; const customEventsRegex = /^(mouseenter|mouseleave)/i; const nativeEvents = new Set([ "click", "dblclick", "mouseup", "mousedown", "contextmenu", "mousewheel", "DOMMouseScroll", "mouseover", "mouseout", "mousemove", "selectstart", "selectend", "keydown", "keypress", "keyup", "orientationchange", "touchstart", "touchmove", "touchend", "touchcancel", "pointerdown", "pointermove", "pointerup", "pointerleave", "pointercancel", "gesturestart", "gesturechange", "gestureend", "focus", "blur", "change", "reset", "select", "submit", "focusin", "focusout", "load", "unload", "beforeunload", "resize", "move", "DOMContentLoaded", "readystatechange", "error", "abort", "scroll", ]); /** * ------------------------------------------------------------------------ * Private methods * ------------------------------------------------------------------------ */ function getUidEvent(element, uid) { return (uid && `${uid}::${uidEvent++}`) || element.uidEvent || uidEvent++; } function getEvent(element) { const uid = getUidEvent(element); element.uidEvent = uid; eventRegistry[uid] = eventRegistry[uid] || {}; return eventRegistry[uid]; } function bootstrapHandler(element, fn) { return function handler(event) { event.delegateTarget = element; if (handler.oneOff) { EventHandler.off(element, event.type, fn); } return fn.apply(element, [event]); }; } function bootstrapDelegationHandler(element, selector, fn) { return function handler(event) { const domElements = element.querySelectorAll(selector); for ( let { target } = event; target && target !== this; target = target.parentNode ) { for (let i = domElements.length; i--; "") { if (domElements[i] === target) { event.delegateTarget = target; if (handler.oneOff) { EventHandler.off(element, event.type, fn); } return fn.apply(target, [event]); } } } // To please ESLint return null; }; } function findHandler(events, handler, delegationSelector = null) { const uidEventList = Object.keys(events); for (let i = 0, len = uidEventList.length; i < len; i++) { const event = events[uidEventList[i]]; if ( event.originalHandler === handler && event.delegationSelector === delegationSelector ) { return event; } } return null; } function normalizeParams(originalTypeEvent, handler, delegationFn) { const delegation = typeof handler === "string"; const originalHandler = delegation ? delegationFn : handler; let typeEvent = getTypeEvent(originalTypeEvent); const isNative = nativeEvents.has(typeEvent); if (!isNative) { typeEvent = originalTypeEvent; } return [delegation, originalHandler, typeEvent]; } function addHandler(element, originalTypeEvent, handler, delegationFn, oneOff) { if (typeof originalTypeEvent !== "string" || !element) { return; } if (!handler) { handler = delegationFn; delegationFn = null; } // in case of mouseenter or mouseleave wrap the handler within a function that checks for its DOM position // this prevents the handler from being dispatched the same way as mouseover or mouseout does if (customEventsRegex.test(originalTypeEvent)) { const wrapFn = (fn) => { return function (event) { if ( !event.relatedTarget || (event.relatedTarget !== event.delegateTarget && !event.delegateTarget.contains(event.relatedTarget)) ) { return fn.call(this, event); } }; }; if (delegationFn) { delegationFn = wrapFn(delegationFn); } else { handler = wrapFn(handler); } } const [delegation, originalHandler, typeEvent] = normalizeParams( originalTypeEvent, handler, delegationFn ); const events = getEvent(element); const handlers = events[typeEvent] || (events[typeEvent] = {}); const previousFn = findHandler( handlers, originalHandler, delegation ? handler : null ); if (previousFn) { previousFn.oneOff = previousFn.oneOff && oneOff; return; } const uid = getUidEvent( originalHandler, originalTypeEvent.replace(namespaceRegex, "") ); const fn = delegation ? bootstrapDelegationHandler(element, handler, delegationFn) : bootstrapHandler(element, handler); fn.delegationSelector = delegation ? handler : null; fn.originalHandler = originalHandler; fn.oneOff = oneOff; fn.uidEvent = uid; handlers[uid] = fn; element.addEventListener(typeEvent, fn, delegation); } function removeHandler( element, events, typeEvent, handler, delegationSelector ) { const fn = findHandler(events[typeEvent], handler, delegationSelector); if (!fn) { return; } element.removeEventListener(typeEvent, fn, Boolean(delegationSelector)); delete events[typeEvent][fn.uidEvent]; } function removeNamespacedHandlers(element, events, typeEvent, namespace) { const storeElementEvent = events[typeEvent] || {}; Object.keys(storeElementEvent).forEach((handlerKey) => { if (handlerKey.includes(namespace)) { const event = storeElementEvent[handlerKey]; removeHandler( element, events, typeEvent, event.originalHandler, event.delegationSelector ); } }); } function getTypeEvent(event) { // allow to get the native events from namespaced events ('click.te.button' --> 'click') event = event.replace(stripNameRegex, ""); return customEvents[event] || event; } const EventHandler = { on(element, event, handler, delegationFn) { addHandler(element, event, handler, delegationFn, false); }, one(element, event, handler, delegationFn) { addHandler(element, event, handler, delegationFn, true); }, off(element, originalTypeEvent, handler, delegationFn) { if (typeof originalTypeEvent !== "string" || !element) { return; } const [delegation, originalHandler, typeEvent] = normalizeParams( originalTypeEvent, handler, delegationFn ); const inNamespace = typeEvent !== originalTypeEvent; const events = getEvent(element); const isNamespace = originalTypeEvent.startsWith("."); if (typeof originalHandler !== "undefined") { // Simplest case: handler is passed, remove that listener ONLY. if (!events || !events[typeEvent]) { return; } removeHandler( element, events, typeEvent, originalHandler, delegation ? handler : null ); return; } if (isNamespace) { Object.keys(events).forEach((elementEvent) => { removeNamespacedHandlers( element, events, elementEvent, originalTypeEvent.slice(1) ); }); } const storeElementEvent = events[typeEvent] || {}; Object.keys(storeElementEvent).forEach((keyHandlers) => { const handlerKey = keyHandlers.replace(stripUidRegex, ""); if (!inNamespace || originalTypeEvent.includes(handlerKey)) { const event = storeElementEvent[keyHandlers]; removeHandler( element, events, typeEvent, event.originalHandler, event.delegationSelector ); } }); }, trigger(element, event, args) { if (typeof event !== "string" || !element) { return null; } const $ = getjQuery(); const typeEvent = getTypeEvent(event); const inNamespace = event !== typeEvent; const isNative = nativeEvents.has(typeEvent); let jQueryEvent; let bubbles = true; let nativeDispatch = true; let defaultPrevented = false; let evt = null; if (inNamespace && $) { jQueryEvent = $.Event(event, args); $(element).trigger(jQueryEvent); bubbles = !jQueryEvent.isPropagationStopped(); nativeDispatch = !jQueryEvent.isImmediatePropagationStopped(); defaultPrevented = jQueryEvent.isDefaultPrevented(); } if (isNative) { evt = document.createEvent("HTMLEvents"); evt.initEvent(typeEvent, bubbles, true); } else { evt = new CustomEvent(event, { bubbles, cancelable: true, }); } // merge custom information in our event if (typeof args !== "undefined") { Object.keys(args).forEach((key) => { Object.defineProperty(evt, key, { get() { return args[key]; }, }); }); } if (defaultPrevented) { evt.preventDefault(); } if (nativeDispatch) { element.dispatchEvent(evt); } if (evt.defaultPrevented && typeof jQueryEvent !== "undefined") { jQueryEvent.preventDefault(); } return evt; }, }; export const EventHandlerMulti = { on(element, eventsName, handler, delegationFn) { const events = eventsName.split(" "); for (let i = 0; i < events.length; i++) { EventHandler.on(element, events[i], handler, delegationFn); } }, off(element, originalTypeEvent, handler, delegationFn) { const events = originalTypeEvent.split(" "); for (let i = 0; i < events.length; i++) { EventHandler.off(element, events[i], handler, delegationFn); } }, }; export default EventHandler; ",
  "/* -------------------------------------------------------------------------- Tailwind Elements is an open-source UI kit of advanced components for TailwindCSS. Copyright © 2023 MDBootstrap.com Unless a custom, individually assigned license has been granted, this program is free software: you can redistribute it and/or modify it under the terms of the GNU Affero General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. In addition, a custom license may be available upon request, subject to the terms and conditions of that license. Please contact tailwind@mdbootstrap.com for more information on obtaining a custom license. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero General Public License for more details. -------------------------------------------------------------------------- */ import Data from "./dom/data"; import { executeAfterTransition, getElement } from "./util/index"; import EventHandler from "./dom/event-handler"; /* ------------------------------------------------------------------------ Constants ------------------------------------------------------------------------ */ const VERSION = "5.1.3"; class BaseComponent { constructor(element) { element = getElement(element); if (!element) { return; } this._element = element; Data.setData(this._element, this.constructor.DATA_KEY, this); } dispose() { Data.removeData(this._element, this.constructor.DATA_KEY); EventHandler.off(this._element, this.constructor.EVENT_KEY); Object.getOwnPropertyNames(this).forEach((propertyName) => { this[propertyName] = null; }); } _queueCallback(callback, element, isAnimated = true) { executeAfterTransition(callback, element, isAnimated); } /** Static */ static getInstance(element) { return Data.getData(getElement(element), this.DATA_KEY); } static getOrCreateInstance(element, config = {}) { return ( this.getInstance(element) || new this(element, typeof config === "object" ? config : null) ); } static get VERSION() { return VERSION; } static get NAME() { throw new Error( 'You have to implement the static method "NAME", for each component!' ); } static get DATA_KEY() { return `te.${this.NAME}`; } static get EVENT_KEY() { return `.${this.DATA_KEY}`; } } export default BaseComponent; ",
  "/* -------------------------------------------------------------------------- Tailwind Elements is an open-source UI kit of advanced components for TailwindCSS. Copyright © 2023 MDBootstrap.com Unless a custom, individually assigned license has been granted, this program is free software: you can redistribute it and/or modify it under the terms of the GNU Affero General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. In addition, a custom license may be available upon request, subject to the terms and conditions of that license. Please contact tailwind@mdbootstrap.com for more information on obtaining a custom license. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero General Public License for more details. -------------------------------------------------------------------------- */ import BaseComponent from "../base-component"; /* ------------------------------------------------------------------------ Constants ------------------------------------------------------------------------ */ const NAME = "button"; const CLASS_NAME_ACTIVE = "active"; /* ------------------------------------------------------------------------ Class Definition ------------------------------------------------------------------------ */ class Button extends BaseComponent { // Getters static get NAME() { return NAME; } // Public toggle() { // Toggle class and sync the `aria-pressed` attribute with the return value of the `.toggle()` method this._element.setAttribute( "aria-pressed", this._element.classList.toggle(CLASS_NAME_ACTIVE) ); } // Static static jQueryInterface(config) { return this.each(function () { const data = Button.getOrCreateInstance(this); if (config === "toggle") { data[config](); } }); } } export default Button; ",
  "export var top = 'top'; export var bottom = 'bottom'; export var right = 'right'; export var left = 'left'; export var auto = 'auto'; export var basePlacements = [top, bottom, right, left]; export var start = 'start'; export var end = 'end'; export var clippingParents = 'clippingParents'; export var viewport = 'viewport'; export var popper = 'popper'; export var reference = 'reference'; export var variationPlacements = /*#__PURE__*/basePlacements.reduce(function (acc, placement) { return acc.concat([placement + "-" + start, placement + "-" + end]); }, []); export var placements = /*#__PURE__*/[].concat(basePlacements, [auto]).reduce(function (acc, placement) { return acc.concat([placement, placement + "-" + start, placement + "-" + end]); }, []); // modifiers that need to read the DOM export var beforeRead = 'beforeRead'; export var read = 'read'; export var afterRead = 'afterRead'; // pure-logic modifiers export var beforeMain = 'beforeMain'; export var main = 'main'; export var afterMain = 'afterMain'; // modifier with the purpose to write to the DOM (or write into a framework state) export var beforeWrite = 'beforeWrite'; export var write = 'write'; export var afterWrite = 'afterWrite'; export var modifierPhases = [beforeRead, read, afterRead, beforeMain, main, afterMain, beforeWrite, write, afterWrite];",
  "export default function getNodeName(element) { return element ? (element.nodeName || '').toLowerCase() : null; }",
  "export default function getWindow(node) { if (node == null) { return window; } if (node.toString() !== '[object Window]') { var ownerDocument = node.ownerDocument; return ownerDocument ? ownerDocument.defaultView || window : window; } return node; }",
  "import getWindow from "./getWindow.js"; function isElement(node) { var OwnElement = getWindow(node).Element; return node instanceof OwnElement || node instanceof Element; } function isHTMLElement(node) { var OwnElement = getWindow(node).HTMLElement; return node instanceof OwnElement || node instanceof HTMLElement; } function isShadowRoot(node) { // IE 11 has no ShadowRoot if (typeof ShadowRoot === 'undefined') { return false; } var OwnElement = getWindow(node).ShadowRoot; return node instanceof OwnElement || node instanceof ShadowRoot; } export { isElement, isHTMLElement, isShadowRoot };",
  "import getNodeName from "../dom-utils/getNodeName.js"; import { isHTMLElement } from "../dom-utils/instanceOf.js"; // This modifier takes the styles prepared by the `computeStyles` modifier // and applies them to the HTMLElements such as popper and arrow function applyStyles(_ref) { var state = _ref.state; Object.keys(state.elements).forEach(function (name) { var style = state.styles[name] || {}; var attributes = state.attributes[name] || {}; var element = state.elements[name]; // arrow is optional + virtual elements if (!isHTMLElement(element) || !getNodeName(element)) { return; } // Flow doesn't support to extend this property, but it's the most // effective way to apply styles to an HTMLElement // $FlowFixMe[cannot-write] Object.assign(element.style, style); Object.keys(attributes).forEach(function (name) { var value = attributes[name]; if (value === false) { element.removeAttribute(name); } else { element.setAttribute(name, value === true ? '' : value); } }); }); } function effect(_ref2) { var state = _ref2.state; var initialStyles = { popper: { position: state.options.strategy, left: '0', top: '0', margin: '0' }, arrow: { position: 'absolute' }, reference: {} }; Object.assign(state.elements.popper.style, initialStyles.popper); state.styles = initialStyles; if (state.elements.arrow) { Object.assign(state.elements.arrow.style, initialStyles.arrow); } return function () { Object.keys(state.elements).forEach(function (name) { var element = state.elements[name]; var attributes = state.attributes[name] || {}; var styleProperties = Object.keys(state.styles.hasOwnProperty(name) ? state.styles[name] : initialStyles[name]); // Set all values to an empty string to unset them var style = styleProperties.reduce(function (style, property) { style[property] = ''; return style; }, {}); // arrow is optional + virtual elements if (!isHTMLElement(element) || !getNodeName(element)) { return; } Object.assign(element.style, style); Object.keys(attributes).forEach(function (attribute) { element.removeAttribute(attribute); }); }); }; } // eslint-disable-next-line import/no-unused-modules export default { name: 'applyStyles', enabled: true, phase: 'write', fn: applyStyles, effect: effect, requires: ['computeStyles'] };",
  "import { auto } from "../enums.js"; export default function getBasePlacement(placement) { return placement.split('-')[0]; }",
  "export var max = Math.max; export var min = Math.min; export var round = Math.round;",
  "export default function getUAString() { var uaData = navigator.userAgentData; if (uaData != null && uaData.brands && Array.isArray(uaData.brands)) { return uaData.brands.map(function (item) { return item.brand + "/" + item.version; }).join(' '); } return navigator.userAgent; }",
  "import getUAString from "../utils/userAgent.js"; export default function isLayoutViewport() { return !/^((?!chrome|android).)*safari/i.test(getUAString()); }",
  "import { isElement, isHTMLElement } from "./instanceOf.js"; import { round } from "../utils/math.js"; import getWindow from "./getWindow.js"; import isLayoutViewport from "./isLayoutViewport.js"; export default function getBoundingClientRect(element, includeScale, isFixedStrategy) { if (includeScale === void 0) { includeScale = false; } if (isFixedStrategy === void 0) { isFixedStrategy = false; } var clientRect = element.getBoundingClientRect(); var scaleX = 1; var scaleY = 1; if (includeScale && isHTMLElement(element)) { scaleX = element.offsetWidth > 0 ? round(clientRect.width) / element.offsetWidth || 1 : 1; scaleY = element.offsetHeight > 0 ? round(clientRect.height) / element.offsetHeight || 1 : 1; } var _ref = isElement(element) ? getWindow(element) : window, visualViewport = _ref.visualViewport; var addVisualOffsets = !isLayoutViewport() && isFixedStrategy; var x = (clientRect.left + (addVisualOffsets && visualViewport ? visualViewport.offsetLeft : 0)) / scaleX; var y = (clientRect.top + (addVisualOffsets && visualViewport ? visualViewport.offsetTop : 0)) / scaleY; var width = clientRect.width / scaleX; var height = clientRect.height / scaleY; return { width: width, height: height, top: y, right: x + width, bottom: y + height, left: x, x: x, y: y }; }",
  "import getBoundingClientRect from "./getBoundingClientRect.js"; // Returns the layout rect of an element relative to its offsetParent. Layout // means it doesn't take into account transforms. export default function getLayoutRect(element) { var clientRect = getBoundingClientRect(element); // Use the clientRect sizes if it's not been transformed. // Fixes https://github.com/popperjs/popper-core/issues/1223 var width = element.offsetWidth; var height = element.offsetHeight; if (Math.abs(clientRect.width - width) <= 1) { width = clientRect.width; } if (Math.abs(clientRect.height - height) <= 1) { height = clientRect.height; } return { x: element.offsetLeft, y: element.offsetTop, width: width, height: height }; }",
  "import { isShadowRoot } from "./instanceOf.js"; export default function contains(parent, child) { var rootNode = child.getRootNode && child.getRootNode(); // First, attempt with faster native method if (parent.contains(child)) { return true; } // then fallback to custom implementation with Shadow DOM support else if (rootNode && isShadowRoot(rootNode)) { var next = child; do { if (next && parent.isSameNode(next)) { return true; } // $FlowFixMe[prop-missing]: need a better way to handle this... next = next.parentNode || next.host; } while (next); } // Give up, the result is false return false; }",
  "import getWindow from "./getWindow.js"; export default function getComputedStyle(element) { return getWindow(element).getComputedStyle(element); }",
  "import getNodeName from "./getNodeName.js"; export default function isTableElement(element) { return ['table', 'td', 'th'].indexOf(getNodeName(element)) >= 0; }",
  "import { isElement } from "./instanceOf.js"; export default function getDocumentElement(element) { // $FlowFixMe[incompatible-return]: assume body is always available return ((isElement(element) ? element.ownerDocument : // $FlowFixMe[prop-missing] element.document) || window.document).documentElement; }",
  "import getNodeName from "./getNodeName.js"; import getDocumentElement from "./getDocumentElement.js"; import { isShadowRoot } from "./instanceOf.js"; export default function getParentNode(element) { if (getNodeName(element) === 'html') { return element; } return (// this is a quicker (but less type safe) way to save quite some bytes from the bundle // $FlowFixMe[incompatible-return] // $FlowFixMe[prop-missing] element.assignedSlot || // step into the shadow DOM of the parent of a slotted node element.parentNode || ( // DOM Element detected isShadowRoot(element) ? element.host : null) || // ShadowRoot detected // $FlowFixMe[incompatible-call]: HTMLElement is a Node getDocumentElement(element) // fallback ); }",
  "import getWindow from "./getWindow.js"; import getNodeName from "./getNodeName.js"; import getComputedStyle from "./getComputedStyle.js"; import { isHTMLElement, isShadowRoot } from "./instanceOf.js"; import isTableElement from "./isTableElement.js"; import getParentNode from "./getParentNode.js"; import getUAString from "../utils/userAgent.js"; function getTrueOffsetParent(element) { if (!isHTMLElement(element) || // https://github.com/popperjs/popper-core/issues/837 getComputedStyle(element).position === 'fixed') { return null; } return element.offsetParent; } // `.offsetParent` reports `null` for fixed elements, while absolute elements // return the containing block function getContainingBlock(element) { var isFirefox = /firefox/i.test(getUAString()); var isIE = /Trident/i.test(getUAString()); if (isIE && isHTMLElement(element)) { // In IE 9, 10 and 11 fixed elements containing block is always established by the viewport var elementCss = getComputedStyle(element); if (elementCss.position === 'fixed') { return null; } } var currentNode = getParentNode(element); if (isShadowRoot(currentNode)) { currentNode = currentNode.host; } while (isHTMLElement(currentNode) && ['html', 'body'].indexOf(getNodeName(currentNode)) < 0) { var css = getComputedStyle(currentNode); // This is non-exhaustive but covers the most common CSS properties that // create a containing block. // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block if (css.transform !== 'none' || css.perspective !== 'none' || css.contain === 'paint' || ['transform', 'perspective'].indexOf(css.willChange) !== -1 || isFirefox && css.willChange === 'filter' || isFirefox && css.filter && css.filter !== 'none') { return currentNode; } else { currentNode = currentNode.parentNode; } } return null; } // Gets the closest ancestor positioned element. Handles some edge cases, // such as table ancestors and cross browser bugs. export default function getOffsetParent(element) { var window = getWindow(element); var offsetParent = getTrueOffsetParent(element); while (offsetParent && isTableElement(offsetParent) && getComputedStyle(offsetParent).position === 'static') { offsetParent = getTrueOffsetParent(offsetParent); } if (offsetParent && (getNodeName(offsetParent) === 'html' || getNodeName(offsetParent) === 'body' && getComputedStyle(offsetParent).position === 'static')) { return window; } return offsetParent || getContainingBlock(element) || window; }",
  "export default function getMainAxisFromPlacement(placement) { return ['top', 'bottom'].indexOf(placement) >= 0 ? 'x' : 'y'; }",
  "import { max as mathMax, min as mathMin } from "./math.js"; export function within(min, value, max) { return mathMax(min, mathMin(value, max)); } export function withinMaxClamp(min, value, max) { var v = within(min, value, max); return v > max ? max : v; }",
  "export default function getFreshSideObject() { return { top: 0, right: 0, bottom: 0, left: 0 }; }",
  "import getFreshSideObject from "./getFreshSideObject.js"; export default function mergePaddingObject(paddingObject) { return Object.assign({}, getFreshSideObject(), paddingObject); }",
  "export default function expandToHashMap(value, keys) { return keys.reduce(function (hashMap, key) { hashMap[key] = value; return hashMap; }, {}); }",
  "import getBasePlacement from "../utils/getBasePlacement.js"; import getLayoutRect from "../dom-utils/getLayoutRect.js"; import contains from "../dom-utils/contains.js"; import getOffsetParent from "../dom-utils/getOffsetParent.js"; import getMainAxisFromPlacement from "../utils/getMainAxisFromPlacement.js"; import { within } from "../utils/within.js"; import mergePaddingObject from "../utils/mergePaddingObject.js"; import expandToHashMap from "../utils/expandToHashMap.js"; import { left, right, basePlacements, top, bottom } from "../enums.js"; import { isHTMLElement } from "../dom-utils/instanceOf.js"; // eslint-disable-next-line import/no-unused-modules var toPaddingObject = function toPaddingObject(padding, state) { padding = typeof padding === 'function' ? padding(Object.assign({}, state.rects, { placement: state.placement })) : padding; return mergePaddingObject(typeof padding !== 'number' ? padding : expandToHashMap(padding, basePlacements)); }; function arrow(_ref) { var _state$modifiersData$; var state = _ref.state, name = _ref.name, options = _ref.options; var arrowElement = state.elements.arrow; var popperOffsets = state.modifiersData.popperOffsets; var basePlacement = getBasePlacement(state.placement); var axis = getMainAxisFromPlacement(basePlacement); var isVertical = [left, right].indexOf(basePlacement) >= 0; var len = isVertical ? 'height' : 'width'; if (!arrowElement || !popperOffsets) { return; } var paddingObject = toPaddingObject(options.padding, state); var arrowRect = getLayoutRect(arrowElement); var minProp = axis === 'y' ? top : left; var maxProp = axis === 'y' ? bottom : right; var endDiff = state.rects.reference[len] + state.rects.reference[axis] - popperOffsets[axis] - state.rects.popper[len]; var startDiff = popperOffsets[axis] - state.rects.reference[axis]; var arrowOffsetParent = getOffsetParent(arrowElement); var clientSize = arrowOffsetParent ? axis === 'y' ? arrowOffsetParent.clientHeight || 0 : arrowOffsetParent.clientWidth || 0 : 0; var centerToReference = endDiff / 2 - startDiff / 2; // Make sure the arrow doesn't overflow the popper if the center point is // outside of the popper bounds var min = paddingObject[minProp]; var max = clientSize - arrowRect[len] - paddingObject[maxProp]; var center = clientSize / 2 - arrowRect[len] / 2 + centerToReference; var offset = within(min, center, max); // Prevents breaking syntax highlighting... var axisProp = axis; state.modifiersData[name] = (_state$modifiersData$ = {}, _state$modifiersData$[axisProp] = offset, _state$modifiersData$.centerOffset = offset - center, _state$modifiersData$); } function effect(_ref2) { var state = _ref2.state, options = _ref2.options; var _options$element = options.element, arrowElement = _options$element === void 0 ? '[data-popper-arrow]' : _options$element; if (arrowElement == null) { return; } // CSS selector if (typeof arrowElement === 'string') { arrowElement = state.elements.popper.querySelector(arrowElement); if (!arrowElement) { return; } } if (process.env.NODE_ENV !== "production") { if (!isHTMLElement(arrowElement)) { console.error(['Popper: "arrow" element must be an HTMLElement (not an SVGElement).', 'To use an SVG arrow, wrap it in an HTMLElement that will be used as', 'the arrow.'].join(' ')); } } if (!contains(state.elements.popper, arrowElement)) { if (process.env.NODE_ENV !== "production") { console.error(['Popper: "arrow" modifier\'s `element` must be a child of the popper', 'element.'].join(' ')); } return; } state.elements.arrow = arrowElement; } // eslint-disable-next-line import/no-unused-modules export default { name: 'arrow', enabled: true, phase: 'main', fn: arrow, effect: effect, requires: ['popperOffsets'], requiresIfExists: ['preventOverflow'] };",
  "export default function getVariation(placement) { return placement.split('-')[1]; }",
  "import { top, left, right, bottom, end } from "../enums.js"; import getOffsetParent from "../dom-utils/getOffsetParent.js"; import getWindow from "../dom-utils/getWindow.js"; import getDocumentElement from "../dom-utils/getDocumentElement.js"; import getComputedStyle from "../dom-utils/getComputedStyle.js"; import getBasePlacement from "../utils/getBasePlacement.js"; import getVariation from "../utils/getVariation.js"; import { round } from "../utils/math.js"; // eslint-disable-next-line import/no-unused-modules var unsetSides = { top: 'auto', right: 'auto', bottom: 'auto', left: 'auto' }; // Round the offsets to the nearest suitable subpixel based on the DPR. // Zooming can change the DPR, but it seems to report a value that will // cleanly divide the values into the appropriate subpixels. function roundOffsetsByDPR(_ref, win) { var x = _ref.x, y = _ref.y; var dpr = win.devicePixelRatio || 1; return { x: round(x * dpr) / dpr || 0, y: round(y * dpr) / dpr || 0 }; } export function mapToStyles(_ref2) { var _Object$assign2; var popper = _ref2.popper, popperRect = _ref2.popperRect, placement = _ref2.placement, variation = _ref2.variation, offsets = _ref2.offsets, position = _ref2.position, gpuAcceleration = _ref2.gpuAcceleration, adaptive = _ref2.adaptive, roundOffsets = _ref2.roundOffsets, isFixed = _ref2.isFixed; var _offsets$x = offsets.x, x = _offsets$x === void 0 ? 0 : _offsets$x, _offsets$y = offsets.y, y = _offsets$y === void 0 ? 0 : _offsets$y; var _ref3 = typeof roundOffsets === 'function' ? roundOffsets({ x: x, y: y }) : { x: x, y: y }; x = _ref3.x; y = _ref3.y; var hasX = offsets.hasOwnProperty('x'); var hasY = offsets.hasOwnProperty('y'); var sideX = left; var sideY = top; var win = window; if (adaptive) { var offsetParent = getOffsetParent(popper); var heightProp = 'clientHeight'; var widthProp = 'clientWidth'; if (offsetParent === getWindow(popper)) { offsetParent = getDocumentElement(popper); if (getComputedStyle(offsetParent).position !== 'static' && position === 'absolute') { heightProp = 'scrollHeight'; widthProp = 'scrollWidth'; } } // $FlowFixMe[incompatible-cast]: force type refinement, we compare offsetParent with window above, but Flow doesn't detect it offsetParent = offsetParent; if (placement === top || (placement === left || placement === right) && variation === end) { sideY = bottom; var offsetY = isFixed && offsetParent === win && win.visualViewport ? win.visualViewport.height : // $FlowFixMe[prop-missing] offsetParent[heightProp]; y -= offsetY - popperRect.height; y *= gpuAcceleration ? 1 : -1; } if (placement === left || (placement === top || placement === bottom) && variation === end) { sideX = right; var offsetX = isFixed && offsetParent === win && win.visualViewport ? win.visualViewport.width : // $FlowFixMe[prop-missing] offsetParent[widthProp]; x -= offsetX - popperRect.width; x *= gpuAcceleration ? 1 : -1; } } var commonStyles = Object.assign({ position: position }, adaptive && unsetSides); var _ref4 = roundOffsets === true ? roundOffsetsByDPR({ x: x, y: y }, getWindow(popper)) : { x: x, y: y }; x = _ref4.x; y = _ref4.y; if (gpuAcceleration) { var _Object$assign; return Object.assign({}, commonStyles, (_Object$assign = {}, _Object$assign[sideY] = hasY ? '0' : '', _Object$assign[sideX] = hasX ? '0' : '', _Object$assign.transform = (win.devicePixelRatio || 1) <= 1 ? "translate(" + x + "px, " + y + "px)" : "translate3d(" + x + "px, " + y + "px, 0)", _Object$assign)); } return Object.assign({}, commonStyles, (_Object$assign2 = {}, _Object$assign2[sideY] = hasY ? y + "px" : '', _Object$assign2[sideX] = hasX ? x + "px" : '', _Object$assign2.transform = '', _Object$assign2)); } function computeStyles(_ref5) { var state = _ref5.state, options = _ref5.options; var _options$gpuAccelerat = options.gpuAcceleration, gpuAcceleration = _options$gpuAccelerat === void 0 ? true : _options$gpuAccelerat, _options$adaptive = options.adaptive, adaptive = _options$adaptive === void 0 ? true : _options$adaptive, _options$roundOffsets = options.roundOffsets, roundOffsets = _options$roundOffsets === void 0 ? true : _options$roundOffsets; if (process.env.NODE_ENV !== "production") { var transitionProperty = getComputedStyle(state.elements.popper).transitionProperty || ''; if (adaptive && ['transform', 'top', 'right', 'bottom', 'left'].some(function (property) { return transitionProperty.indexOf(property) >= 0; })) { console.warn(['Popper: Detected CSS transitions on at least one of the following', 'CSS properties: "transform", "top", "right", "bottom", "left".', '\n\n', 'Disable the "computeStyles" modifier\'s `adaptive` option to allow', 'for smooth transitions, or remove these properties from the CSS', 'transition declaration on the popper element if only transitioning', 'opacity or background-color for example.', '\n\n', 'We recommend using the popper element as a wrapper around an inner', 'element that can have any CSS property transitioned for animations.'].join(' ')); } } var commonStyles = { placement: getBasePlacement(state.placement), variation: getVariation(state.placement), popper: state.elements.popper, popperRect: state.rects.popper, gpuAcceleration: gpuAcceleration, isFixed: state.options.strategy === 'fixed' }; if (state.modifiersData.popperOffsets != null) { state.styles.popper = Object.assign({}, state.styles.popper, mapToStyles(Object.assign({}, commonStyles, { offsets: state.modifiersData.popperOffsets, position: state.options.strategy, adaptive: adaptive, roundOffsets: roundOffsets }))); } if (state.modifiersData.arrow != null) { state.styles.arrow = Object.assign({}, state.styles.arrow, mapToStyles(Object.assign({}, commonStyles, { offsets: state.modifiersData.arrow, position: 'absolute', adaptive: false, roundOffsets: roundOffsets }))); } state.attributes.popper = Object.assign({}, state.attributes.popper, { 'data-popper-placement': state.placement }); } // eslint-disable-next-line import/no-unused-modules export default { name: 'computeStyles', enabled: true, phase: 'beforeWrite', fn: computeStyles, data: {} };",
  "import getWindow from "../dom-utils/getWindow.js"; // eslint-disable-next-line import/no-unused-modules var passive = { passive: true }; function effect(_ref) { var state = _ref.state, instance = _ref.instance, options = _ref.options; var _options$scroll = options.scroll, scroll = _options$scroll === void 0 ? true : _options$scroll, _options$resize = options.resize, resize = _options$resize === void 0 ? true : _options$resize; var window = getWindow(state.elements.popper); var scrollParents = [].concat(state.scrollParents.reference, state.scrollParents.popper); if (scroll) { scrollParents.forEach(function (scrollParent) { scrollParent.addEventListener('scroll', instance.update, passive); }); } if (resize) { window.addEventListener('resize', instance.update, passive); } return function () { if (scroll) { scrollParents.forEach(function (scrollParent) { scrollParent.removeEventListener('scroll', instance.update, passive); }); } if (resize) { window.removeEventListener('resize', instance.update, passive); } }; } // eslint-disable-next-line import/no-unused-modules export default { name: 'eventListeners', enabled: true, phase: 'write', fn: function fn() {}, effect: effect, data: {} };",
  "var hash = { left: 'right', right: 'left', bottom: 'top', top: 'bottom' }; export default function getOppositePlacement(placement) { return placement.replace(/left|right|bottom|top/g, function (matched) { return hash[matched]; }); }",
  "var hash = { start: 'end', end: 'start' }; export default function getOppositeVariationPlacement(placement) { return placement.replace(/start|end/g, function (matched) { return hash[matched]; }); }",
  "import getWindow from "./getWindow.js"; export default function getWindowScroll(node) { var win = getWindow(node); var scrollLeft = win.pageXOffset; var scrollTop = win.pageYOffset; return { scrollLeft: scrollLeft, scrollTop: scrollTop }; }",
  "import getBoundingClientRect from "./getBoundingClientRect.js"; import getDocumentElement from "./getDocumentElement.js"; import getWindowScroll from "./getWindowScroll.js"; export default function getWindowScrollBarX(element) { // If <html> has a CSS width greater than the viewport, then this will be // incorrect for RTL. // Popper 1 is broken in this case and never had a bug report so let's assume // it's not an issue. I don't think anyone ever specifies width on <html> // anyway. // Browsers where the left scrollbar doesn't cause an issue report `0` for // this (e.g. Edge 2019, IE11, Safari) return getBoundingClientRect(getDocumentElement(element)).left + getWindowScroll(element).scrollLeft; }",
  "import getWindow from "./getWindow.js"; import getDocumentElement from "./getDocumentElement.js"; import getWindowScrollBarX from "./getWindowScrollBarX.js"; import isLayoutViewport from "./isLayoutViewport.js"; export default function getViewportRect(element, strategy) { var win = getWindow(element); var html = getDocumentElement(element); var visualViewport = win.visualViewport; var width = html.clientWidth; var height = html.clientHeight; var x = 0; var y = 0; if (visualViewport) { width = visualViewport.width; height = visualViewport.height; var layoutViewport = isLayoutViewport(); if (layoutViewport || !layoutViewport && strategy === 'fixed') { x = visualViewport.offsetLeft; y = visualViewport.offsetTop; } } return { width: width, height: height, x: x + getWindowScrollBarX(element), y: y }; }",
  "import getDocumentElement from "./getDocumentElement.js"; import getComputedStyle from "./getComputedStyle.js"; import getWindowScrollBarX from "./getWindowScrollBarX.js"; import getWindowScroll from "./getWindowScroll.js"; import { max } from "../utils/math.js"; // Gets the entire size of the scrollable document area, even extending outside // of the `<html>` and `<body>` rect bounds if horizontally scrollable export default function getDocumentRect(element) { var _element$ownerDocumen; var html = getDocumentElement(element); var winScroll = getWindowScroll(element); var body = (_element$ownerDocumen = element.ownerDocument) == null ? void 0 : _element$ownerDocumen.body; var width = max(html.scrollWidth, html.clientWidth, body ? body.scrollWidth : 0, body ? body.clientWidth : 0); var height = max(html.scrollHeight, html.clientHeight, body ? body.scrollHeight : 0, body ? body.clientHeight : 0); var x = -winScroll.scrollLeft + getWindowScrollBarX(element); var y = -winScroll.scrollTop; if (getComputedStyle(body || html).direction === 'rtl') { x += max(html.clientWidth, body ? body.clientWidth : 0) - width; } return { width: width, height: height, x: x, y: y }; }",
  "import getComputedStyle from "./getComputedStyle.js"; export default function isScrollParent(element) { // Firefox wants us to check `-x` and `-y` variations as well var _getComputedStyle = getComputedStyle(element), overflow = _getComputedStyle.overflow, overflowX = _getComputedStyle.overflowX, overflowY = _getComputedStyle.overflowY; return /auto|scroll|overlay|hidden/.test(overflow + overflowY + overflowX); }",
  "import getParentNode from "./getParentNode.js"; import isScrollParent from "./isScrollParent.js"; import getNodeName from "./getNodeName.js"; import { isHTMLElement } from "./instanceOf.js"; export default function getScrollParent(node) { if (['html', 'body', '#document'].indexOf(getNodeName(node)) >= 0) { // $FlowFixMe[incompatible-return]: assume body is always available return node.ownerDocument.body; } if (isHTMLElement(node) && isScrollParent(node)) { return node; } return getScrollParent(getParentNode(node)); }",
  "import getScrollParent from "./getScrollParent.js"; import getParentNode from "./getParentNode.js"; import getWindow from "./getWindow.js"; import isScrollParent from "./isScrollParent.js"; /* given a DOM element, return the list of all scroll parents, up the list of ancesors until we get to the top window object. This list is what we attach scroll listeners to, because if any of these parent elements scroll, we'll need to re-calculate the reference element's position. */ export default function listScrollParents(element, list) { var _element$ownerDocumen; if (list === void 0) { list = []; } var scrollParent = getScrollParent(element); var isBody = scrollParent === ((_element$ownerDocumen = element.ownerDocument) == null ? void 0 : _element$ownerDocumen.body); var win = getWindow(scrollParent); var target = isBody ? [win].concat(win.visualViewport || [], isScrollParent(scrollParent) ? scrollParent : []) : scrollParent; var updatedList = list.concat(target); return isBody ? updatedList : // $FlowFixMe[incompatible-call]: isBody tells us target will be an HTMLElement here updatedList.concat(listScrollParents(getParentNode(target))); }",
  "export default function rectToClientRect(rect) { return Object.assign({}, rect, { left: rect.x, top: rect.y, right: rect.x + rect.width, bottom: rect.y + rect.height }); }",
  "import { viewport } from "../enums.js"; import getViewportRect from "./getViewportRect.js"; import getDocumentRect from "./getDocumentRect.js"; import listScrollParents from "./listScrollParents.js"; import getOffsetParent from "./getOffsetParent.js"; import getDocumentElement from "./getDocumentElement.js"; import getComputedStyle from "./getComputedStyle.js"; import { isElement, isHTMLElement } from "./instanceOf.js"; import getBoundingClientRect from "./getBoundingClientRect.js"; import getParentNode from "./getParentNode.js"; import contains from "./contains.js"; import getNodeName from "./getNodeName.js"; import rectToClientRect from "../utils/rectToClientRect.js"; import { max, min } from "../utils/math.js"; function getInnerBoundingClientRect(element, strategy) { var rect = getBoundingClientRect(element, false, strategy === 'fixed'); rect.top = rect.top + element.clientTop; rect.left = rect.left + element.clientLeft; rect.bottom = rect.top + element.clientHeight; rect.right = rect.left + element.clientWidth; rect.width = element.clientWidth; rect.height = element.clientHeight; rect.x = rect.left; rect.y = rect.top; return rect; } function getClientRectFromMixedType(element, clippingParent, strategy) { return clippingParent === viewport ? rectToClientRect(getViewportRect(element, strategy)) : isElement(clippingParent) ? getInnerBoundingClientRect(clippingParent, strategy) : rectToClientRect(getDocumentRect(getDocumentElement(element))); } // A "clipping parent" is an overflowable container with the characteristic of // clipping (or hiding) overflowing elements with a position different from // `initial` function getClippingParents(element) { var clippingParents = listScrollParents(getParentNode(element)); var canEscapeClipping = ['absolute', 'fixed'].indexOf(getComputedStyle(element).position) >= 0; var clipperElement = canEscapeClipping && isHTMLElement(element) ? getOffsetParent(element) : element; if (!isElement(clipperElement)) { return []; } // $FlowFixMe[incompatible-return]: https://github.com/facebook/flow/issues/1414 return clippingParents.filter(function (clippingParent) { return isElement(clippingParent) && contains(clippingParent, clipperElement) && getNodeName(clippingParent) !== 'body'; }); } // Gets the maximum area that the element is visible in due to any number of // clipping parents export default function getClippingRect(element, boundary, rootBoundary, strategy) { var mainClippingParents = boundary === 'clippingParents' ? getClippingParents(element) : [].concat(boundary); var clippingParents = [].concat(mainClippingParents, [rootBoundary]); var firstClippingParent = clippingParents[0]; var clippingRect = clippingParents.reduce(function (accRect, clippingParent) { var rect = getClientRectFromMixedType(element, clippingParent, strategy); accRect.top = max(rect.top, accRect.top); accRect.right = min(rect.right, accRect.right); accRect.bottom = min(rect.bottom, accRect.bottom); accRect.left = max(rect.left, accRect.left); return accRect; }, getClientRectFromMixedType(element, firstClippingParent, strategy)); clippingRect.width = clippingRect.right - clippingRect.left; clippingRect.height = clippingRect.bottom - clippingRect.top; clippingRect.x = clippingRect.left; clippingRect.y = clippingRect.top; return clippingRect; }",
  "import getBasePlacement from "./getBasePlacement.js"; import getVariation from "./getVariation.js"; import getMainAxisFromPlacement from "./getMainAxisFromPlacement.js"; import { top, right, bottom, left, start, end } from "../enums.js"; export default function computeOffsets(_ref) { var reference = _ref.reference, element = _ref.element, placement = _ref.placement; var basePlacement = placement ? getBasePlacement(placement) : null; var variation = placement ? getVariation(placement) : null; var commonX = reference.x + reference.width / 2 - element.width / 2; var commonY = reference.y + reference.height / 2 - element.height / 2; var offsets; switch (basePlacement) { case top: offsets = { x: commonX, y: reference.y - element.height }; break; case bottom: offsets = { x: commonX, y: reference.y + reference.height }; break; case right: offsets = { x: reference.x + reference.width, y: commonY }; break; case left: offsets = { x: reference.x - element.width, y: commonY }; break; default: offsets = { x: reference.x, y: reference.y }; } var mainAxis = basePlacement ? getMainAxisFromPlacement(basePlacement) : null; if (mainAxis != null) { var len = mainAxis === 'y' ? 'height' : 'width'; switch (variation) { case start: offsets[mainAxis] = offsets[mainAxis] - (reference[len] / 2 - element[len] / 2); break; case end: offsets[mainAxis] = offsets[mainAxis] + (reference[len] / 2 - element[len] / 2); break; default: } } return offsets; }",
  "import getClippingRect from "../dom-utils/getClippingRect.js"; import getDocumentElement from "../dom-utils/getDocumentElement.js"; import getBoundingClientRect from "../dom-utils/getBoundingClientRect.js"; import computeOffsets from "./computeOffsets.js"; import rectToClientRect from "./rectToClientRect.js"; import { clippingParents, reference, popper, bottom, top, right, basePlacements, viewport } from "../enums.js"; import { isElement } from "../dom-utils/instanceOf.js"; import mergePaddingObject from "./mergePaddingObject.js"; import expandToHashMap from "./expandToHashMap.js"; // eslint-disable-next-line import/no-unused-modules export default function detectOverflow(state, options) { if (options === void 0) { options = {}; } var _options = options, _options$placement = _options.placement, placement = _options$placement === void 0 ? state.placement : _options$placement, _options$strategy = _options.strategy, strategy = _options$strategy === void 0 ? state.strategy : _options$strategy, _options$boundary = _options.boundary, boundary = _options$boundary === void 0 ? clippingParents : _options$boundary, _options$rootBoundary = _options.rootBoundary, rootBoundary = _options$rootBoundary === void 0 ? viewport : _options$rootBoundary, _options$elementConte = _options.elementContext, elementContext = _options$elementConte === void 0 ? popper : _options$elementConte, _options$altBoundary = _options.altBoundary, altBoundary = _options$altBoundary === void 0 ? false : _options$altBoundary, _options$padding = _options.padding, padding = _options$padding === void 0 ? 0 : _options$padding; var paddingObject = mergePaddingObject(typeof padding !== 'number' ? padding : expandToHashMap(padding, basePlacements)); var altContext = elementContext === popper ? reference : popper; var popperRect = state.rects.popper; var element = state.elements[altBoundary ? altContext : elementContext]; var clippingClientRect = getClippingRect(isElement(element) ? element : element.contextElement || getDocumentElement(state.elements.popper), boundary, rootBoundary, strategy); var referenceClientRect = getBoundingClientRect(state.elements.reference); var popperOffsets = computeOffsets({ reference: referenceClientRect, element: popperRect, strategy: 'absolute', placement: placement }); var popperClientRect = rectToClientRect(Object.assign({}, popperRect, popperOffsets)); var elementClientRect = elementContext === popper ? popperClientRect : referenceClientRect; // positive = overflowing the clipping rect // 0 or negative = within the clipping rect var overflowOffsets = { top: clippingClientRect.top - elementClientRect.top + paddingObject.top, bottom: elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom, left: clippingClientRect.left - elementClientRect.left + paddingObject.left, right: elementClientRect.right - clippingClientRect.right + paddingObject.right }; var offsetData = state.modifiersData.offset; // Offsets can be applied only to the popper element if (elementContext === popper && offsetData) { var offset = offsetData[placement]; Object.keys(overflowOffsets).forEach(function (key) { var multiply = [right, bottom].indexOf(key) >= 0 ? 1 : -1; var axis = [top, bottom].indexOf(key) >= 0 ? 'y' : 'x'; overflowOffsets[key] += offset[axis] * multiply; }); } return overflowOffsets; }",
  "import getVariation from "./getVariation.js"; import { variationPlacements, basePlacements, placements as allPlacements } from "../enums.js"; import detectOverflow from "./detectOverflow.js"; import getBasePlacement from "./getBasePlacement.js"; export default function computeAutoPlacement(state, options) { if (options === void 0) { options = {}; } var _options = options, placement = _options.placement, boundary = _options.boundary, rootBoundary = _options.rootBoundary, padding = _options.padding, flipVariations = _options.flipVariations, _options$allowedAutoP = _options.allowedAutoPlacements, allowedAutoPlacements = _options$allowedAutoP === void 0 ? allPlacements : _options$allowedAutoP; var variation = getVariation(placement); var placements = variation ? flipVariations ? variationPlacements : variationPlacements.filter(function (placement) { return getVariation(placement) === variation; }) : basePlacements; var allowedPlacements = placements.filter(function (placement) { return allowedAutoPlacements.indexOf(placement) >= 0; }); if (allowedPlacements.length === 0) { allowedPlacements = placements; if (process.env.NODE_ENV !== "production") { console.error(['Popper: The `allowedAutoPlacements` option did not allow any', 'placements. Ensure the `placement` option matches the variation', 'of the allowed placements.', 'For example, "auto" cannot be used to allow "bottom-start".', 'Use "auto-start" instead.'].join(' ')); } } // $FlowFixMe[incompatible-type]: Flow seems to have problems with two array unions... var overflows = allowedPlacements.reduce(function (acc, placement) { acc[placement] = detectOverflow(state, { placement: placement, boundary: boundary, rootBoundary: rootBoundary, padding: padding })[getBasePlacement(placement)]; return acc; }, {}); return Object.keys(overflows).sort(function (a, b) { return overflows[a] - overflows[b]; }); }",
  "import getOppositePlacement from "../utils/getOppositePlacement.js"; import getBasePlacement from "../utils/getBasePlacement.js"; import getOppositeVariationPlacement from "../utils/getOppositeVariationPlacement.js"; import detectOverflow from "../utils/detectOverflow.js"; import computeAutoPlacement from "../utils/computeAutoPlacement.js"; import { bottom, top, start, right, left, auto } from "../enums.js"; import getVariation from "../utils/getVariation.js"; // eslint-disable-next-line import/no-unused-modules function getExpandedFallbackPlacements(placement) { if (getBasePlacement(placement) === auto) { return []; } var oppositePlacement = getOppositePlacement(placement); return [getOppositeVariationPlacement(placement), oppositePlacement, getOppositeVariationPlacement(oppositePlacement)]; } function flip(_ref) { var state = _ref.state, options = _ref.options, name = _ref.name; if (state.modifiersData[name]._skip) { return; } var _options$mainAxis = options.mainAxis, checkMainAxis = _options$mainAxis === void 0 ? true : _options$mainAxis, _options$altAxis = options.altAxis, checkAltAxis = _options$altAxis === void 0 ? true : _options$altAxis, specifiedFallbackPlacements = options.fallbackPlacements, padding = options.padding, boundary = options.boundary, rootBoundary = options.rootBoundary, altBoundary = options.altBoundary, _options$flipVariatio = options.flipVariations, flipVariations = _options$flipVariatio === void 0 ? true : _options$flipVariatio, allowedAutoPlacements = options.allowedAutoPlacements; var preferredPlacement = state.options.placement; var basePlacement = getBasePlacement(preferredPlacement); var isBasePlacement = basePlacement === preferredPlacement; var fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipVariations ? [getOppositePlacement(preferredPlacement)] : getExpandedFallbackPlacements(preferredPlacement)); var placements = [preferredPlacement].concat(fallbackPlacements).reduce(function (acc, placement) { return acc.concat(getBasePlacement(placement) === auto ? computeAutoPlacement(state, { placement: placement, boundary: boundary, rootBoundary: rootBoundary, padding: padding, flipVariations: flipVariations, allowedAutoPlacements: allowedAutoPlacements }) : placement); }, []); var referenceRect = state.rects.reference; var popperRect = state.rects.popper; var checksMap = new Map(); var makeFallbackChecks = true; var firstFittingPlacement = placements[0]; for (var i = 0; i < placements.length; i++) { var placement = placements[i]; var _basePlacement = getBasePlacement(placement); var isStartVariation = getVariation(placement) === start; var isVertical = [top, bottom].indexOf(_basePlacement) >= 0; var len = isVertical ? 'width' : 'height'; var overflow = detectOverflow(state, { placement: placement, boundary: boundary, rootBoundary: rootBoundary, altBoundary: altBoundary, padding: padding }); var mainVariationSide = isVertical ? isStartVariation ? right : left : isStartVariation ? bottom : top; if (referenceRect[len] > popperRect[len]) { mainVariationSide = getOppositePlacement(mainVariationSide); } var altVariationSide = getOppositePlacement(mainVariationSide); var checks = []; if (checkMainAxis) { checks.push(overflow[_basePlacement] <= 0); } if (checkAltAxis) { checks.push(overflow[mainVariationSide] <= 0, overflow[altVariationSide] <= 0); } if (checks.every(function (check) { return check; })) { firstFittingPlacement = placement; makeFallbackChecks = false; break; } checksMap.set(placement, checks); } if (makeFallbackChecks) { // `2` may be desired in some cases – research later var numberOfChecks = flipVariations ? 3 : 1; var _loop = function _loop(_i) { var fittingPlacement = placements.find(function (placement) { var checks = checksMap.get(placement); if (checks) { return checks.slice(0, _i).every(function (check) { return check; }); } }); if (fittingPlacement) { firstFittingPlacement = fittingPlacement; return "break"; } }; for (var _i = numberOfChecks; _i > 0; _i--) { var _ret = _loop(_i); if (_ret === "break") break; } } if (state.placement !== firstFittingPlacement) { state.modifiersData[name]._skip = true; state.placement = firstFittingPlacement; state.reset = true; } } // eslint-disable-next-line import/no-unused-modules export default { name: 'flip', enabled: true, phase: 'main', fn: flip, requiresIfExists: ['offset'], data: { _skip: false } };",
  "import { top, bottom, left, right } from "../enums.js"; import detectOverflow from "../utils/detectOverflow.js"; function getSideOffsets(overflow, rect, preventedOffsets) { if (preventedOffsets === void 0) { preventedOffsets = { x: 0, y: 0 }; } return { top: overflow.top - rect.height - preventedOffsets.y, right: overflow.right - rect.width + preventedOffsets.x, bottom: overflow.bottom - rect.height + preventedOffsets.y, left: overflow.left - rect.width - preventedOffsets.x }; } function isAnySideFullyClipped(overflow) { return [top, right, bottom, left].some(function (side) { return overflow[side] >= 0; }); } function hide(_ref) { var state = _ref.state, name = _ref.name; var referenceRect = state.rects.reference; var popperRect = state.rects.popper; var preventedOffsets = state.modifiersData.preventOverflow; var referenceOverflow = detectOverflow(state, { elementContext: 'reference' }); var popperAltOverflow = detectOverflow(state, { altBoundary: true }); var referenceClippingOffsets = getSideOffsets(referenceOverflow, referenceRect); var popperEscapeOffsets = getSideOffsets(popperAltOverflow, popperRect, preventedOffsets); var isReferenceHidden = isAnySideFullyClipped(referenceClippingOffsets); var hasPopperEscaped = isAnySideFullyClipped(popperEscapeOffsets); state.modifiersData[name] = { referenceClippingOffsets: referenceClippingOffsets, popperEscapeOffsets: popperEscapeOffsets, isReferenceHidden: isReferenceHidden, hasPopperEscaped: hasPopperEscaped }; state.attributes.popper = Object.assign({}, state.attributes.popper, { 'data-popper-reference-hidden': isReferenceHidden, 'data-popper-escaped': hasPopperEscaped }); } // eslint-disable-next-line import/no-unused-modules export default { name: 'hide', enabled: true, phase: 'main', requiresIfExists: ['preventOverflow'], fn: hide };",
  "import getBasePlacement from "../utils/getBasePlacement.js"; import { top, left, right, placements } from "../enums.js"; // eslint-disable-next-line import/no-unused-modules export function distanceAndSkiddingToXY(placement, rects, offset) { var basePlacement = getBasePlacement(placement); var invertDistance = [left, top].indexOf(basePlacement) >= 0 ? -1 : 1; var _ref = typeof offset === 'function' ? offset(Object.assign({}, rects, { placement: placement })) : offset, skidding = _ref[0], distance = _ref[1]; skidding = skidding || 0; distance = (distance || 0) * invertDistance; return [left, right].indexOf(basePlacement) >= 0 ? { x: distance, y: skidding } : { x: skidding, y: distance }; } function offset(_ref2) { var state = _ref2.state, options = _ref2.options, name = _ref2.name; var _options$offset = options.offset, offset = _options$offset === void 0 ? [0, 0] : _options$offset; var data = placements.reduce(function (acc, placement) { acc[placement] = distanceAndSkiddingToXY(placement, state.rects, offset); return acc; }, {}); var _data$state$placement = data[state.placement], x = _data$state$placement.x, y = _data$state$placement.y; if (state.modifiersData.popperOffsets != null) { state.modifiersData.popperOffsets.x += x; state.modifiersData.popperOffsets.y += y; } state.modifiersData[name] = data; } // eslint-disable-next-line import/no-unused-modules export default { name: 'offset', enabled: true, phase: 'main', requires: ['popperOffsets'], fn: offset };",
  "import computeOffsets from "../utils/computeOffsets.js"; function popperOffsets(_ref) { var state = _ref.state, name = _ref.name; // Offsets are the actual position the popper needs to have to be // properly positioned near its reference element // This is the most basic placement, and will be adjusted by // the modifiers in the next step state.modifiersData[name] = computeOffsets({ reference: state.rects.reference, element: state.rects.popper, strategy: 'absolute', placement: state.placement }); } // eslint-disable-next-line import/no-unused-modules export default { name: 'popperOffsets', enabled: true, phase: 'read', fn: popperOffsets, data: {} };",
  "export default function getAltAxis(axis) { return axis === 'x' ? 'y' : 'x'; }",
  "import { top, left, right, bottom, start } from "../enums.js"; import getBasePlacement from "../utils/getBasePlacement.js"; import getMainAxisFromPlacement from "../utils/getMainAxisFromPlacement.js"; import getAltAxis from "../utils/getAltAxis.js"; import { within, withinMaxClamp } from "../utils/within.js"; import getLayoutRect from "../dom-utils/getLayoutRect.js"; import getOffsetParent from "../dom-utils/getOffsetParent.js"; import detectOverflow from "../utils/detectOverflow.js"; import getVariation from "../utils/getVariation.js"; import getFreshSideObject from "../utils/getFreshSideObject.js"; import { min as mathMin, max as mathMax } from "../utils/math.js"; function preventOverflow(_ref) { var state = _ref.state, options = _ref.options, name = _ref.name; var _options$mainAxis = options.mainAxis, checkMainAxis = _options$mainAxis === void 0 ? true : _options$mainAxis, _options$altAxis = options.altAxis, checkAltAxis = _options$altAxis === void 0 ? false : _options$altAxis, boundary = options.boundary, rootBoundary = options.rootBoundary, altBoundary = options.altBoundary, padding = options.padding, _options$tether = options.tether, tether = _options$tether === void 0 ? true : _options$tether, _options$tetherOffset = options.tetherOffset, tetherOffset = _options$tetherOffset === void 0 ? 0 : _options$tetherOffset; var overflow = detectOverflow(state, { boundary: boundary, rootBoundary: rootBoundary, padding: padding, altBoundary: altBoundary }); var basePlacement = getBasePlacement(state.placement); var variation = getVariation(state.placement); var isBasePlacement = !variation; var mainAxis = getMainAxisFromPlacement(basePlacement); var altAxis = getAltAxis(mainAxis); var popperOffsets = state.modifiersData.popperOffsets; var referenceRect = state.rects.reference; var popperRect = state.rects.popper; var tetherOffsetValue = typeof tetherOffset === 'function' ? tetherOffset(Object.assign({}, state.rects, { placement: state.placement })) : tetherOffset; var normalizedTetherOffsetValue = typeof tetherOffsetValue === 'number' ? { mainAxis: tetherOffsetValue, altAxis: tetherOffsetValue } : Object.assign({ mainAxis: 0, altAxis: 0 }, tetherOffsetValue); var offsetModifierState = state.modifiersData.offset ? state.modifiersData.offset[state.placement] : null; var data = { x: 0, y: 0 }; if (!popperOffsets) { return; } if (checkMainAxis) { var _offsetModifierState$; var mainSide = mainAxis === 'y' ? top : left; var altSide = mainAxis === 'y' ? bottom : right; var len = mainAxis === 'y' ? 'height' : 'width'; var offset = popperOffsets[mainAxis]; var min = offset + overflow[mainSide]; var max = offset - overflow[altSide]; var additive = tether ? -popperRect[len] / 2 : 0; var minLen = variation === start ? referenceRect[len] : popperRect[len]; var maxLen = variation === start ? -popperRect[len] : -referenceRect[len]; // We need to include the arrow in the calculation so the arrow doesn't go // outside the reference bounds var arrowElement = state.elements.arrow; var arrowRect = tether && arrowElement ? getLayoutRect(arrowElement) : { width: 0, height: 0 }; var arrowPaddingObject = state.modifiersData['arrow#persistent'] ? state.modifiersData['arrow#persistent'].padding : getFreshSideObject(); var arrowPaddingMin = arrowPaddingObject[mainSide]; var arrowPaddingMax = arrowPaddingObject[altSide]; // If the reference length is smaller than the arrow length, we don't want // to include its full size in the calculation. If the reference is small // and near the edge of a boundary, the popper can overflow even if the // reference is not overflowing as well (e.g. virtual elements with no // width or height) var arrowLen = within(0, referenceRect[len], arrowRect[len]); var minOffset = isBasePlacement ? referenceRect[len] / 2 - additive - arrowLen - arrowPaddingMin - normalizedTetherOffsetValue.mainAxis : minLen - arrowLen - arrowPaddingMin - normalizedTetherOffsetValue.mainAxis; var maxOffset = isBasePlacement ? -referenceRect[len] / 2 + additive + arrowLen + arrowPaddingMax + normalizedTetherOffsetValue.mainAxis : maxLen + arrowLen + arrowPaddingMax + normalizedTetherOffsetValue.mainAxis; var arrowOffsetParent = state.elements.arrow && getOffsetParent(state.elements.arrow); var clientOffset = arrowOffsetParent ? mainAxis === 'y' ? arrowOffsetParent.clientTop || 0 : arrowOffsetParent.clientLeft || 0 : 0; var offsetModifierValue = (_offsetModifierState$ = offsetModifierState == null ? void 0 : offsetModifierState[mainAxis]) != null ? _offsetModifierState$ : 0; var tetherMin = offset + minOffset - offsetModifierValue - clientOffset; var tetherMax = offset + maxOffset - offsetModifierValue; var preventedOffset = within(tether ? mathMin(min, tetherMin) : min, offset, tether ? mathMax(max, tetherMax) : max); popperOffsets[mainAxis] = preventedOffset; data[mainAxis] = preventedOffset - offset; } if (checkAltAxis) { var _offsetModifierState$2; var _mainSide = mainAxis === 'x' ? top : left; var _altSide = mainAxis === 'x' ? bottom : right; var _offset = popperOffsets[altAxis]; var _len = altAxis === 'y' ? 'height' : 'width'; var _min = _offset + overflow[_mainSide]; var _max = _offset - overflow[_altSide]; var isOriginSide = [top, left].indexOf(basePlacement) !== -1; var _offsetModifierValue = (_offsetModifierState$2 = offsetModifierState == null ? void 0 : offsetModifierState[altAxis]) != null ? _offsetModifierState$2 : 0; var _tetherMin = isOriginSide ? _min : _offset - referenceRect[_len] - popperRect[_len] - _offsetModifierValue + normalizedTetherOffsetValue.altAxis; var _tetherMax = isOriginSide ? _offset + referenceRect[_len] + popperRect[_len] - _offsetModifierValue - normalizedTetherOffsetValue.altAxis : _max; var _preventedOffset = tether && isOriginSide ? withinMaxClamp(_tetherMin, _offset, _tetherMax) : within(tether ? _tetherMin : _min, _offset, tether ? _tetherMax : _max); popperOffsets[altAxis] = _preventedOffset; data[altAxis] = _preventedOffset - _offset; } state.modifiersData[name] = data; } // eslint-disable-next-line import/no-unused-modules export default { name: 'preventOverflow', enabled: true, phase: 'main', fn: preventOverflow, requiresIfExists: ['offset'] };",
  "export default function getHTMLElementScroll(element) { return { scrollLeft: element.scrollLeft, scrollTop: element.scrollTop }; }",
  "import getWindowScroll from "./getWindowScroll.js"; import getWindow from "./getWindow.js"; import { isHTMLElement } from "./instanceOf.js"; import getHTMLElementScroll from "./getHTMLElementScroll.js"; export default function getNodeScroll(node) { if (node === getWindow(node) || !isHTMLElement(node)) { return getWindowScroll(node); } else { return getHTMLElementScroll(node); } }",
  "import getBoundingClientRect from "./getBoundingClientRect.js"; import getNodeScroll from "./getNodeScroll.js"; import getNodeName from "./getNodeName.js"; import { isHTMLElement } from "./instanceOf.js"; import getWindowScrollBarX from "./getWindowScrollBarX.js"; import getDocumentElement from "./getDocumentElement.js"; import isScrollParent from "./isScrollParent.js"; import { round } from "../utils/math.js"; function isElementScaled(element) { var rect = element.getBoundingClientRect(); var scaleX = round(rect.width) / element.offsetWidth || 1; var scaleY = round(rect.height) / element.offsetHeight || 1; return scaleX !== 1 || scaleY !== 1; } // Returns the composite rect of an element relative to its offsetParent. // Composite means it takes into account transforms as well as layout. export default function getCompositeRect(elementOrVirtualElement, offsetParent, isFixed) { if (isFixed === void 0) { isFixed = false; } var isOffsetParentAnElement = isHTMLElement(offsetParent); var offsetParentIsScaled = isHTMLElement(offsetParent) && isElementScaled(offsetParent); var documentElement = getDocumentElement(offsetParent); var rect = getBoundingClientRect(elementOrVirtualElement, offsetParentIsScaled, isFixed); var scroll = { scrollLeft: 0, scrollTop: 0 }; var offsets = { x: 0, y: 0 }; if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) { if (getNodeName(offsetParent) !== 'body' || // https://github.com/popperjs/popper-core/issues/1078 isScrollParent(documentElement)) { scroll = getNodeScroll(offsetParent); } if (isHTMLElement(offsetParent)) { offsets = getBoundingClientRect(offsetParent, true); offsets.x += offsetParent.clientLeft; offsets.y += offsetParent.clientTop; } else if (documentElement) { offsets.x = getWindowScrollBarX(documentElement); } } return { x: rect.left + scroll.scrollLeft - offsets.x, y: rect.top + scroll.scrollTop - offsets.y, width: rect.width, height: rect.height }; }",
  "import { modifierPhases } from "../enums.js"; // source: https://stackoverflow.com/questions/49875255 function order(modifiers) { var map = new Map(); var visited = new Set(); var result = []; modifiers.forEach(function (modifier) { map.set(modifier.name, modifier); }); // On visiting object, check for its dependencies and visit them recursively function sort(modifier) { visited.add(modifier.name); var requires = [].concat(modifier.requires || [], modifier.requiresIfExists || []); requires.forEach(function (dep) { if (!visited.has(dep)) { var depModifier = map.get(dep); if (depModifier) { sort(depModifier); } } }); result.push(modifier); } modifiers.forEach(function (modifier) { if (!visited.has(modifier.name)) { // check for visited object sort(modifier); } }); return result; } export default function orderModifiers(modifiers) { // order based on dependencies var orderedModifiers = order(modifiers); // order based on phase return modifierPhases.reduce(function (acc, phase) { return acc.concat(orderedModifiers.filter(function (modifier) { return modifier.phase === phase; })); }, []); }",
  "export default function debounce(fn) { var pending; return function () { if (!pending) { pending = new Promise(function (resolve) { Promise.resolve().then(function () { pending = undefined; resolve(fn()); }); }); } return pending; }; }",
  "export default function format(str) { for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) { args[_key - 1] = arguments[_key]; } return [].concat(args).reduce(function (p, c) { return p.replace(/%s/, c); }, str); }",
  "import format from "./format.js"; import { modifierPhases } from "../enums.js"; var INVALID_MODIFIER_ERROR = 'Popper: modifier "%s" provided an invalid %s property, expected %s but got %s'; var MISSING_DEPENDENCY_ERROR = 'Popper: modifier "%s" requires "%s", but "%s" modifier is not available'; var VALID_PROPERTIES = ['name', 'enabled', 'phase', 'fn', 'effect', 'requires', 'options']; export default function validateModifiers(modifiers) { modifiers.forEach(function (modifier) { [].concat(Object.keys(modifier), VALID_PROPERTIES) // IE11-compatible replacement for `new Set(iterable)` .filter(function (value, index, self) { return self.indexOf(value) === index; }).forEach(function (key) { switch (key) { case 'name': if (typeof modifier.name !== 'string') { console.error(format(INVALID_MODIFIER_ERROR, String(modifier.name), '"name"', '"string"', "\"" + String(modifier.name) + "\"")); } break; case 'enabled': if (typeof modifier.enabled !== 'boolean') { console.error(format(INVALID_MODIFIER_ERROR, modifier.name, '"enabled"', '"boolean"', "\"" + String(modifier.enabled) + "\"")); } break; case 'phase': if (modifierPhases.indexOf(modifier.phase) < 0) { console.error(format(INVALID_MODIFIER_ERROR, modifier.name, '"phase"', "either " + modifierPhases.join(', '), "\"" + String(modifier.phase) + "\"")); } break; case 'fn': if (typeof modifier.fn !== 'function') { console.error(format(INVALID_MODIFIER_ERROR, modifier.name, '"fn"', '"function"', "\"" + String(modifier.fn) + "\"")); } break; case 'effect': if (modifier.effect != null && typeof modifier.effect !== 'function') { console.error(format(INVALID_MODIFIER_ERROR, modifier.name, '"effect"', '"function"', "\"" + String(modifier.fn) + "\"")); } break; case 'requires': if (modifier.requires != null && !Array.isArray(modifier.requires)) { console.error(format(INVALID_MODIFIER_ERROR, modifier.name, '"requires"', '"array"', "\"" + String(modifier.requires) + "\"")); } break; case 'requiresIfExists': if (!Array.isArray(modifier.requiresIfExists)) { console.error(format(INVALID_MODIFIER_ERROR, modifier.name, '"requiresIfExists"', '"array"', "\"" + String(modifier.requiresIfExists) + "\"")); } break; case 'options': case 'data': break; default: console.error("PopperJS: an invalid property has been provided to the \"" + modifier.name + "\" modifier, valid properties are " + VALID_PROPERTIES.map(function (s) { return "\"" + s + "\""; }).join(', ') + "; but \"" + key + "\" was provided."); } modifier.requires && modifier.requires.forEach(function (requirement) { if (modifiers.find(function (mod) { return mod.name === requirement; }) == null) { console.error(format(MISSING_DEPENDENCY_ERROR, String(modifier.name), requirement, requirement)); } }); }); }); }",
  "export default function uniqueBy(arr, fn) { var identifiers = new Set(); return arr.filter(function (item) { var identifier = fn(item); if (!identifiers.has(identifier)) { identifiers.add(identifier); return true; } }); }",
  "export default function mergeByName(modifiers) { var merged = modifiers.reduce(function (merged, current) { var existing = merged[current.name]; merged[current.name] = existing ? Object.assign({}, existing, current, { options: Object.assign({}, existing.options, current.options), data: Object.assign({}, existing.data, current.data) }) : current; return merged; }, {}); // IE11 does not support Object.values return Object.keys(merged).map(function (key) { return merged[key]; }); }",
  "import getCompositeRect from "./dom-utils/getCompositeRect.js"; import getLayoutRect from "./dom-utils/getLayoutRect.js"; import listScrollParents from "./dom-utils/listScrollParents.js"; import getOffsetParent from "./dom-utils/getOffsetParent.js"; import getComputedStyle from "./dom-utils/getComputedStyle.js"; import orderModifiers from "./utils/orderModifiers.js"; import debounce from "./utils/debounce.js"; import validateModifiers from "./utils/validateModifiers.js"; import uniqueBy from "./utils/uniqueBy.js"; import getBasePlacement from "./utils/getBasePlacement.js"; import mergeByName from "./utils/mergeByName.js"; import detectOverflow from "./utils/detectOverflow.js"; import { isElement } from "./dom-utils/instanceOf.js"; import { auto } from "./enums.js"; var INVALID_ELEMENT_ERROR = 'Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.'; var INFINITE_LOOP_ERROR = 'Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.'; var DEFAULT_OPTIONS = { placement: 'bottom', modifiers: [], strategy: 'absolute' }; function areValidElements() { for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) { args[_key] = arguments[_key]; } return !args.some(function (element) { return !(element && typeof element.getBoundingClientRect === 'function'); }); } export function popperGenerator(generatorOptions) { if (generatorOptions === void 0) { generatorOptions = {}; } var _generatorOptions = generatorOptions, _generatorOptions$def = _generatorOptions.defaultModifiers, defaultModifiers = _generatorOptions$def === void 0 ? [] : _generatorOptions$def, _generatorOptions$def2 = _generatorOptions.defaultOptions, defaultOptions = _generatorOptions$def2 === void 0 ? DEFAULT_OPTIONS : _generatorOptions$def2; return function createPopper(reference, popper, options) { if (options === void 0) { options = defaultOptions; } var state = { placement: 'bottom', orderedModifiers: [], options: Object.assign({}, DEFAULT_OPTIONS, defaultOptions), modifiersData: {}, elements: { reference: reference, popper: popper }, attributes: {}, styles: {} }; var effectCleanupFns = []; var isDestroyed = false; var instance = { state: state, setOptions: function setOptions(setOptionsAction) { var options = typeof setOptionsAction === 'function' ? setOptionsAction(state.options) : setOptionsAction; cleanupModifierEffects(); state.options = Object.assign({}, defaultOptions, state.options, options); state.scrollParents = { reference: isElement(reference) ? listScrollParents(reference) : reference.contextElement ? listScrollParents(reference.contextElement) : [], popper: listScrollParents(popper) }; // Orders the modifiers based on their dependencies and `phase` // properties var orderedModifiers = orderModifiers(mergeByName([].concat(defaultModifiers, state.options.modifiers))); // Strip out disabled modifiers state.orderedModifiers = orderedModifiers.filter(function (m) { return m.enabled; }); // Validate the provided modifiers so that the consumer will get warned // if one of the modifiers is invalid for any reason if (process.env.NODE_ENV !== "production") { var modifiers = uniqueBy([].concat(orderedModifiers, state.options.modifiers), function (_ref) { var name = _ref.name; return name; }); validateModifiers(modifiers); if (getBasePlacement(state.options.placement) === auto) { var flipModifier = state.orderedModifiers.find(function (_ref2) { var name = _ref2.name; return name === 'flip'; }); if (!flipModifier) { console.error(['Popper: "auto" placements require the "flip" modifier be', 'present and enabled to work.'].join(' ')); } } var _getComputedStyle = getComputedStyle(popper), marginTop = _getComputedStyle.marginTop, marginRight = _getComputedStyle.marginRight, marginBottom = _getComputedStyle.marginBottom, marginLeft = _getComputedStyle.marginLeft; // We no longer take into account `margins` on the popper, and it can // cause bugs with positioning, so we'll warn the consumer if ([marginTop, marginRight, marginBottom, marginLeft].some(function (margin) { return parseFloat(margin); })) { console.warn(['Popper: CSS "margin" styles cannot be used to apply padding', 'between the popper and its reference element or boundary.', 'To replicate margin, use the `offset` modifier, as well as', 'the `padding` option in the `preventOverflow` and `flip`', 'modifiers.'].join(' ')); } } runModifierEffects(); return instance.update(); }, // Sync update – it will always be executed, even if not necessary. This // is useful for low frequency updates where sync behavior simplifies the // logic. // For high frequency updates (e.g. `resize` and `scroll` events), always // prefer the async Popper#update method forceUpdate: function forceUpdate() { if (isDestroyed) { return; } var _state$elements = state.elements, reference = _state$elements.reference, popper = _state$elements.popper; // Don't proceed if `reference` or `popper` are not valid elements // anymore if (!areValidElements(reference, popper)) { if (process.env.NODE_ENV !== "production") { console.error(INVALID_ELEMENT_ERROR); } return; } // Store the reference and popper rects to be read by modifiers state.rects = { reference: getCompositeRect(reference, getOffsetParent(popper), state.options.strategy === 'fixed'), popper: getLayoutRect(popper) }; // Modifiers have the ability to reset the current update cycle. The // most common use case for this is the `flip` modifier changing the // placement, which then needs to re-run all the modifiers, because the // logic was previously ran for the previous placement and is therefore // stale/incorrect state.reset = false; state.placement = state.options.placement; // On each update cycle, the `modifiersData` property for each modifier // is filled with the initial data specified by the modifier. This means // it doesn't persist and is fresh on each update. // To ensure persistent data, use `${name}#persistent` state.orderedModifiers.forEach(function (modifier) { return state.modifiersData[modifier.name] = Object.assign({}, modifier.data); }); var __debug_loops__ = 0; for (var index = 0; index < state.orderedModifiers.length; index++) { if (process.env.NODE_ENV !== "production") { __debug_loops__ += 1; if (__debug_loops__ > 100) { console.error(INFINITE_LOOP_ERROR); break; } } if (state.reset === true) { state.reset = false; index = -1; continue; } var _state$orderedModifie = state.orderedModifiers[index], fn = _state$orderedModifie.fn, _state$orderedModifie2 = _state$orderedModifie.options, _options = _state$orderedModifie2 === void 0 ? {} : _state$orderedModifie2, name = _state$orderedModifie.name; if (typeof fn === 'function') { state = fn({ state: state, options: _options, name: name, instance: instance }) || state; } } }, // Async and optimistically optimized update – it will not be executed if // not necessary (debounced to run at most once-per-tick) update: debounce(function () { return new Promise(function (resolve) { instance.forceUpdate(); resolve(state); }); }), destroy: function destroy() { cleanupModifierEffects(); isDestroyed = true; } }; if (!areValidElements(reference, popper)) { if (process.env.NODE_ENV !== "production") { console.error(INVALID_ELEMENT_ERROR); } return instance; } instance.setOptions(options).then(function (state) { if (!isDestroyed && options.onFirstUpdate) { options.onFirstUpdate(state); } }); // Modifiers have the ability to execute arbitrary code before the first // update cycle runs. They will be executed in the same order as the update // cycle. This is useful when a modifier adds some persistent data that // other modifiers need to use, but the modifier is run after the dependent // one. function runModifierEffects() { state.orderedModifiers.forEach(function (_ref3) { var name = _ref3.name, _ref3$options = _ref3.options, options = _ref3$options === void 0 ? {} : _ref3$options, effect = _ref3.effect; if (typeof effect === 'function') { var cleanupFn = effect({ state: state, name: name, instance: instance, options: options }); var noopFn = function noopFn() {}; effectCleanupFns.push(cleanupFn || noopFn); } }); } function cleanupModifierEffects() { effectCleanupFns.forEach(function (fn) { return fn(); }); effectCleanupFns = []; } return instance; }; } export var createPopper = /*#__PURE__*/popperGenerator(); // eslint-disable-next-line import/no-unused-modules export { detectOverflow };",
  "import { popperGenerator, detectOverflow } from "./createPopper.js"; import eventListeners from "./modifiers/eventListeners.js"; import popperOffsets from "./modifiers/popperOffsets.js"; import computeStyles from "./modifiers/computeStyles.js"; import applyStyles from "./modifiers/applyStyles.js"; var defaultModifiers = [eventListeners, popperOffsets, computeStyles, applyStyles]; var createPopper = /*#__PURE__*/popperGenerator({ defaultModifiers: defaultModifiers }); // eslint-disable-next-line import/no-unused-modules export { createPopper, popperGenerator, defaultModifiers, detectOverflow };",
  "import { popperGenerator, detectOverflow } from "./createPopper.js"; import eventListeners from "./modifiers/eventListeners.js"; import popperOffsets from "./modifiers/popperOffsets.js"; import computeStyles from "./modifiers/computeStyles.js"; import applyStyles from "./modifiers/applyStyles.js"; import offset from "./modifiers/offset.js"; import flip from "./modifiers/flip.js"; import preventOverflow from "./modifiers/preventOverflow.js"; import arrow from "./modifiers/arrow.js"; import hide from "./modifiers/hide.js"; var defaultModifiers = [eventListeners, popperOffsets, computeStyles, applyStyles, offset, flip, preventOverflow, arrow, hide]; var createPopper = /*#__PURE__*/popperGenerator({ defaultModifiers: defaultModifiers }); // eslint-disable-next-line import/no-unused-modules export { createPopper, popperGenerator, defaultModifiers, detectOverflow }; // eslint-disable-next-line import/no-unused-modules export { createPopper as createPopperLite } from "./popper-lite.js"; // eslint-disable-next-line import/no-unused-modules export * from "./modifiers/index.js";",
  "/* -------------------------------------------------------------------------- Tailwind Elements is an open-source UI kit of advanced components for TailwindCSS. Copyright © 2023 MDBootstrap.com Unless a custom, individually assigned license has been granted, this program is free software: you can redistribute it and/or modify it under the terms of the GNU Affero General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. In addition, a custom license may be available upon request, subject to the terms and conditions of that license. Please contact tailwind@mdbootstrap.com for more information on obtaining a custom license. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero General Public License for more details. -------------------------------------------------------------------------- */ function normalizeData(val) { if (val === "true") { return true; } if (val === "false") { return false; } if (val === Number(val).toString()) { return Number(val); } if (val === "" || val === "null") { return null; } return val; } function normalizeDataKey(key) { return key.replace(/[A-Z]/g, (chr) => `-${chr.toLowerCase()}`); } const Manipulator = { setDataAttribute(element, key, value) { element.setAttribute(`data-te-${normalizeDataKey(key)}`, value); }, removeDataAttribute(element, key) { element.removeAttribute(`data-te-${normalizeDataKey(key)}`); }, getDataAttributes(element) { if (!element) { return {}; } const attributes = {}; Object.keys(element.dataset) .filter((key) => key.startsWith("te")) .forEach((key) => { if (key.startsWith("teClass")) { return; } let pureKey = key.replace(/^te/, ""); pureKey = pureKey.charAt(0).toLowerCase() + pureKey.slice(1, pureKey.length); attributes[pureKey] = normalizeData(element.dataset[key]); }); return attributes; }, getDataClassAttributes(element) { if (!element) { return {}; } const attributes = { ...element.dataset, }; Object.keys(attributes) .filter((key) => key.startsWith("teClass")) .forEach((key) => { let pureKey = key.replace(/^teClass/, ""); pureKey = pureKey.charAt(0).toLowerCase() + pureKey.slice(1, pureKey.length); attributes[pureKey] = normalizeData(attributes[key]); }); return attributes; }, getDataAttribute(element, key) { return normalizeData( element.getAttribute(`data-te-${normalizeDataKey(key)}`) ); }, offset(element) { const rect = element.getBoundingClientRect(); return { top: rect.top + document.body.scrollTop, left: rect.left + document.body.scrollLeft, }; }, position(element) { return { top: element.offsetTop, left: element.offsetLeft, }; }, style(element, style) { Object.assign(element.style, style); }, toggleClass(element, classNameOrList) { if (!element) { return; } _classNameOrListToArray(classNameOrList).forEach((className) => { if (element.classList.contains(className)) { element.classList.remove(className); } else { element.classList.add(className); } }); }, addClass(element, classNameOrList) { _classNameOrListToArray(classNameOrList).forEach( (className) => !element.classList.contains(className) && element.classList.add(className) ); }, addStyle(element, style) { Object.keys(style).forEach((property) => { element.style[property] = style[property]; }); }, removeClass(element, classNameOrList) { _classNameOrListToArray(classNameOrList).forEach( (className) => element.classList.contains(className) && element.classList.remove(className) ); }, hasClass(element, className) { return element.classList.contains(className); }, }; function _classNameOrListToArray(classNameOrList) { if (typeof classNameOrList === "string") { return classNameOrList.split(" "); } else if (Array.isArray(classNameOrList)) { return classNameOrList; } return false; } export default Manipulator; ",
  "/* -------------------------------------------------------------------------- Tailwind Elements is an open-source UI kit of advanced components for TailwindCSS. Copyright © 2023 MDBootstrap.com Unless a custom, individually assigned license has been granted, this program is free software: you can redistribute it and/or modify it under the terms of the GNU Affero General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. In addition, a custom license may be available upon request, subject to the terms and conditions of that license. Please contact tailwind@mdbootstrap.com for more information on obtaining a custom license. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero General Public License for more details. -------------------------------------------------------------------------- */ /* ------------------------------------------------------------------------ Constants ------------------------------------------------------------------------ */ import { isDisabled, isVisible } from "../util/index"; const NODE_TEXT = 3; const SelectorEngine = { closest(element, selector) { return element.closest(selector); }, matches(element, selector) { return element.matches(selector); }, find(selector, element = document.documentElement) { return [].concat( ...Element.prototype.querySelectorAll.call(element, selector) ); }, findOne(selector, element = document.documentElement) { return Element.prototype.querySelector.call(element, selector); }, children(element, selector) { const children = [].concat(...element.children); return children.filter((child) => child.matches(selector)); }, parents(element, selector) { const parents = []; let ancestor = element.parentNode; while ( ancestor && ancestor.nodeType === Node.ELEMENT_NODE && ancestor.nodeType !== NODE_TEXT ) { if (this.matches(ancestor, selector)) { parents.push(ancestor); } ancestor = ancestor.parentNode; } return parents; }, prev(element, selector) { let previous = element.previousElementSibling; while (previous) { if (previous.matches(selector)) { return [previous]; } previous = previous.previousElementSibling; } return []; }, next(element, selector) { let next = element.nextElementSibling; while (next) { if (this.matches(next, selector)) { return [next]; } next = next.nextElementSibling; } return []; }, focusableChildren(element) { const focusables = [ "a", "button", "input", "textarea", "select", "details", "[tabindex]", '[contenteditable="true"]', ] .map((selector) => `${selector}:not([tabindex^="-"])`) .join(", "); return this.find(focusables, element).filter( (el) => !isDisabled(el) && isVisible(el) ); }, }; export default SelectorEngine; ",
  "/* -------------------------------------------------------------------------- Tailwind Elements is an open-source UI kit of advanced components for TailwindCSS. Copyright © 2023 MDBootstrap.com Unless a custom, individually assigned license has been granted, this program is free software: you can redistribute it and/or modify it under the terms of the GNU Affero General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. In addition, a custom license may be available upon request, subject to the terms and conditions of that license. Please contact tailwind@mdbootstrap.com for more information on obtaining a custom license. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero General Public License for more details. -------------------------------------------------------------------------- */ import * as Popper from "@popperjs/core"; import { getElement, getElementFromSelector, getNextActiveElement, isDisabled, isElement, isRTL, isVisible, noop, typeCheckConfig, } from "../util/index"; import EventHandler from "../dom/event-handler"; import Manipulator from "../dom/manipulator"; import SelectorEngine from "../dom/selector-engine"; import BaseComponent from "../base-component"; /* ------------------------------------------------------------------------ Constants ------------------------------------------------------------------------ */ const NAME = "dropdown"; const DATA_KEY = "te.dropdown"; const EVENT_KEY = `.${DATA_KEY}`; const DATA_API_KEY = ".data-api"; const ESCAPE_KEY = "Escape"; const SPACE_KEY = "Space"; const TAB_KEY = "Tab"; const ARROW_UP_KEY = "ArrowUp"; const ARROW_DOWN_KEY = "ArrowDown"; const RIGHT_MOUSE_BUTTON = 2; // MouseEvent.button value for the secondary button, usually the right button const REGEXP_KEYDOWN = new RegExp( `${ARROW_UP_KEY}|${ARROW_DOWN_KEY}|${ESCAPE_KEY}` ); const EVENT_HIDE = `hide${EVENT_KEY}`; const EVENT_HIDDEN = `hidden${EVENT_KEY}`; const EVENT_SHOW = `show${EVENT_KEY}`; const EVENT_SHOWN = `shown${EVENT_KEY}`; const EVENT_CLICK_DATA_API = `click${EVENT_KEY}${DATA_API_KEY}`; const EVENT_KEYDOWN_DATA_API = `keydown${EVENT_KEY}${DATA_API_KEY}`; const EVENT_KEYUP_DATA_API = `keyup${EVENT_KEY}${DATA_API_KEY}`; const CLASS_NAME_SHOW = "show"; const CLASS_NAME_DROPUP = "dropup"; const CLASS_NAME_DROPEND = "dropend"; const CLASS_NAME_DROPSTART = "dropstart"; const SELECTOR_NAVBAR = "[data-te-navbar-ref]"; const SELECTOR_DATA_TOGGLE = "[data-te-dropdown-toggle-ref]"; const SELECTOR_MENU = "[data-te-dropdown-menu-ref]"; const SELECTOR_NAVBAR_NAV = "[data-te-navbar-nav-ref]"; const SELECTOR_VISIBLE_ITEMS = "[data-te-dropdown-menu-ref] [data-te-dropdown-item-ref]:not(.disabled):not(:disabled)"; const PLACEMENT_TOP = isRTL() ? "top-end" : "top-start"; const PLACEMENT_TOPEND = isRTL() ? "top-start" : "top-end"; const PLACEMENT_BOTTOM = isRTL() ? "bottom-end" : "bottom-start"; const PLACEMENT_BOTTOMEND = isRTL() ? "bottom-start" : "bottom-end"; const PLACEMENT_RIGHT = isRTL() ? "left-start" : "right-start"; const PLACEMENT_LEFT = isRTL() ? "right-start" : "left-start"; const ANIMATION_FADE_IN = [{ opacity: "0" }, { opacity: "1" }]; const ANIMATION_FADE_OUT = [{ opacity: "1" }, { opacity: "0" }]; const ANIMATION_TIMING = { duration: 550, iterations: 1, easing: "ease", fill: "both", }; const Default = { offset: [0, 2], boundary: "clippingParents", reference: "toggle", display: "dynamic", popperConfig: null, autoClose: true, dropdownAnimation: "on", }; const DefaultType = { offset: "(array|string|function)", boundary: "(string|element)", reference: "(string|element|object)", display: "string", popperConfig: "(null|object|function)", autoClose: "(boolean|string)", dropdownAnimation: "string", }; /* ------------------------------------------------------------------------ Class Definition ------------------------------------------------------------------------ */ class Dropdown extends BaseComponent { constructor(element, config) { super(element); this._popper = null; this._config = this._getConfig(config); this._menu = this._getMenuElement(); this._inNavbar = this._detectNavbar(); this._fadeOutAnimate = null; //* prevents dropdown close issue when system animation is turned off const isPrefersReducedMotionSet = window.matchMedia( "(prefers-reduced-motion: reduce)" ).matches; this._animationCanPlay = this._config.dropdownAnimation === "on" && !isPrefersReducedMotionSet; this._didInit = false; this._init(); } // Getters static get Default() { return Default; } static get DefaultType() { return DefaultType; } static get NAME() { return NAME; } // Public toggle() { return this._isShown() ? this.hide() : this.show(); } show() { if (isDisabled(this._element) || this._isShown(this._menu)) { return; } const relatedTarget = { relatedTarget: this._element, }; const showEvent = EventHandler.trigger( this._element, EVENT_SHOW, relatedTarget ); if (showEvent.defaultPrevented) { return; } const parent = Dropdown.getParentFromElement(this._element); // Totally disable Popper for Dropdowns in Navbar if (this._inNavbar) { Manipulator.setDataAttribute(this._menu, "popper", "none"); } else { this._createPopper(parent); } // If this is a touch-enabled device we add extra // empty mouseover listeners to the body's immediate children; // only needed because of broken event delegation on iOS // https://www.quirksmode.org/blog/archives/2014/02/mouse_event_bub.html if ( "ontouchstart" in document.documentElement && !parent.closest(SELECTOR_NAVBAR_NAV) ) { [] .concat(...document.body.children) .forEach((elem) => EventHandler.on(elem, "mouseover", noop)); } this._element.focus(); this._element.setAttribute("aria-expanded", true); this._menu.setAttribute(`data-te-dropdown-${CLASS_NAME_SHOW}`, ""); this._animationCanPlay && this._menu.animate(ANIMATION_FADE_IN, ANIMATION_TIMING); this._element.setAttribute(`data-te-dropdown-${CLASS_NAME_SHOW}`, ""); setTimeout( () => { EventHandler.trigger(this._element, EVENT_SHOWN, relatedTarget); }, this._animationCanPlay ? ANIMATION_TIMING.duration : 0 ); } hide() { if (isDisabled(this._element) || !this._isShown(this._menu)) { return; } const relatedTarget = { relatedTarget: this._element, }; this._completeHide(relatedTarget); } dispose() { if (this._popper) { this._popper.destroy(); } super.dispose(); } update() { this._inNavbar = this._detectNavbar(); if (this._popper) { this._popper.update(); } } // Private _init() { if (this._didInit) { return; } EventHandler.on( document, EVENT_KEYDOWN_DATA_API, SELECTOR_DATA_TOGGLE, Dropdown.dataApiKeydownHandler ); EventHandler.on( document, EVENT_KEYDOWN_DATA_API, SELECTOR_MENU, Dropdown.dataApiKeydownHandler ); EventHandler.on(document, EVENT_CLICK_DATA_API, Dropdown.clearMenus); EventHandler.on(document, EVENT_KEYUP_DATA_API, Dropdown.clearMenus); this._didInit = true; } _completeHide(relatedTarget) { if (this._fadeOutAnimate && this._fadeOutAnimate.playState === "running") { return; } const hideEvent = EventHandler.trigger( this._element, EVENT_HIDE, relatedTarget ); if (hideEvent.defaultPrevented) { return; } // If this is a touch-enabled device we remove the extra // empty mouseover listeners we added for iOS support if ("ontouchstart" in document.documentElement) { [] .concat(...document.body.children) .forEach((elem) => EventHandler.off(elem, "mouseover", noop)); } if (this._animationCanPlay) { this._fadeOutAnimate = this._menu.animate( ANIMATION_FADE_OUT, ANIMATION_TIMING ); } setTimeout( () => { if (this._popper) { this._popper.destroy(); } this._menu.removeAttribute(`data-te-dropdown-${CLASS_NAME_SHOW}`); this._element.removeAttribute(`data-te-dropdown-${CLASS_NAME_SHOW}`); this._element.setAttribute("aria-expanded", "false"); Manipulator.removeDataAttribute(this._menu, "popper"); EventHandler.trigger(this._element, EVENT_HIDDEN, relatedTarget); }, this._animationCanPlay ? ANIMATION_TIMING.duration : 0 ); } _getConfig(config) { config = { ...this.constructor.Default, ...Manipulator.getDataAttributes(this._element), ...config, }; typeCheckConfig(NAME, config, this.constructor.DefaultType); if ( typeof config.reference === "object" && !isElement(config.reference) && typeof config.reference.getBoundingClientRect !== "function" ) { // Popper virtual elements require a getBoundingClientRect method throw new TypeError( `${NAME.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.` ); } return config; } _createPopper(parent) { if (typeof Popper === "undefined") { throw new TypeError( "Bootstrap's dropdowns require Popper (https://popper.js.org)" ); } let referenceElement = this._element; if (this._config.reference === "parent") { referenceElement = parent; } else if (isElement(this._config.reference)) { referenceElement = getElement(this._config.reference); } else if (typeof this._config.reference === "object") { referenceElement = this._config.reference; } const popperConfig = this._getPopperConfig(); const isDisplayStatic = popperConfig.modifiers.find( (modifier) => modifier.name === "applyStyles" && modifier.enabled === false ); this._popper = Popper.createPopper( referenceElement, this._menu, popperConfig ); if (isDisplayStatic) { Manipulator.setDataAttribute(this._menu, "popper", "static"); } } _isShown(element = this._element) { return ( element.dataset[ `teDropdown${ CLASS_NAME_SHOW.charAt(0).toUpperCase() + CLASS_NAME_SHOW.slice(1) }` ] === "" ); } _getMenuElement() { return SelectorEngine.next(this._element, SELECTOR_MENU)[0]; } _getPlacement() { const parentDropdown = this._element.parentNode; if (parentDropdown.dataset.teDropdownPosition === CLASS_NAME_DROPEND) { return PLACEMENT_RIGHT; } if (parentDropdown.dataset.teDropdownPosition === CLASS_NAME_DROPSTART) { return PLACEMENT_LEFT; } // We need to trim the value because custom properties can also include spaces const isEnd = getComputedStyle(this._menu).getPropertyValue("--te-position").trim() === "end"; if (parentDropdown.dataset.teDropdownPosition === CLASS_NAME_DROPUP) { return isEnd ? PLACEMENT_TOPEND : PLACEMENT_TOP; } return isEnd ? PLACEMENT_BOTTOMEND : PLACEMENT_BOTTOM; } _detectNavbar() { return this._element.closest(SELECTOR_NAVBAR) !== null; } _getOffset() { const { offset } = this._config; if (typeof offset === "string") { return offset.split(",").map((val) => Number.parseInt(val, 10)); } if (typeof offset === "function") { return (popperData) => offset(popperData, this._element); } return offset; } _getPopperConfig() { const defaultBsPopperConfig = { placement: this._getPlacement(), modifiers: [ { name: "preventOverflow", options: { boundary: this._config.boundary, }, }, { name: "offset", options: { offset: this._getOffset(), }, }, ], }; // Disable Popper if we have a static display if (this._config.display === "static") { defaultBsPopperConfig.modifiers = [ { name: "applyStyles", enabled: false, }, ]; } return { ...defaultBsPopperConfig, ...(typeof this._config.popperConfig === "function" ? this._config.popperConfig(defaultBsPopperConfig) : this._config.popperConfig), }; } _selectMenuItem({ key, target }) { const items = SelectorEngine.find( SELECTOR_VISIBLE_ITEMS, this._menu ).filter(isVisible); if (!items.length) { return; } // if target isn't included in items (e.g. when expanding the dropdown) // allow cycling to get the last item in case key equals ARROW_UP_KEY getNextActiveElement( items, target, key === ARROW_DOWN_KEY, !items.includes(target) ).focus(); } // Static static jQueryInterface(config) { return this.each(function () { const data = Dropdown.getOrCreateInstance(this, config); if (typeof config !== "string") { return; } if (typeof data[config] === "undefined") { throw new TypeError(`No method named "${config}"`); } data[config](); }); } static clearMenus(event) { if ( event && (event.button === RIGHT_MOUSE_BUTTON || (event.type === "keyup" && event.key !== TAB_KEY)) ) { return; } const toggles = SelectorEngine.find(SELECTOR_DATA_TOGGLE); for (let i = 0, len = toggles.length; i < len; i++) { const context = Dropdown.getInstance(toggles[i]); if (!context || context._config.autoClose === false) { continue; } if (!context._isShown()) { continue; } const relatedTarget = { relatedTarget: context._element, }; if (event) { const composedPath = event.composedPath(); const isMenuTarget = composedPath.includes(context._menu); if ( composedPath.includes(context._element) || (context._config.autoClose === "inside" && !isMenuTarget) || (context._config.autoClose === "outside" && isMenuTarget) ) { continue; } // Tab navigation through the dropdown menu or events from contained inputs shouldn't close the menu if ( context._menu.contains(event.target) && ((event.type === "keyup" && event.key === TAB_KEY) || /input|select|option|textarea|form/i.test(event.target.tagName)) ) { continue; } if (event.type === "click") { relatedTarget.clickEvent = event; } } context._completeHide(relatedTarget); } } static getParentFromElement(element) { return getElementFromSelector(element) || element.parentNode; } static dataApiKeydownHandler(event) { // If not input/textarea: // - And not a key in REGEXP_KEYDOWN => not a dropdown command // If input/textarea: // - If space key => not a dropdown command // - If key is other than escape // - If key is not up or down => not a dropdown command // - If trigger inside the menu => not a dropdown command if ( /input|textarea/i.test(event.target.tagName) ? event.key === SPACE_KEY || (event.key !== ESCAPE_KEY && ((event.key !== ARROW_DOWN_KEY && event.key !== ARROW_UP_KEY) || event.target.closest(SELECTOR_MENU))) : !REGEXP_KEYDOWN.test(event.key) ) { return; } const isActive = this.dataset[ `teDropdown${ CLASS_NAME_SHOW.charAt(0).toUpperCase() + CLASS_NAME_SHOW.slice(1) }` ] === ""; if (!isActive && event.key === ESCAPE_KEY) { return; } event.preventDefault(); event.stopPropagation(); if (isDisabled(this)) { return; } const getToggleButton = this.matches(SELECTOR_DATA_TOGGLE) ? this : SelectorEngine.prev(this, SELECTOR_DATA_TOGGLE)[0]; const instance = Dropdown.getOrCreateInstance(getToggleButton); if (event.key === ESCAPE_KEY) { instance.hide(); return; } if (event.key === ARROW_UP_KEY || event.key === ARROW_DOWN_KEY) { if (!isActive) { instance.show(); } instance._selectMenuItem(event); return; } if (!isActive || event.key === SPACE_KEY) { Dropdown.clearMenus(); } } } export default Dropdown; ",
  "/* -------------------------------------------------------------------------- Tailwind Elements is an open-source UI kit of advanced components for TailwindCSS. Copyright © 2023 MDBootstrap.com Unless a custom, individually assigned license has been granted, this program is free software: you can redistribute it and/or modify it under the terms of the GNU Affero General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. In addition, a custom license may be available upon request, subject to the terms and conditions of that license. Please contact tailwind@mdbootstrap.com for more information on obtaining a custom license. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero General Public License for more details. -------------------------------------------------------------------------- */ import { getElement, getSelectorFromElement, getElementFromSelector, reflow, typeCheckConfig, } from "../util/index"; import Data from "../dom/data"; import EventHandler from "../dom/event-handler"; import Manipulator from "../dom/manipulator"; import SelectorEngine from "../dom/selector-engine"; import BaseComponent from "../base-component"; /* ------------------------------------------------------------------------ Constants ------------------------------------------------------------------------ */ const NAME = "collapse"; const DATA_KEY = "te.collapse"; const EVENT_KEY = `.${DATA_KEY}`; const Default = { toggle: true, parent: null, }; const DefaultType = { toggle: "boolean", parent: "(null|element)", }; const EVENT_SHOW = `show${EVENT_KEY}`; const EVENT_SHOWN = `shown${EVENT_KEY}`; const EVENT_HIDE = `hide${EVENT_KEY}`; const EVENT_HIDDEN = `hidden${EVENT_KEY}`; const ATTR_SHOW = "data-te-collapse-show"; const ATTR_COLLAPSED = "data-te-collapse-collapsed"; const ATTR_COLLAPSING = "data-te-collapse-collapsing"; const ATTR_HORIZONTAL = "data-te-collapse-horizontal"; const ATTR_COLLAPSE_ITEM = "data-te-collapse-item"; const ATTR_COLLAPSE_DEEPER_CHILDREN = `:scope [${ATTR_COLLAPSE_ITEM}] [${ATTR_COLLAPSE_ITEM}]`; const WIDTH = "width"; const HEIGHT = "height"; const SELECTOR_DATA_ACTIVES = "[data-te-collapse-item][data-te-collapse-show], [data-te-collapse-item][data-te-collapse-collapsing]"; const SELECTOR_DATA_COLLAPSE_INIT = "[data-te-collapse-init]"; const DefaultClasses = { visible: "!visible", hidden: "hidden", baseTransition: "overflow-hidden duration-[350ms] ease-[cubic-bezier(0.25,0.1,0.25,1.0)] motion-reduce:transition-none", collapsing: "h-0 transition-[height] overflow-hidden duration-[350ms] ease-[cubic-bezier(0.25,0.1,0.25,1.0)] motion-reduce:transition-none", collapsingHorizontal: "w-0 h-auto transition-[width] overflow-hidden duration-[350ms] ease-[cubic-bezier(0.25,0.1,0.25,1.0)] motion-reduce:transition-none", }; const DefaultClassesType = { visible: "string", hidden: "string", baseTransition: "string", collapsing: "string", collapsingHorizontal: "string", }; /* ------------------------------------------------------------------------ Class Definition ------------------------------------------------------------------------ */ class Collapse extends BaseComponent { constructor(element, config, classes) { super(element); this._isTransitioning = false; this._config = this._getConfig(config); this._classes = this._getClasses(classes); this._triggerArray = []; const toggleList = SelectorEngine.find(SELECTOR_DATA_COLLAPSE_INIT); for (let i = 0, len = toggleList.length; i < len; i++) { const elem = toggleList[i]; const selector = getSelectorFromElement(elem); const filterElement = SelectorEngine.find(selector).filter( (foundElem) => foundElem === this._element ); if (selector !== null && filterElement.length) { this._selector = selector; this._triggerArray.push(elem); } } this._initializeChildren(); if (!this._config.parent) { this._addAriaAndCollapsedClass(this._triggerArray, this._isShown()); } if (this._config.toggle) { this.toggle(); } } // Getters static get Default() { return Default; } static get NAME() { return NAME; } // Public toggle() { if (this._isShown()) { this.hide(); } else { this.show(); } } show() { if (this._isTransitioning || this._isShown()) { return; } let actives = []; let activesData; if (this._config.parent) { const children = SelectorEngine.find( ATTR_COLLAPSE_DEEPER_CHILDREN, this._config.parent ); actives = SelectorEngine.find( SELECTOR_DATA_ACTIVES, this._config.parent ).filter((elem) => !children.includes(elem)); // remove children if greater depth } const container = SelectorEngine.findOne(this._selector); if (actives.length) { const tempActiveData = actives.find((elem) => container !== elem); activesData = tempActiveData ? Collapse.getInstance(tempActiveData) : null; if (activesData && activesData._isTransitioning) { return; } } const startEvent = EventHandler.trigger(this._element, EVENT_SHOW); if (startEvent.defaultPrevented) { return; } actives.forEach((elemActive) => { if (container !== elemActive) { Collapse.getOrCreateInstance(elemActive, { toggle: false }).hide(); } if (!activesData) { Data.setData(elemActive, DATA_KEY, null); } }); const dimension = this._getDimension(); const CLASS_NAME_TRANSITION = dimension === "height" ? this._classes.collapsing : this._classes.collapsingHorizontal; Manipulator.removeClass(this._element, this._classes.visible); Manipulator.removeClass(this._element, this._classes.hidden); Manipulator.addClass(this._element, CLASS_NAME_TRANSITION); this._element.removeAttribute(ATTR_COLLAPSE_ITEM); this._element.setAttribute(ATTR_COLLAPSING, ""); this._element.style[dimension] = 0; this._addAriaAndCollapsedClass(this._triggerArray, true); this._isTransitioning = true; const complete = () => { this._isTransitioning = false; Manipulator.removeClass(this._element, this._classes.hidden); Manipulator.removeClass(this._element, CLASS_NAME_TRANSITION); Manipulator.addClass(this._element, this._classes.visible); this._element.removeAttribute(ATTR_COLLAPSING); this._element.setAttribute(ATTR_COLLAPSE_ITEM, ""); this._element.setAttribute(ATTR_SHOW, ""); this._element.style[dimension] = ""; EventHandler.trigger(this._element, EVENT_SHOWN); }; const capitalizedDimension = dimension[0].toUpperCase() + dimension.slice(1); const scrollSize = `scroll${capitalizedDimension}`; this._queueCallback(complete, this._element, true); this._element.style[dimension] = `${this._element[scrollSize]}px`; } hide() { if (this._isTransitioning || !this._isShown()) { return; } const startEvent = EventHandler.trigger(this._element, EVENT_HIDE); if (startEvent.defaultPrevented) { return; } const dimension = this._getDimension(); const CLASS_NAME_TRANSITION = dimension === "height" ? this._classes.collapsing : this._classes.collapsingHorizontal; this._element.style[dimension] = `${ this._element.getBoundingClientRect()[dimension] }px`; reflow(this._element); Manipulator.addClass(this._element, CLASS_NAME_TRANSITION); Manipulator.removeClass(this._element, this._classes.visible); Manipulator.removeClass(this._element, this._classes.hidden); this._element.setAttribute(ATTR_COLLAPSING, ""); this._element.removeAttribute(ATTR_COLLAPSE_ITEM); this._element.removeAttribute(ATTR_SHOW); const triggerArrayLength = this._triggerArray.length; for (let i = 0; i < triggerArrayLength; i++) { const trigger = this._triggerArray[i]; const elem = getElementFromSelector(trigger); if (elem && !this._isShown(elem)) { this._addAriaAndCollapsedClass([trigger], false); } } this._isTransitioning = true; const complete = () => { this._isTransitioning = false; Manipulator.removeClass(this._element, CLASS_NAME_TRANSITION); Manipulator.addClass(this._element, this._classes.visible); Manipulator.addClass(this._element, this._classes.hidden); this._element.removeAttribute(ATTR_COLLAPSING); this._element.setAttribute(ATTR_COLLAPSE_ITEM, ""); EventHandler.trigger(this._element, EVENT_HIDDEN); }; this._element.style[dimension] = ""; this._queueCallback(complete, this._element, true); } _isShown(element = this._element) { return element.hasAttribute(ATTR_SHOW); } // Private _getConfig(config) { config = { ...Default, ...Manipulator.getDataAttributes(this._element), ...config, }; config.toggle = Boolean(config.toggle); // Coerce string values config.parent = getElement(config.parent); typeCheckConfig(NAME, config, DefaultType); return config; } _getClasses(classes) { const dataAttributes = Manipulator.getDataClassAttributes(this._element); classes = { ...DefaultClasses, ...dataAttributes, ...classes, }; typeCheckConfig(NAME, classes, DefaultClassesType); return classes; } _getDimension() { return this._element.hasAttribute(ATTR_HORIZONTAL) ? WIDTH : HEIGHT; } _initializeChildren() { if (!this._config.parent) { return; } const children = SelectorEngine.find( ATTR_COLLAPSE_DEEPER_CHILDREN, this._config.parent ); SelectorEngine.find(SELECTOR_DATA_COLLAPSE_INIT, this._config.parent) .filter((elem) => !children.includes(elem)) .forEach((element) => { const selected = getElementFromSelector(element); if (selected) { this._addAriaAndCollapsedClass([element], this._isShown(selected)); } }); } _addAriaAndCollapsedClass(triggerArray, isOpen) { if (!triggerArray.length) { return; } triggerArray.forEach((elem) => { if (isOpen) { elem.removeAttribute(ATTR_COLLAPSED); } else { elem.setAttribute(`${ATTR_COLLAPSED}`, ""); } elem.setAttribute("aria-expanded", isOpen); }); } // Static static jQueryInterface(config) { return this.each(function () { const _config = {}; if (typeof config === "string" && /show|hide/.test(config)) { _config.toggle = false; } const data = Collapse.getOrCreateInstance(this, _config); if (typeof config === "string") { if (typeof data[config] === "undefined") { throw new TypeError(`No method named "${config}"`); } data[config](); } }); } } export default Collapse; ",
  "/* -------------------------------------------------------------------------- Tailwind Elements is an open-source UI kit of advanced components for TailwindCSS. Copyright © 2023 MDBootstrap.com Unless a custom, individually assigned license has been granted, this program is free software: you can redistribute it and/or modify it under the terms of the GNU Affero General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. In addition, a custom license may be available upon request, subject to the terms and conditions of that license. Please contact tailwind@mdbootstrap.com for more information on obtaining a custom license. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero General Public License for more details. -------------------------------------------------------------------------- */ import SelectorEngine from "../dom/selector-engine"; import Manipulator from "../dom/manipulator"; import { isElement } from "./index"; const SELECTOR_FIXED_CONTENT = ".fixed-top, .fixed-bottom, .is-fixed, .sticky-top"; const SELECTOR_STICKY_CONTENT = ".sticky-top"; class ScrollBarHelper { constructor() { this._element = document.body; } getWidth() { // https://developer.mozilla.org/en-US/docs/Web/API/Window/innerWidth#usage_notes const documentWidth = document.documentElement.clientWidth; return Math.abs(window.innerWidth - documentWidth); } hide() { const width = this.getWidth(); this._disableOverFlow(); // give padding to element to balance the hidden scrollbar width this._setElementAttributes( this._element, "paddingRight", (calculatedValue) => calculatedValue + width ); // trick: We adjust positive paddingRight and negative marginRight to sticky-top elements to keep showing fullwidth this._setElementAttributes( SELECTOR_FIXED_CONTENT, "paddingRight", (calculatedValue) => calculatedValue + width ); this._setElementAttributes( SELECTOR_STICKY_CONTENT, "marginRight", (calculatedValue) => calculatedValue - width ); } _disableOverFlow() { this._saveInitialAttribute(this._element, "overflow"); this._element.style.overflow = "hidden"; } _setElementAttributes(selector, styleProp, callback) { const scrollbarWidth = this.getWidth(); const manipulationCallBack = (element) => { if ( element !== this._element && window.innerWidth > element.clientWidth + scrollbarWidth ) { return; } this._saveInitialAttribute(element, styleProp); const calculatedValue = window.getComputedStyle(element)[styleProp]; element.style[styleProp] = `${callback( Number.parseFloat(calculatedValue) )}px`; }; this._applyManipulationCallback(selector, manipulationCallBack); } reset() { this._resetElementAttributes(this._element, "overflow"); this._resetElementAttributes(this._element, "paddingRight"); this._resetElementAttributes(SELECTOR_FIXED_CONTENT, "paddingRight"); this._resetElementAttributes(SELECTOR_STICKY_CONTENT, "marginRight"); } _saveInitialAttribute(element, styleProp) { const actualValue = element.style[styleProp]; if (actualValue) { Manipulator.setDataAttribute(element, styleProp, actualValue); } } _resetElementAttributes(selector, styleProp) { const manipulationCallBack = (element) => { const value = Manipulator.getDataAttribute(element, styleProp); if (typeof value === "undefined") { element.style.removeProperty(styleProp); } else { Manipulator.removeDataAttribute(element, styleProp); element.style[styleProp] = value; } }; this._applyManipulationCallback(selector, manipulationCallBack); } _applyManipulationCallback(selector, callBack) { if (isElement(selector)) { callBack(selector); } else { SelectorEngine.find(selector, this._element).forEach(callBack); } } isOverflowing() { return this.getWidth() > 0; } } export default ScrollBarHelper; ",
  "/* -------------------------------------------------------------------------- Tailwind Elements is an open-source UI kit of advanced components for TailwindCSS. Copyright © 2023 MDBootstrap.com Unless a custom, individually assigned license has been granted, this program is free software: you can redistribute it and/or modify it under the terms of the GNU Affero General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. In addition, a custom license may be available upon request, subject to the terms and conditions of that license. Please contact tailwind@mdbootstrap.com for more information on obtaining a custom license. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero General Public License for more details. -------------------------------------------------------------------------- */ import EventHandler from "../dom/event-handler"; import Manipulator from "../dom/manipulator"; import { execute, executeAfterTransition, getElement, reflow, typeCheckConfig, } from "./index"; const Default = { isVisible: true, // if false, we use the backdrop helper without adding any element to the dom isAnimated: false, rootElement: "body", // give the choice to place backdrop under different elements clickCallback: null, backdropClasses: null, }; const DefaultType = { isVisible: "boolean", isAnimated: "boolean", rootElement: "(element|string)", clickCallback: "(function|null)", backdropClasses: "(array|null)", }; const NAME = "backdrop"; const EVENT_MOUSEDOWN = `mousedown.te.${NAME}`; class Backdrop { constructor(config) { this._config = this._getConfig(config); this._isAppended = false; this._element = null; } show(callback) { if (!this._config.isVisible) { execute(callback); return; } this._append(); if (this._config.isAnimated) { reflow(this._getElement()); } const backdropClasses = this._config.backdropClasses || [ "opacity-50", "transition-all", "duration-300", "ease-in-out", "fixed", "top-0", "left-0", "z-[1040]", "bg-black", "w-screen", "h-screen", ]; Manipulator.removeClass(this._getElement(), "opacity-0"); Manipulator.addClass(this._getElement(), backdropClasses); this._element.setAttribute("data-te-backdrop-show", ""); this._emulateAnimation(() => { execute(callback); }); } hide(callback) { if (!this._config.isVisible) { execute(callback); return; } this._element.removeAttribute("data-te-backdrop-show"); this._getElement().classList.add("opacity-0"); this._getElement().classList.remove("opacity-50"); this._emulateAnimation(() => { this.dispose(); execute(callback); }); } // Private _getElement() { if (!this._element) { const backdrop = document.createElement("div"); backdrop.className = this._config.className; if (this._config.isAnimated) { backdrop.classList.add("opacity-50"); } this._element = backdrop; } return this._element; } _getConfig(config) { config = { ...Default, ...(typeof config === "object" ? config : {}), }; // use getElement() with the default "body" to get a fresh Element on each instantiation config.rootElement = getElement(config.rootElement); typeCheckConfig(NAME, config, DefaultType); return config; } _append() { if (this._isAppended) { return; } this._config.rootElement.append(this._getElement()); EventHandler.on(this._getElement(), EVENT_MOUSEDOWN, () => { execute(this._config.clickCallback); }); this._isAppended = true; } dispose() { if (!this._isAppended) { return; } EventHandler.off(this._element, EVENT_MOUSEDOWN); this._element.remove(); this._isAppended = false; } _emulateAnimation(callback) { executeAfterTransition( callback, this._getElement(), this._config.isAnimated ); } } export default Backdrop; ",
  "/* -------------------------------------------------------------------------- Tailwind Elements is an open-source UI kit of advanced components for TailwindCSS. Copyright © 2023 MDBootstrap.com Unless a custom, individually assigned license has been granted, this program is free software: you can redistribute it and/or modify it under the terms of the GNU Affero General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. In addition, a custom license may be available upon request, subject to the terms and conditions of that license. Please contact tailwind@mdbootstrap.com for more information on obtaining a custom license. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero General Public License for more details. -------------------------------------------------------------------------- */ import SelectorEngine from "../dom/selector-engine"; import { isVisible } from "./index"; class FocusTrap { constructor(element, options = {}, toggler) { this._element = element; this._toggler = toggler; this._event = options.event || "blur"; this._condition = options.condition || (() => true); this._selector = options.selector || 'button, a, input, select, textarea, [tabindex]:not([tabindex="-1"])'; this._onlyVisible = options.onlyVisible || false; this._focusableElements = []; this._firstElement = null; this._lastElement = null; this.handler = (e) => { if (this._condition(e) && !e.shiftKey && e.target === this._lastElement) { e.preventDefault(); this._firstElement.focus(); } else if ( this._condition(e) && e.shiftKey && e.target === this._firstElement ) { e.preventDefault(); this._lastElement.focus(); } }; } trap() { this._setElements(); this._init(); this._setFocusTrap(); } disable() { this._focusableElements.forEach((element) => { element.removeEventListener(this._event, this.handler); }); if (this._toggler) { this._toggler.focus(); } } update() { this._setElements(); this._setFocusTrap(); } _init() { const handler = (e) => { if ( !this._firstElement || e.key !== "Tab" || this._focusableElements.includes(e.target) ) { return; } e.preventDefault(); this._firstElement.focus(); window.removeEventListener("keydown", handler); }; window.addEventListener("keydown", handler); } _filterVisible(elements) { return elements.filter((el) => { if (!isVisible(el)) return false; const ancestors = SelectorEngine.parents(el, "*"); for (let i = 0; i < ancestors.length; i++) { const style = window.getComputedStyle(ancestors[i]); if ( style && (style.display === "none" || style.visibility === "hidden") ) return false; } return true; }); } _setElements() { this._focusableElements = SelectorEngine.focusableChildren(this._element); if (this._onlyVisible) { this._focusableElements = this._filterVisible(this._focusableElements); } this._firstElement = this._focusableElements[0]; this._lastElement = this._focusableElements[this._focusableElements.length - 1]; } _setFocusTrap() { this._focusableElements.forEach((element, i) => { if (i === this._focusableElements.length - 1 || i === 0) { element.addEventListener(this._event, this.handler); } else { element.removeEventListener(this._event, this.handler); } }); } } export default FocusTrap; ",
  "/* -------------------------------------------------------------------------- Tailwind Elements is an open-source UI kit of advanced components for TailwindCSS. Copyright © 2023 MDBootstrap.com Unless a custom, individually assigned license has been granted, this program is free software: you can redistribute it and/or modify it under the terms of the GNU Affero General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. In addition, a custom license may be available upon request, subject to the terms and conditions of that license. Please contact tailwind@mdbootstrap.com for more information on obtaining a custom license. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero General Public License for more details. -------------------------------------------------------------------------- */ import EventHandler from "../dom/event-handler"; import { getElementFromSelector, isDisabled } from "./index"; const enableDismissTrigger = (component, method = "hide") => { const clickEvent = `click.dismiss${component.EVENT_KEY}`; const name = component.NAME; EventHandler.on( document, clickEvent, `[data-te-${name}-dismiss]`, function (event) { if (["A", "AREA"].includes(this.tagName)) { event.preventDefault(); } if (isDisabled(this)) { return; } const target = getElementFromSelector(this) || this.closest(`.${name}`) || this.closest(`[data-te-${name}-init]`); if (!target) { return; } const instance = component.getOrCreateInstance(target); // Method argument is left, for Alert and only, as it doesn't implement the 'hide' method instance[method](); } ); }; export { enableDismissTrigger }; ",
  "/* -------------------------------------------------------------------------- Tailwind Elements is an open-source UI kit of advanced components for TailwindCSS. Copyright © 2023 MDBootstrap.com Unless a custom, individually assigned license has been granted, this program is free software: you can redistribute it and/or modify it under the terms of the GNU Affero General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. In addition, a custom license may be available upon request, subject to the terms and conditions of that license. Please contact tailwind@mdbootstrap.com for more information on obtaining a custom license. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero General Public License for more details. -------------------------------------------------------------------------- */ import { typeCheckConfig } from "../util/index"; import ScrollBarHelper from "../util/scrollbar"; import EventHandler from "../dom/event-handler"; import BaseComponent from "../base-component"; import SelectorEngine from "../dom/selector-engine"; import Manipulator from "../dom/manipulator"; import Backdrop from "../util/backdrop"; import FocusTrap from "../util/focusTrap"; import { enableDismissTrigger } from "../util/component-functions"; /* ------------------------------------------------------------------------ Constants ------------------------------------------------------------------------ */ const NAME = "offcanvas"; const DATA_KEY = "te.offcanvas"; const EVENT_KEY = `.${DATA_KEY}`; const DATA_API_KEY = ".data-api"; const EVENT_LOAD_DATA_API = `load${EVENT_KEY}${DATA_API_KEY}`; const ESCAPE_KEY = "Escape"; const Default = { backdrop: true, keyboard: true, scroll: false, }; const DefaultType = { backdrop: "boolean", keyboard: "boolean", scroll: "boolean", }; const CLASS_NAME_SHOW = "show"; const OPEN_SELECTOR = "[data-te-offcanvas-init][data-te-offcanvas-show]"; const EVENT_SHOW = `show${EVENT_KEY}`; const EVENT_SHOWN = `shown${EVENT_KEY}`; const EVENT_HIDE = `hide${EVENT_KEY}`; const EVENT_HIDDEN = `hidden${EVENT_KEY}`; const EVENT_KEYDOWN_DISMISS = `keydown.dismiss${EVENT_KEY}`; /* ------------------------------------------------------------------------ Class Definition ------------------------------------------------------------------------ */ class Offcanvas extends BaseComponent { constructor(element, config) { super(element); this._config = this._getConfig(config); this._isShown = false; this._backdrop = this._initializeBackDrop(); this._focustrap = this._initializeFocusTrap(); this._addEventListeners(); this._didInit = false; this._init(); } // Getters static get NAME() { return NAME; } static get Default() { return Default; } // Public toggle(relatedTarget) { return this._isShown ? this.hide() : this.show(relatedTarget); } show(relatedTarget) { if (this._isShown) { return; } const showEvent = EventHandler.trigger(this._element, EVENT_SHOW, { relatedTarget, }); if (showEvent.defaultPrevented) { return; } this._isShown = true; this._element.style.visibility = "visible"; this._backdrop.show(); if (!this._config.scroll) { new ScrollBarHelper().hide(); } this._element.removeAttribute("aria-hidden"); this._element.setAttribute("aria-modal", true); this._element.setAttribute("role", "dialog"); this._element.setAttribute(`data-te-offcanvas-${CLASS_NAME_SHOW}`, ""); const completeCallBack = () => { if (!this._config.scroll) { this._focustrap.trap(); } EventHandler.trigger(this._element, EVENT_SHOWN, { relatedTarget }); }; this._queueCallback(completeCallBack, this._element, true); } hide() { if (!this._isShown) { return; } const hideEvent = EventHandler.trigger(this._element, EVENT_HIDE); if (hideEvent.defaultPrevented) { return; } this._focustrap.disable(); this._element.blur(); this._isShown = false; this._element.removeAttribute(`data-te-offcanvas-${CLASS_NAME_SHOW}`); this._backdrop.hide(); const completeCallback = () => { this._element.setAttribute("aria-hidden", true); this._element.removeAttribute("aria-modal"); this._element.removeAttribute("role"); this._element.style.visibility = "hidden"; if (!this._config.scroll) { new ScrollBarHelper().reset(); } EventHandler.trigger(this._element, EVENT_HIDDEN); }; this._queueCallback(completeCallback, this._element, true); } dispose() { this._backdrop.dispose(); this._focustrap.disable(); super.dispose(); } // Private _init() { if (this._didInit) { return; } EventHandler.on(window, EVENT_LOAD_DATA_API, () => SelectorEngine.find(OPEN_SELECTOR).forEach((el) => Offcanvas.getOrCreateInstance(el).show() ) ); enableDismissTrigger(Offcanvas); this._didInit = true; } _getConfig(config) { config = { ...Default, ...Manipulator.getDataAttributes(this._element), ...(typeof config === "object" ? config : {}), }; typeCheckConfig(NAME, config, DefaultType); return config; } _initializeBackDrop() { return new Backdrop({ isVisible: this._config.backdrop, isAnimated: true, rootElement: this._element.parentNode, clickCallback: () => this.hide(), }); } _initializeFocusTrap() { return new FocusTrap(this._element, { event: "keydown", condition: (event) => event.key === "Tab", }); } _addEventListeners() { EventHandler.on(this._element, EVENT_KEYDOWN_DISMISS, (event) => { if (this._config.keyboard && event.key === ESCAPE_KEY) { this.hide(); } }); } // Static static jQueryInterface(config) { return this.each(function () { const data = Offcanvas.getOrCreateInstance(this, config); if (typeof config !== "string") { return; } if ( data[config] === undefined || config.startsWith("_") || config === "constructor" ) { throw new TypeError(`No method named "${config}"`); } data[config](this); }); } } export default Offcanvas; ",
  "/* -------------------------------------------------------------------------- Tailwind Elements is an open-source UI kit of advanced components for TailwindCSS. Copyright © 2023 MDBootstrap.com Unless a custom, individually assigned license has been granted, this program is free software: you can redistribute it and/or modify it under the terms of the GNU Affero General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. In addition, a custom license may be available upon request, subject to the terms and conditions of that license. Please contact tailwind@mdbootstrap.com for more information on obtaining a custom license. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero General Public License for more details. -------------------------------------------------------------------------- */ import { typeCheckConfig, isVisible } from "../util/index"; import EventHandler from "../dom/event-handler"; import BaseComponent from "../base-component"; import Manipulator from "../dom/manipulator"; import { enableDismissTrigger } from "../util/component-functions"; /* ------------------------------------------------------------------------ Constants ------------------------------------------------------------------------ */ const NAME = "alert"; const DATA_KEY = "te.alert"; const EVENT_KEY = `.${DATA_KEY}`; const EVENT_CLOSE = `close${EVENT_KEY}`; const EVENT_CLOSED = `closed${EVENT_KEY}`; const SHOW_DATA_ATTRIBUTE = "data-te-alert-show"; const DefaultType = { animation: "boolean", autohide: "boolean", delay: "number", }; const Default = { animation: true, autohide: true, delay: 1000, }; const DefaultClasses = { fadeIn: "animate-[fade-in_0.3s_both] p-[auto] motion-reduce:transition-none motion-reduce:animate-none", fadeOut: "animate-[fade-out_0.3s_both] p-[auto] motion-reduce:transition-none motion-reduce:animate-none", }; const DefaultClassesType = { fadeIn: "string", fadeOut: "string", }; /* ------------------------------------------------------------------------ Class Definition ------------------------------------------------------------------------ */ class Alert extends BaseComponent { constructor(element, config, classes) { super(element); this._element = element; this._config = this._getConfig(config); this._classes = this._getClasses(classes); this._didInit = false; this._init(); } // Getters static get DefaultType() { return DefaultType; } static get Default() { return Default; } static get NAME() { return NAME; } // Public close() { const closeEvent = EventHandler.trigger(this._element, EVENT_CLOSE); if (closeEvent.defaultPrevented) { return; } let timeout = 0; if (this._config.animation) { timeout = 300; Manipulator.addClass(this._element, this._classes.fadeOut); } this._element.removeAttribute(SHOW_DATA_ATTRIBUTE); setTimeout(() => { this._queueCallback( () => this._destroyElement(), this._element, this._config.animation ); }, timeout); } show() { if (!this._element) { return; } if (this._config.autohide) { this._setupAutohide(); } if (!this._element.hasAttribute(SHOW_DATA_ATTRIBUTE)) { Manipulator.removeClass(this._element, "hidden"); Manipulator.addClass(this._element, "block"); if (isVisible(this._element)) { const handler = (e) => { Manipulator.removeClass(this._element, "hidden"); Manipulator.addClass(this._element, "block"); EventHandler.off(e.target, "animationend", handler); }; this._element.setAttribute(SHOW_DATA_ATTRIBUTE, ""); EventHandler.on(this._element, "animationend", handler); } } if (this._config.animation) { Manipulator.removeClass(this._element, this._classes.fadeOut); Manipulator.addClass(this._element, this._classes.fadeIn); } } hide() { if (!this._element) { return; } if (this._element.hasAttribute(SHOW_DATA_ATTRIBUTE)) { this._element.removeAttribute(SHOW_DATA_ATTRIBUTE); const handler = (e) => { Manipulator.addClass(this._element, "hidden"); Manipulator.removeClass(this._element, "block"); if (this._timeout !== null) { clearTimeout(this._timeout); this._timeout = null; } EventHandler.off(e.target, "animationend", handler); }; EventHandler.on(this._element, "animationend", handler); Manipulator.removeClass(this._element, this._classes.fadeIn); Manipulator.addClass(this._element, this._classes.fadeOut); } } // Private _init() { if (this._didInit) { return; } enableDismissTrigger(Alert, "close"); this._didInit = true; } _getConfig(config) { config = { ...Default, ...Manipulator.getDataAttributes(this._element), ...(typeof config === "object" && config ? config : {}), }; typeCheckConfig(NAME, config, this.constructor.DefaultType); return config; } _getClasses(classes) { const dataAttributes = Manipulator.getDataClassAttributes(this._element); classes = { ...DefaultClasses, ...dataAttributes, ...classes, }; typeCheckConfig(NAME, classes, DefaultClassesType); return classes; } _setupAutohide() { this._timeout = setTimeout(() => { this.hide(); }, this._config.delay); } _destroyElement() { this._element.remove(); EventHandler.trigger(this._element, EVENT_CLOSED); this.dispose(); } // Static static jQueryInterface(config) { return this.each(function () { const data = Alert.getOrCreateInstance(this); if (typeof config !== "string") { return; } if ( data[config] === undefined || config.startsWith("_") || config === "constructor" ) { throw new TypeError(`No method named "${config}"`); } data[config](this); }); } } export default Alert; ",
  "/* -------------------------------------------------------------------------- Tailwind Elements is an open-source UI kit of advanced components for TailwindCSS. Copyright © 2023 MDBootstrap.com Unless a custom, individually assigned license has been granted, this program is free software: you can redistribute it and/or modify it under the terms of the GNU Affero General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. In addition, a custom license may be available upon request, subject to the terms and conditions of that license. Please contact tailwind@mdbootstrap.com for more information on obtaining a custom license. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero General Public License for more details. -------------------------------------------------------------------------- */ import { getElementFromSelector, isRTL, isVisible, getNextActiveElement, reflow, triggerTransitionEnd, typeCheckConfig, } from "../util/index"; import EventHandler from "../dom/event-handler"; import Manipulator from "../dom/manipulator"; import SelectorEngine from "../dom/selector-engine"; import BaseComponent from "../base-component"; /* ------------------------------------------------------------------------ Constants ------------------------------------------------------------------------ */ const NAME = "carousel"; const DATA_KEY = "te.carousel"; const EVENT_KEY = `.${DATA_KEY}`; const DATA_API_KEY = ".data-api"; const ARROW_LEFT_KEY = "ArrowLeft"; const ARROW_RIGHT_KEY = "ArrowRight"; const TOUCHEVENT_COMPAT_WAIT = 500; // Time for mouse compat events to fire after touch const SWIPE_THRESHOLD = 40; const Default = { interval: 5000, keyboard: true, slide: false, pause: "hover", wrap: true, touch: true, }; const DefaultType = { interval: "(number|boolean)", keyboard: "boolean", slide: "(boolean|string)", pause: "(string|boolean)", wrap: "boolean", touch: "boolean", }; const DefaultClasses = { pointer: "touch-pan-y", block: "!block", visible: "data-[te-carousel-fade]:opacity-100 data-[te-carousel-fade]:z-[1]", invisible: "data-[te-carousel-fade]:z-0 data-[te-carousel-fade]:opacity-0 data-[te-carousel-fade]:duration-0 data-[te-carousel-fade]:delay-600", slideRight: "translate-x-full", slideLeft: "-translate-x-full", }; const DefaultClassesType = { pointer: "string", block: "string", visible: "string", invisible: "string", slideRight: "string", slideLeft: "string", }; const ORDER_NEXT = "next"; const ORDER_PREV = "prev"; const DIRECTION_LEFT = "left"; const DIRECTION_RIGHT = "right"; const KEY_TO_DIRECTION = { [ARROW_LEFT_KEY]: DIRECTION_RIGHT, [ARROW_RIGHT_KEY]: DIRECTION_LEFT, }; const EVENT_SLIDE = `slide${EVENT_KEY}`; const EVENT_SLID = `slid${EVENT_KEY}`; const EVENT_KEYDOWN = `keydown${EVENT_KEY}`; const EVENT_MOUSEENTER = `mouseenter${EVENT_KEY}`; const EVENT_MOUSELEAVE = `mouseleave${EVENT_KEY}`; const EVENT_TOUCHSTART = `touchstart${EVENT_KEY}`; const EVENT_TOUCHMOVE = `touchmove${EVENT_KEY}`; const EVENT_TOUCHEND = `touchend${EVENT_KEY}`; const EVENT_POINTERDOWN = `pointerdown${EVENT_KEY}`; const EVENT_POINTERUP = `pointerup${EVENT_KEY}`; const EVENT_DRAG_START = `dragstart${EVENT_KEY}`; const EVENT_LOAD_DATA_API = `load${EVENT_KEY}${DATA_API_KEY}`; const EVENT_CLICK_DATA_API = `click${EVENT_KEY}${DATA_API_KEY}`; const ATTR_CAROUSEL = "data-te-carousel-init"; const ATTR_ACTIVE = "data-te-carousel-active"; const ATTR_SLIDE = "data-te-carousel-slide"; const ATTR_END = "data-te-carousel-item-end"; const ATTR_START = "data-te-carousel-item-start"; const ATTR_NEXT = "data-te-carousel-item-next"; const ATTR_PREV = "data-te-carousel-item-prev"; const ATTR_POINTER_EVENT = "data-te-carousel-pointer-event"; const SELECTOR_DATA_CAROUSEL_INIT = "[data-te-carousel-init]"; const SELECTOR_DATA_ACTIVE = "[data-te-carousel-active]"; const SELECTOR_DATA_ITEM = "[data-te-carousel-item]"; const SELECTOR_DATA_ACTIVE_ITEM = `${SELECTOR_DATA_ACTIVE}${SELECTOR_DATA_ITEM}`; const SELECTOR_DATA_ITEM_IMG = `${SELECTOR_DATA_ITEM} img`; const SELECTOR_DATA_NEXT_PREV = "[data-te-carousel-item-next], [data-te-carousel-item-prev]"; const SELECTOR_DATA_INDICATORS = "[data-te-carousel-indicators]"; const SELECTOR_INDICATOR = "[data-te-target]"; const SELECTOR_DATA_SLIDE = "[data-te-slide], [data-te-slide-to]"; const POINTER_TYPE_TOUCH = "touch"; const POINTER_TYPE_PEN = "pen"; /* ------------------------------------------------------------------------ Class Definition ------------------------------------------------------------------------ */ class Carousel extends BaseComponent { constructor(element, config, classes) { super(element); this._items = null; this._interval = null; this._activeElement = null; this._isPaused = false; this._isSliding = false; this.touchTimeout = null; this.touchStartX = 0; this.touchDeltaX = 0; this._config = this._getConfig(config); this._classes = this._getClasses(classes); this._indicatorsElement = SelectorEngine.findOne( SELECTOR_DATA_INDICATORS, this._element ); this._touchSupported = "ontouchstart" in document.documentElement || navigator.maxTouchPoints > 0; this._pointerEvent = Boolean(window.PointerEvent); this._setActiveElementClass(); this._addEventListeners(); this._didInit = false; this._init(); } // Getters static get Default() { return Default; } static get NAME() { return NAME; } // Public next() { this._slide(ORDER_NEXT); } nextWhenVisible() { // Don't call next when the page isn't visible // or the carousel or its parent isn't visible if (!document.hidden && isVisible(this._element)) { this.next(); } } prev() { this._slide(ORDER_PREV); } pause(event) { if (!event) { this._isPaused = true; } if (SelectorEngine.findOne(SELECTOR_DATA_NEXT_PREV, this._element)) { triggerTransitionEnd(this._element); this.cycle(true); } clearInterval(this._interval); this._interval = null; } cycle(event) { if (!event) { this._isPaused = false; } if (this._interval) { clearInterval(this._interval); this._interval = null; } if (this._config && this._config.interval && !this._isPaused) { this._updateInterval(); this._interval = setInterval( (document.visibilityState ? this.nextWhenVisible : this.next).bind( this ), this._config.interval ); } } to(index) { this._activeElement = SelectorEngine.findOne( SELECTOR_DATA_ACTIVE_ITEM, this._element ); const activeIndex = this._getItemIndex(this._activeElement); if (index > this._items.length - 1 || index < 0) { return; } if (this._isSliding) { EventHandler.one(this._element, EVENT_SLID, () => this.to(index)); return; } if (activeIndex === index) { this.pause(); this.cycle(); return; } const order = index > activeIndex ? ORDER_NEXT : ORDER_PREV; this._slide(order, this._items[index]); } // Private _init() { if (this._didInit) { return; } EventHandler.on( document, EVENT_CLICK_DATA_API, SELECTOR_DATA_SLIDE, Carousel.dataApiClickHandler ); EventHandler.on(window, EVENT_LOAD_DATA_API, () => { const carousels = SelectorEngine.find(SELECTOR_DATA_CAROUSEL_INIT); for (let i = 0, len = carousels.length; i < len; i++) { Carousel.carouselInterface( carousels[i], Carousel.getInstance(carousels[i]) ); } }); this._didInit = true; } _getConfig(config) { config = { ...Default, ...Manipulator.getDataAttributes(this._element), ...(typeof config === "object" ? config : {}), }; typeCheckConfig(NAME, config, DefaultType); return config; } _getClasses(classes) { const dataAttributes = Manipulator.getDataClassAttributes(this._element); classes = { ...DefaultClasses, ...dataAttributes, ...classes, }; typeCheckConfig(NAME, classes, DefaultClassesType); return classes; } _applyInitialClasses() { const activeElement = SelectorEngine.findOne( SELECTOR_DATA_ACTIVE_ITEM, this._element ); activeElement.classList.add( this._classes.block, ...this._classes.visible.split(" ") ); this._setActiveIndicatorElement(activeElement); } _handleSwipe() { const absDeltax = Math.abs(this.touchDeltaX); if (absDeltax <= SWIPE_THRESHOLD) { return; } const direction = absDeltax / this.touchDeltaX; this.touchDeltaX = 0; if (!direction) { return; } this._slide(direction > 0 ? DIRECTION_RIGHT : DIRECTION_LEFT); } _setActiveElementClass() { this._activeElement = SelectorEngine.findOne( SELECTOR_DATA_ACTIVE_ITEM, this._element ); Manipulator.addClass(this._activeElement, "hidden"); } _addEventListeners() { if (this._config.keyboard) { EventHandler.on(this._element, EVENT_KEYDOWN, (event) => this._keydown(event) ); } if (this._config.pause === "hover") { EventHandler.on(this._element, EVENT_MOUSEENTER, (event) => this.pause(event) ); EventHandler.on(this._element, EVENT_MOUSELEAVE, (event) => this.cycle(event) ); } if (this._config.touch && this._touchSupported) { this._addTouchEventListeners(); } this._applyInitialClasses(); } _addTouchEventListeners() { const hasPointerPenTouch = (event) => { return ( this._pointerEvent && (event.pointerType === POINTER_TYPE_PEN || event.pointerType === POINTER_TYPE_TOUCH) ); }; const start = (event) => { if (hasPointerPenTouch(event)) { this.touchStartX = event.clientX; } else if (!this._pointerEvent) { this.touchStartX = event.touches[0].clientX; } }; const move = (event) => { // ensure swiping with one touch and not pinching this.touchDeltaX = event.touches && event.touches.length > 1 ? 0 : event.touches[0].clientX - this.touchStartX; }; const end = (event) => { if (hasPointerPenTouch(event)) { this.touchDeltaX = event.clientX - this.touchStartX; } this._handleSwipe(); if (this._config.pause === "hover") { // If it's a touch-enabled device, mouseenter/leave are fired as // part of the mouse compatibility events on first tap - the carousel // would stop cycling until user tapped out of it; // here, we listen for touchend, explicitly pause the carousel // (as if it's the second time we tap on it, mouseenter compat event // is NOT fired) and after a timeout (to allow for mouse compatibility // events to fire) we explicitly restart cycling this.pause(); if (this.touchTimeout) { clearTimeout(this.touchTimeout); } this.touchTimeout = setTimeout( (event) => this.cycle(event), TOUCHEVENT_COMPAT_WAIT + this._config.interval ); } }; SelectorEngine.find(SELECTOR_DATA_ITEM_IMG, this._element).forEach( (itemImg) => { EventHandler.on(itemImg, EVENT_DRAG_START, (event) => event.preventDefault() ); } ); if (this._pointerEvent) { EventHandler.on(this._element, EVENT_POINTERDOWN, (event) => start(event) ); EventHandler.on(this._element, EVENT_POINTERUP, (event) => end(event)); this._element.classList.add(this._classes.pointer); this._element.setAttribute(`${ATTR_POINTER_EVENT}`, ""); } else { EventHandler.on(this._element, EVENT_TOUCHSTART, (event) => start(event)); EventHandler.on(this._element, EVENT_TOUCHMOVE, (event) => move(event)); EventHandler.on(this._element, EVENT_TOUCHEND, (event) => end(event)); } } _keydown(event) { if (/input|textarea/i.test(event.target.tagName)) { return; } const direction = KEY_TO_DIRECTION[event.key]; if (direction) { event.preventDefault(); this._slide(direction); } } _getItemIndex(element) { this._items = element && element.parentNode ? SelectorEngine.find(SELECTOR_DATA_ITEM, element.parentNode) : []; return this._items.indexOf(element); } _getItemByOrder(order, activeElement) { const isNext = order === ORDER_NEXT; return getNextActiveElement( this._items, activeElement, isNext, this._config.wrap ); } _triggerSlideEvent(relatedTarget, eventDirectionName) { const targetIndex = this._getItemIndex(relatedTarget); const fromIndex = this._getItemIndex( SelectorEngine.findOne(SELECTOR_DATA_ACTIVE_ITEM, this._element) ); return EventHandler.trigger(this._element, EVENT_SLIDE, { relatedTarget, direction: eventDirectionName, from: fromIndex, to: targetIndex, }); } _setActiveIndicatorElement(element) { if (this._indicatorsElement) { const activeIndicator = SelectorEngine.findOne( SELECTOR_DATA_ACTIVE, this._indicatorsElement ); activeIndicator.removeAttribute(ATTR_ACTIVE); activeIndicator.removeAttribute("aria-current"); activeIndicator.classList.remove("!opacity-100"); const indicators = SelectorEngine.find( SELECTOR_INDICATOR, this._indicatorsElement ); for (let i = 0; i < indicators.length; i++) { if ( Number.parseInt( indicators[i].getAttribute("data-te-slide-to"), 10 ) === this._getItemIndex(element) ) { indicators[i].setAttribute(`${ATTR_ACTIVE}`, ""); indicators[i].setAttribute("aria-current", "true"); indicators[i].classList.add("!opacity-100"); break; } } } } _updateInterval() { const element = this._activeElement || SelectorEngine.findOne(SELECTOR_DATA_ACTIVE_ITEM, this._element); if (!element) { return; } const elementInterval = Number.parseInt( element.getAttribute("data-te-interval"), 10 ); if (elementInterval) { this._config.defaultInterval = this._config.defaultInterval || this._config.interval; this._config.interval = elementInterval; } else { this._config.interval = this._config.defaultInterval || this._config.interval; } } _slide(directionOrOrder, element) { const order = this._directionToOrder(directionOrOrder); const activeElement = SelectorEngine.findOne( SELECTOR_DATA_ACTIVE_ITEM, this._element ); const activeElementIndex = this._getItemIndex(activeElement); const nextElement = element || this._getItemByOrder(order, activeElement); const nextElementIndex = this._getItemIndex(nextElement); const isCycling = Boolean(this._interval); const isNext = order === ORDER_NEXT; const directionalAttr = isNext ? ATTR_START : ATTR_END; const orderAttr = isNext ? ATTR_NEXT : ATTR_PREV; const eventDirectionName = this._orderToDirection(order); const activeClass = directionalAttr === ATTR_START ? this._classes.slideLeft : this._classes.slideRight; const nextClass = directionalAttr !== ATTR_START ? this._classes.slideLeft : this._classes.slideRight; if (nextElement && nextElement.hasAttribute(ATTR_ACTIVE)) { this._isSliding = false; return; } if (this._isSliding) { return; } const slideEvent = this._triggerSlideEvent(nextElement, eventDirectionName); if (slideEvent.defaultPrevented) { return; } if (!activeElement || !nextElement) { // Some weirdness is happening, so we bail return; } this._isSliding = true; if (isCycling) { this.pause(); } this._setActiveIndicatorElement(nextElement); this._activeElement = nextElement; const triggerSlidEvent = () => { EventHandler.trigger(this._element, EVENT_SLID, { relatedTarget: nextElement, direction: eventDirectionName, from: activeElementIndex, to: nextElementIndex, }); }; if (this._element.hasAttribute(ATTR_SLIDE)) { nextElement.setAttribute(`${orderAttr}`, ""); nextElement.classList.add(this._classes.block, nextClass); reflow(nextElement); activeElement.setAttribute(`${directionalAttr}`, ""); activeElement.classList.add( activeClass, ...this._classes.invisible.split(" ") ); activeElement.classList.remove(...this._classes.visible.split(" ")); nextElement.setAttribute(`${directionalAttr}`, ""); nextElement.classList.add(...this._classes.visible.split(" ")); nextElement.classList.remove( this._classes.slideRight, this._classes.slideLeft ); const completeCallBack = () => { nextElement.removeAttribute(directionalAttr); nextElement.removeAttribute(orderAttr); nextElement.setAttribute(`${ATTR_ACTIVE}`, ""); activeElement.removeAttribute(ATTR_ACTIVE); activeElement.classList.remove( activeClass, ...this._classes.invisible.split(" "), this._classes.block ); activeElement.removeAttribute(orderAttr); activeElement.removeAttribute(directionalAttr); this._isSliding = false; setTimeout(triggerSlidEvent, 0); }; this._queueCallback(completeCallBack, activeElement, true); } else { activeElement.removeAttribute(ATTR_ACTIVE); activeElement.classList.remove(this._classes.block); nextElement.setAttribute(`${ATTR_ACTIVE}`, ""); nextElement.classList.add(this._classes.block); this._isSliding = false; triggerSlidEvent(); } if (isCycling) { this.cycle(); } } _directionToOrder(direction) { if (![DIRECTION_RIGHT, DIRECTION_LEFT].includes(direction)) { return direction; } if (isRTL()) { return direction === DIRECTION_LEFT ? ORDER_PREV : ORDER_NEXT; } return direction === DIRECTION_LEFT ? ORDER_NEXT : ORDER_PREV; } _orderToDirection(order) { if (![ORDER_NEXT, ORDER_PREV].includes(order)) { return order; } if (isRTL()) { return order === ORDER_PREV ? DIRECTION_LEFT : DIRECTION_RIGHT; } return order === ORDER_PREV ? DIRECTION_RIGHT : DIRECTION_LEFT; } // Static static carouselInterface(element, config) { const data = Carousel.getOrCreateInstance(element, config); let { _config } = data; if (typeof config === "object") { _config = { ..._config, ...config, }; } const action = typeof config === "string" ? config : _config.slide; if (typeof config === "number") { data.to(config); } else if (typeof action === "string") { if (typeof data[action] === "undefined") { throw new TypeError(`No method named "${action}"`); } data[action](); } else if (_config.interval && _config.carouselInit === null) { data.pause(); data.cycle(); } } static jQueryInterface(config) { return this.each(function () { Carousel.carouselInterface(this, config); }); } static dataApiClickHandler(event) { const target = getElementFromSelector(this); if (!target || !target.hasAttribute(ATTR_CAROUSEL)) { return; } const config = { ...Manipulator.getDataAttributes(target), ...Manipulator.getDataAttributes(this), }; const slideIndex = this.getAttribute("data-te-slide-to"); if (slideIndex) { config.interval = false; } Carousel.carouselInterface(target, config); if (slideIndex) { Carousel.getInstance(target).to(slideIndex); } event.preventDefault(); } } export default Carousel; ",
  "/* -------------------------------------------------------------------------- Tailwind Elements is an open-source UI kit of advanced components for TailwindCSS. Copyright © 2023 MDBootstrap.com Unless a custom, individually assigned license has been granted, this program is free software: you can redistribute it and/or modify it under the terms of the GNU Affero General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. In addition, a custom license may be available upon request, subject to the terms and conditions of that license. Please contact tailwind@mdbootstrap.com for more information on obtaining a custom license. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero General Public License for more details. -------------------------------------------------------------------------- */ import { isRTL, reflow, typeCheckConfig } from "../util/index"; import EventHandler from "../dom/event-handler"; import Manipulator from "../dom/manipulator"; import SelectorEngine from "../dom/selector-engine"; import ScrollBarHelper from "../util/scrollbar"; import BaseComponent from "../base-component"; import Backdrop from "../util/backdrop"; import FocusTrap from "../util/focusTrap"; import { enableDismissTrigger } from "../util/component-functions"; /* ------------------------------------------------------------------------ Constants ------------------------------------------------------------------------ */ const NAME = "modal"; const DATA_KEY = "te.modal"; const EVENT_KEY = `.${DATA_KEY}`; const ESCAPE_KEY = "Escape"; const Default = { backdrop: true, keyboard: true, focus: true, }; const DefaultType = { backdrop: "(boolean|string)", keyboard: "boolean", focus: "boolean", }; const DefaultClasses = { show: "transform-none", static: "scale-[1.02]", staticProperties: "transition-scale duration-300 ease-in-out", }; const DefaultClassesType = { show: "string", static: "string", staticProperties: "string", }; const EVENT_HIDE = `hide${EVENT_KEY}`; const EVENT_HIDE_PREVENTED = `hidePrevented${EVENT_KEY}`; const EVENT_HIDDEN = `hidden${EVENT_KEY}`; const EVENT_SHOW = `show${EVENT_KEY}`; const EVENT_SHOWN = `shown${EVENT_KEY}`; const EVENT_RESIZE = `resize${EVENT_KEY}`; const EVENT_CLICK_DISMISS = `click.dismiss${EVENT_KEY}`; const EVENT_KEYDOWN_DISMISS = `keydown.dismiss${EVENT_KEY}`; const EVENT_MOUSEUP_DISMISS = `mouseup.dismiss${EVENT_KEY}`; const EVENT_MOUSEDOWN_DISMISS = `mousedown.dismiss${EVENT_KEY}`; const OPEN_SELECTOR_BODY = "data-te-modal-open"; const OPEN_SELECTOR = "data-te-open"; const SELECTOR_DIALOG = "[data-te-modal-dialog-ref]"; const SELECTOR_MODAL_BODY = "[data-te-modal-body-ref]"; /* ------------------------------------------------------------------------ Class Definition ------------------------------------------------------------------------ */ class Modal extends BaseComponent { constructor(element, config, classes) { super(element); this._config = this._getConfig(config); this._classes = this._getClasses(classes); this._dialog = SelectorEngine.findOne(SELECTOR_DIALOG, this._element); this._backdrop = this._initializeBackDrop(); this._focustrap = this._initializeFocusTrap(); this._isShown = false; this._ignoreBackdropClick = false; this._isTransitioning = false; this._scrollBar = new ScrollBarHelper(); this._didInit = false; this._init(); } // Getters static get Default() { return Default; } static get NAME() { return NAME; } // Public toggle(relatedTarget) { return this._isShown ? this.hide() : this.show(relatedTarget); } show(relatedTarget) { if (this._isShown || this._isTransitioning) { return; } const showEvent = EventHandler.trigger(this._element, EVENT_SHOW, { relatedTarget, }); if (showEvent.defaultPrevented) { return; } this._isShown = true; if (this._isAnimated()) { this._isTransitioning = true; } this._scrollBar.hide(); document.body.setAttribute(OPEN_SELECTOR_BODY, "true"); this._adjustDialog(); this._setEscapeEvent(); this._setResizeEvent(); EventHandler.on(this._dialog, EVENT_MOUSEDOWN_DISMISS, () => { EventHandler.one(this._element, EVENT_MOUSEUP_DISMISS, (event) => { if (event.target === this._element) { this._ignoreBackdropClick = true; } }); }); this._showElement(relatedTarget); this._showBackdrop(); } hide() { if (!this._isShown || this._isTransitioning) { return; } const hideEvent = EventHandler.trigger(this._element, EVENT_HIDE); if (hideEvent.defaultPrevented) { return; } this._isShown = false; const isAnimated = this._isAnimated(); if (isAnimated) { this._isTransitioning = true; } this._setEscapeEvent(); this._setResizeEvent(); this._focustrap.disable(); const modalDialog = SelectorEngine.findOne(SELECTOR_DIALOG, this._element); modalDialog.classList.remove(this._classes.show); EventHandler.off(this._element, EVENT_CLICK_DISMISS); EventHandler.off(this._dialog, EVENT_MOUSEDOWN_DISMISS); this._queueCallback(() => this._hideModal(), this._element, isAnimated); this._element.removeAttribute(OPEN_SELECTOR); } dispose() { [window, this._dialog].forEach((htmlElement) => EventHandler.off(htmlElement, EVENT_KEY) ); this._backdrop.dispose(); this._focustrap.disable(); super.dispose(); } handleUpdate() { this._adjustDialog(); } // Private _init() { if (this._didInit) { return; } enableDismissTrigger(Modal); this._didInit = true; } _initializeBackDrop() { return new Backdrop({ isVisible: Boolean(this._config.backdrop), // 'static' option will be translated to true, and booleans will keep their value isAnimated: this._isAnimated(), }); } _initializeFocusTrap() { return new FocusTrap(this._element, { event: "keydown", condition: (event) => event.key === "Tab", }); } _getConfig(config) { config = { ...Default, ...Manipulator.getDataAttributes(this._element), ...(typeof config === "object" ? config : {}), }; typeCheckConfig(NAME, config, DefaultType); return config; } _getClasses(classes) { const dataAttributes = Manipulator.getDataClassAttributes(this._element); classes = { ...DefaultClasses, ...dataAttributes, ...classes, }; typeCheckConfig(NAME, classes, DefaultClassesType); return classes; } _showElement(relatedTarget) { const isAnimated = this._isAnimated(); const modalBody = SelectorEngine.findOne(SELECTOR_MODAL_BODY, this._dialog); if ( !this._element.parentNode || this._element.parentNode.nodeType !== Node.ELEMENT_NODE ) { // Don't move modal's DOM position document.body.append(this._element); } this._element.style.display = "block"; this._element.classList.remove("hidden"); this._element.removeAttribute("aria-hidden"); this._element.setAttribute("aria-modal", true); this._element.setAttribute("role", "dialog"); this._element.setAttribute(`${OPEN_SELECTOR}`, "true"); this._element.scrollTop = 0; const modalDialog = SelectorEngine.findOne(SELECTOR_DIALOG, this._element); modalDialog.classList.add(this._classes.show); modalDialog.classList.remove("opacity-0"); modalDialog.classList.add("opacity-100"); if (modalBody) { modalBody.scrollTop = 0; } if (isAnimated) { reflow(this._element); } const transitionComplete = () => { if (this._config.focus) { this._focustrap.trap(); } this._isTransitioning = false; EventHandler.trigger(this._element, EVENT_SHOWN, { relatedTarget, }); }; this._queueCallback(transitionComplete, this._dialog, isAnimated); } _setEscapeEvent() { if (this._isShown) { EventHandler.on(document, EVENT_KEYDOWN_DISMISS, (event) => { if (this._config.keyboard && event.key === ESCAPE_KEY) { event.preventDefault(); this.hide(); } else if (!this._config.keyboard && event.key === ESCAPE_KEY) { this._triggerBackdropTransition(); } }); } else { EventHandler.off(this._element, EVENT_KEYDOWN_DISMISS); } } _setResizeEvent() { if (this._isShown) { EventHandler.on(window, EVENT_RESIZE, () => this._adjustDialog()); } else { EventHandler.off(window, EVENT_RESIZE); } } _hideModal() { const modalDialog = SelectorEngine.findOne(SELECTOR_DIALOG, this._element); modalDialog.classList.remove(this._classes.show); modalDialog.classList.remove("opacity-100"); modalDialog.classList.add("opacity-0"); setTimeout(() => { this._element.style.display = "none"; }, 300); this._element.setAttribute("aria-hidden", true); this._element.removeAttribute("aria-modal"); this._element.removeAttribute("role"); this._isTransitioning = false; this._backdrop.hide(() => { document.body.removeAttribute(OPEN_SELECTOR_BODY); this._resetAdjustments(); this._scrollBar.reset(); EventHandler.trigger(this._element, EVENT_HIDDEN); }); } _showBackdrop(callback) { EventHandler.on(this._element, EVENT_CLICK_DISMISS, (event) => { if (this._ignoreBackdropClick) { this._ignoreBackdropClick = false; return; } if (event.target !== event.currentTarget) { return; } if (this._config.backdrop === true) { this.hide(); } else if (this._config.backdrop === "static") { this._triggerBackdropTransition(); } }); this._backdrop.show(callback); } _isAnimated() { const animate = SelectorEngine.findOne(SELECTOR_DIALOG, this._element); return !!animate; } _triggerBackdropTransition() { const hideEvent = EventHandler.trigger(this._element, EVENT_HIDE_PREVENTED); if (hideEvent.defaultPrevented) { return; } const { classList, scrollHeight, style } = this._element; const isModalOverflowing = scrollHeight > document.documentElement.clientHeight; // return if the following background transition hasn't yet completed if ( (!isModalOverflowing && style.overflowY === "hidden") || classList.contains(this._classes.static) ) { return; } if (!isModalOverflowing) { style.overflowY = "hidden"; } classList.add(...this._classes.static.split(" ")); classList.add(...this._classes.staticProperties.split(" ")); this._queueCallback(() => { classList.remove(this._classes.static); setTimeout(() => { classList.remove(...this._classes.staticProperties.split(" ")); }, 300); if (!isModalOverflowing) { this._queueCallback(() => { style.overflowY = ""; }, this._dialog); } }, this._dialog); this._element.focus(); } // ---------------------------------------------------------------------- // the following methods are used to handle overflowing modals // ---------------------------------------------------------------------- _adjustDialog() { const isModalOverflowing = this._element.scrollHeight > document.documentElement.clientHeight; const scrollbarWidth = this._scrollBar.getWidth(); const isBodyOverflowing = scrollbarWidth > 0; if ( (!isBodyOverflowing && isModalOverflowing && !isRTL()) || (isBodyOverflowing && !isModalOverflowing && isRTL()) ) { this._element.style.paddingLeft = `${scrollbarWidth}px`; } if ( (isBodyOverflowing && !isModalOverflowing && !isRTL()) || (!isBodyOverflowing && isModalOverflowing && isRTL()) ) { this._element.style.paddingRight = `${scrollbarWidth}px`; } } _resetAdjustments() { this._element.style.paddingLeft = ""; this._element.style.paddingRight = ""; } // Static static jQueryInterface(config, relatedTarget) { return this.each(function () { const data = Modal.getOrCreateInstance(this, config); if (typeof config !== "string") { return; } if (typeof data[config] === "undefined") { throw new TypeError(`No method named "${config}"`); } data[config](relatedTarget); }); } } export default Modal; ",
  "/* -------------------------------------------------------------------------- Tailwind Elements is an open-source UI kit of advanced components for TailwindCSS. Copyright © 2023 MDBootstrap.com Unless a custom, individually assigned license has been granted, this program is free software: you can redistribute it and/or modify it under the terms of the GNU Affero General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. In addition, a custom license may be available upon request, subject to the terms and conditions of that license. Please contact tailwind@mdbootstrap.com for more information on obtaining a custom license. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero General Public License for more details. -------------------------------------------------------------------------- */ const uriAttributes = new Set([ "background", "cite", "href", "itemtype", "longdesc", "poster", "src", "xlink:href", ]); const ARIA_ATTRIBUTE_PATTERN = /^aria-[\w-]*$/i; /** * A pattern that recognizes a commonly useful subset of URLs that are safe. * * Shoutout to Angular https://github.com/angular/angular/blob/12.2.x/packages/core/src/sanitization/url_sanitizer.ts */ const SAFE_URL_PATTERN = /^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i; /** * A pattern that matches safe data URLs. Only matches image, video and audio types. * * Shoutout to Angular https://github.com/angular/angular/blob/12.2.x/packages/core/src/sanitization/url_sanitizer.ts */ const DATA_URL_PATTERN = /^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i; const allowedAttribute = (attribute, allowedAttributeList) => { const attributeName = attribute.nodeName.toLowerCase(); if (allowedAttributeList.includes(attributeName)) { if (uriAttributes.has(attributeName)) { return Boolean( SAFE_URL_PATTERN.test(attribute.nodeValue) || DATA_URL_PATTERN.test(attribute.nodeValue) ); } return true; } const regExp = allowedAttributeList.filter( (attributeRegex) => attributeRegex instanceof RegExp ); // Check if a regular expression validates the attribute. for (let i = 0, len = regExp.length; i < len; i++) { if (regExp[i].test(attributeName)) { return true; } } return false; }; export const DefaultAllowlist = { // Global attributes allowed on any supplied element below. "*": ["class", "dir", "id", "lang", "role", ARIA_ATTRIBUTE_PATTERN], a: ["target", "href", "title", "rel"], area: [], b: [], br: [], col: [], code: [], div: [], em: [], hr: [], h1: [], h2: [], h3: [], h4: [], h5: [], h6: [], i: [], img: ["src", "srcset", "alt", "title", "width", "height"], li: [], ol: [], p: [], pre: [], s: [], small: [], span: [], sub: [], sup: [], strong: [], u: [], ul: [], }; export function sanitizeHtml(unsafeHtml, allowList, sanitizeFn) { if (!unsafeHtml.length) { return unsafeHtml; } if (sanitizeFn && typeof sanitizeFn === "function") { return sanitizeFn(unsafeHtml); } const domParser = new window.DOMParser(); const createdDocument = domParser.parseFromString(unsafeHtml, "text/html"); const elements = [].concat(...createdDocument.body.querySelectorAll("*")); for (let i = 0, len = elements.length; i < len; i++) { const element = elements[i]; const elementName = element.nodeName.toLowerCase(); if (!Object.keys(allowList).includes(elementName)) { element.remove(); continue; } const attributeList = [].concat(...element.attributes); const allowedAttributes = [].concat( allowList["*"] || [], allowList[elementName] || [] ); attributeList.forEach((attribute) => { if (!allowedAttribute(attribute, allowedAttributes)) { element.removeAttribute(attribute.nodeName); } }); } return createdDocument.body.innerHTML; } ",
  "/* -------------------------------------------------------------------------- Tailwind Elements is an open-source UI kit of advanced components for TailwindCSS. Copyright © 2023 MDBootstrap.com Unless a custom, individually assigned license has been granted, this program is free software: you can redistribute it and/or modify it under the terms of the GNU Affero General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. In addition, a custom license may be available upon request, subject to the terms and conditions of that license. Please contact tailwind@mdbootstrap.com for more information on obtaining a custom license. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero General Public License for more details. -------------------------------------------------------------------------- */ import * as Popper from "@popperjs/core"; import { findShadowRoot, getElement, getUID, isElement, isRTL, noop, typeCheckConfig, } from "../util/index"; import { DefaultAllowlist, sanitizeHtml } from "../util/sanitizer"; import Data from "../dom/data"; import EventHandler from "../dom/event-handler"; import Manipulator from "../dom/manipulator"; import SelectorEngine from "../dom/selector-engine"; import BaseComponent from "../base-component"; /* ------------------------------------------------------------------------ Constants ------------------------------------------------------------------------ */ const NAME = "tooltip"; const DATA_KEY = "te.tooltip"; const EVENT_KEY = `.${DATA_KEY}`; const CLASS_PREFIX = "te-tooltip"; const DISALLOWED_ATTRIBUTES = new Set(["sanitize", "allowList", "sanitizeFn"]); const DefaultType = { animation: "boolean", template: "string", title: "(string|element|function)", trigger: "string", delay: "(number|object)", html: "boolean", selector: "(string|boolean)", placement: "(string|function)", offset: "(array|string|function)", container: "(string|element|boolean)", fallbackPlacements: "array", boundary: "(string|element)", customClass: "(string|function)", sanitize: "boolean", sanitizeFn: "(null|function)", allowList: "object", popperConfig: "(null|object|function)", }; const AttachmentMap = { AUTO: "auto", TOP: "top", RIGHT: isRTL() ? "left" : "right", BOTTOM: "bottom", LEFT: isRTL() ? "right" : "left", }; const Default = { animation: true, template: '<div class="opacity-0 transition-opacity duration-300 ease-in-out absolute z-[1080] block m-0 text-sm not-italic font-normal text-left no-underline underline-offset-auto normal-case leading-6 tracking-normal break-normal whitespace-normal" role="tooltip">' + '<div data-te-tooltip-inner-ref class="tooltip-inner max-w-[200px] text-sm py-1.5 px-4 text-white text-center bg-[#6d6d6d] rounded"></div>' + "</div>", trigger: "hover focus", title: "", delay: 0, html: false, selector: false, placement: "top", offset: [0, 0], container: false, fallbackPlacements: ["top", "right", "bottom", "left"], boundary: "clippingParents", customClass: "", sanitize: true, sanitizeFn: null, allowList: DefaultAllowlist, popperConfig: { hide: true }, }; const Event = { HIDE: `hide${EVENT_KEY}`, HIDDEN: `hidden${EVENT_KEY}`, SHOW: `show${EVENT_KEY}`, SHOWN: `shown${EVENT_KEY}`, INSERTED: `inserted${EVENT_KEY}`, CLICK: `click${EVENT_KEY}`, FOCUSIN: `focusin${EVENT_KEY}`, FOCUSOUT: `focusout${EVENT_KEY}`, MOUSEENTER: `mouseenter${EVENT_KEY}`, MOUSELEAVE: `mouseleave${EVENT_KEY}`, }; const CLASS_NAME_FADE = "fade"; const CLASS_NAME_MODAL = "modal"; const CLASS_NAME_SHOW = "show"; const HOVER_STATE_SHOW = "show"; const HOVER_STATE_OUT = "out"; const SELECTOR_TOOLTIP_INNER = ".tooltip-inner"; const SELECTOR_MODAL = `.${CLASS_NAME_MODAL}`; const EVENT_MODAL_HIDE = "hide.te.modal"; const TRIGGER_HOVER = "hover"; const TRIGGER_FOCUS = "focus"; const TRIGGER_CLICK = "click"; const TRIGGER_MANUAL = "manual"; /* ------------------------------------------------------------------------ Class Definition ------------------------------------------------------------------------ */ class Tooltip extends BaseComponent { constructor(element, config) { if (typeof Popper === "undefined") { throw new TypeError( "Bootstrap's tooltips require Popper (https://popper.js.org)" ); } super(element); // private this._isEnabled = true; this._timeout = 0; this._hoverState = ""; this._activeTrigger = {}; this._popper = null; // Protected this._config = this._getConfig(config); this.tip = null; this._setListeners(); } // Getters static get Default() { return Default; } static get NAME() { return NAME; } static get Event() { return Event; } static get DefaultType() { return DefaultType; } // Public enable() { this._isEnabled = true; } disable() { this._isEnabled = false; } toggleEnabled() { this._isEnabled = !this._isEnabled; } toggle(event) { if (!this._isEnabled) { return; } if (event) { const context = this._initializeOnDelegatedTarget(event); context._activeTrigger.click = !context._activeTrigger.click; if (context._isWithActiveTrigger()) { context._enter(null, context); } else { context._leave(null, context); } } else { if (this.getTipElement().classList.contains(CLASS_NAME_SHOW)) { this._leave(null, this); return; } this._enter(null, this); } } dispose() { clearTimeout(this._timeout); EventHandler.off( this._element.closest(SELECTOR_MODAL), EVENT_MODAL_HIDE, this._hideModalHandler ); if (this.tip) { this.tip.remove(); } this._disposePopper(); super.dispose(); } show() { if (this._element.style.display === "none") { throw new Error("Please use show on visible elements"); } if (!(this.isWithContent() && this._isEnabled)) { return; } const showEvent = EventHandler.trigger( this._element, this.constructor.Event.SHOW ); const shadowRoot = findShadowRoot(this._element); const isInTheDom = shadowRoot === null ? this._element.ownerDocument.documentElement.contains(this._element) : shadowRoot.contains(this._element); if (showEvent.defaultPrevented || !isInTheDom) { return; } // A trick to recreate a tooltip in case a new title is given by using the NOT documented `data-te-original-title` // This will be removed later in favor of a `setContent` method if ( this.constructor.NAME === "tooltip" && this.tip && this.getTitle() !== this.tip.querySelector(SELECTOR_TOOLTIP_INNER).innerHTML ) { this._disposePopper(); this.tip.remove(); this.tip = null; } const tip = this.getTipElement(); const tipId = getUID(this.constructor.NAME); tip.setAttribute("id", tipId); this._element.setAttribute("aria-describedby", tipId); if (this._config.animation) { setTimeout(() => { this.tip.classList.add("opacity-100"); this.tip.classList.remove("opacity-0"); }, 100); } const placement = typeof this._config.placement === "function" ? this._config.placement.call(this, tip, this._element) : this._config.placement; const attachment = this._getAttachment(placement); this._addAttachmentClass(attachment); const { container } = this._config; Data.setData(tip, this.constructor.DATA_KEY, this); if (!this._element.ownerDocument.documentElement.contains(this.tip)) { container.append(tip); EventHandler.trigger(this._element, this.constructor.Event.INSERTED); } if (this._popper) { this._popper.update(); } else { this._popper = Popper.createPopper( this._element, tip, this._getPopperConfig(attachment) ); } const notPopover = tip.getAttribute("id").includes("tooltip"); if (notPopover) { switch (placement) { case "bottom": tip.classList.add("py-[0.4rem]"); break; case "left": tip.classList.add("px-[0.4rem]"); break; case "right": tip.classList.add("px-[0.4rem]"); break; default: tip.classList.add("py-[0.4rem]"); break; } } const customClass = this._resolvePossibleFunction(this._config.customClass); if (customClass) { tip.classList.add(...customClass.split(" ")); } // If this is a touch-enabled device we add extra // empty mouseover listeners to the body's immediate children; // only needed because of broken event delegation on iOS // https://www.quirksmode.org/blog/archives/2014/02/mouse_event_bub.html if ("ontouchstart" in document.documentElement) { [].concat(...document.body.children).forEach((element) => { EventHandler.on(element, "mouseover", noop); }); } const complete = () => { const prevHoverState = this._hoverState; this._hoverState = null; EventHandler.trigger(this._element, this.constructor.Event.SHOWN); if (prevHoverState === HOVER_STATE_OUT) { this._leave(null, this); } }; const isAnimated = this.tip.classList.contains("transition-opacity"); this._queueCallback(complete, this.tip, isAnimated); } hide() { if (!this._popper) { return; } const tip = this.getTipElement(); const complete = () => { if (this._isWithActiveTrigger()) { return; } if (this._hoverState !== HOVER_STATE_SHOW) { tip.remove(); } this._cleanTipClass(); this._element.removeAttribute("aria-describedby"); EventHandler.trigger(this._element, this.constructor.Event.HIDDEN); this._disposePopper(); }; const hideEvent = EventHandler.trigger( this._element, this.constructor.Event.HIDE ); if (hideEvent.defaultPrevented) { return; } tip.classList.add("opacity-0"); tip.classList.remove("opacity-100"); // If this is a touch-enabled device we remove the extra // empty mouseover listeners we added for iOS support if ("ontouchstart" in document.documentElement) { [] .concat(...document.body.children) .forEach((element) => EventHandler.off(element, "mouseover", noop)); } this._activeTrigger[TRIGGER_CLICK] = false; this._activeTrigger[TRIGGER_FOCUS] = false; this._activeTrigger[TRIGGER_HOVER] = false; const isAnimated = this.tip.classList.contains("opacity-0"); this._queueCallback(complete, this.tip, isAnimated); this._hoverState = ""; } update() { if (this._popper !== null) { this._popper.update(); } } // Protected isWithContent() { return Boolean(this.getTitle()); } getTipElement() { if (this.tip) { return this.tip; } const element = document.createElement("div"); element.innerHTML = this._config.template; const tip = element.children[0]; this.setContent(tip); tip.classList.remove(CLASS_NAME_FADE, CLASS_NAME_SHOW); this.tip = tip; return this.tip; } setContent(tip) { this._sanitizeAndSetContent(tip, this.getTitle(), SELECTOR_TOOLTIP_INNER); } _sanitizeAndSetContent(template, content, selector) { const templateElement = SelectorEngine.findOne(selector, template); if (!content && templateElement) { templateElement.remove(); return; } // we use append for html objects to maintain js events this.setElementContent(templateElement, content); } setElementContent(element, content) { if (element === null) { return; } if (isElement(content)) { content = getElement(content); // content is a DOM node or a jQuery if (this._config.html) { if (content.parentNode !== element) { element.innerHTML = ""; element.append(content); } } else { element.textContent = content.textContent; } return; } if (this._config.html) { if (this._config.sanitize) { content = sanitizeHtml( content, this._config.allowList, this._config.sanitizeFn ); } element.innerHTML = content; } else { element.textContent = content; } } getTitle() { const title = this._element.getAttribute("data-te-original-title") || this._config.title; return this._resolvePossibleFunction(title); } updateAttachment(attachment) { if (attachment === "right") { return "end"; } if (attachment === "left") { return "start"; } return attachment; } // Private _initializeOnDelegatedTarget(event, context) { return ( context || this.constructor.getOrCreateInstance( event.delegateTarget, this._getDelegateConfig() ) ); } _getOffset() { const { offset } = this._config; if (typeof offset === "string") { return offset.split(",").map((val) => Number.parseInt(val, 10)); } if (typeof offset === "function") { return (popperData) => offset(popperData, this._element); } return offset; } _resolvePossibleFunction(content) { return typeof content === "function" ? content.call(this._element) : content; } _getPopperConfig(attachment) { const defaultBsPopperConfig = { placement: attachment, modifiers: [ { name: "flip", options: { fallbackPlacements: this._config.fallbackPlacements, }, }, { name: "offset", options: { offset: this._getOffset(), }, }, { name: "preventOverflow", options: { boundary: this._config.boundary, }, }, { name: "arrow", options: { element: `.${this.constructor.NAME}-arrow`, }, }, { name: "onChange", enabled: true, phase: "afterWrite", fn: (data) => this._handlePopperPlacementChange(data), }, ], onFirstUpdate: (data) => { if (data.options.placement !== data.placement) { this._handlePopperPlacementChange(data); } }, }; return { ...defaultBsPopperConfig, ...(typeof this._config.popperConfig === "function" ? this._config.popperConfig(defaultBsPopperConfig) : this._config.popperConfig), }; } _addAttachmentClass(attachment) { this.getTipElement().classList.add( `${this._getBasicClassPrefix()}-${this.updateAttachment(attachment)}` ); } _getAttachment(placement) { return AttachmentMap[placement.toUpperCase()]; } _setListeners() { const triggers = this._config.trigger.split(" "); triggers.forEach((trigger) => { if (trigger === "click") { EventHandler.on( this._element, this.constructor.Event.CLICK, this._config.selector, (event) => this.toggle(event) ); } else if (trigger !== TRIGGER_MANUAL) { const eventIn = trigger === TRIGGER_HOVER ? this.constructor.Event.MOUSEENTER : this.constructor.Event.FOCUSIN; const eventOut = trigger === TRIGGER_HOVER ? this.constructor.Event.MOUSELEAVE : this.constructor.Event.FOCUSOUT; EventHandler.on( this._element, eventIn, this._config.selector, (event) => this._enter(event) ); EventHandler.on( this._element, eventOut, this._config.selector, (event) => this._leave(event) ); } }); this._hideModalHandler = () => { if (this._element) { this.hide(); } }; EventHandler.on( this._element.closest(SELECTOR_MODAL), EVENT_MODAL_HIDE, this._hideModalHandler ); if (this._config.selector) { this._config = { ...this._config, trigger: "manual", selector: "", }; } else { this._fixTitle(); } } _fixTitle() { const title = this._element.getAttribute("title"); const originalTitleType = typeof this._element.getAttribute( "data-te-original-title" ); if (title || originalTitleType !== "string") { this._element.setAttribute("data-te-original-title", title || ""); if ( title && !this._element.getAttribute("aria-label") && !this._element.textContent ) { this._element.setAttribute("aria-label", title); } this._element.setAttribute("title", ""); } } _enter(event, context) { context = this._initializeOnDelegatedTarget(event, context); if (event) { context._activeTrigger[ event.type === "focusin" ? TRIGGER_FOCUS : TRIGGER_HOVER ] = true; } if ( context.getTipElement().classList.contains(CLASS_NAME_SHOW) || context._hoverState === HOVER_STATE_SHOW ) { context._hoverState = HOVER_STATE_SHOW; return; } clearTimeout(context._timeout); context._hoverState = HOVER_STATE_SHOW; if (!context._config.delay || !context._config.delay.show) { context.show(); return; } context._timeout = setTimeout(() => { if (context._hoverState === HOVER_STATE_SHOW) { context.show(); } }, context._config.delay.show); } _leave(event, context) { context = this._initializeOnDelegatedTarget(event, context); if (event) { context._activeTrigger[ event.type === "focusout" ? TRIGGER_FOCUS : TRIGGER_HOVER ] = context._element.contains(event.relatedTarget); } if (context._isWithActiveTrigger()) { return; } clearTimeout(context._timeout); context._hoverState = HOVER_STATE_OUT; if (!context._config.delay || !context._config.delay.hide) { context.hide(); return; } context._timeout = setTimeout(() => { if (context._hoverState === HOVER_STATE_OUT) { context.hide(); } }, context._config.delay.hide); } _isWithActiveTrigger() { for (const trigger in this._activeTrigger) { if (this._activeTrigger[trigger]) { return true; } } return false; } _getConfig(config) { const dataAttributes = Manipulator.getDataAttributes(this._element); Object.keys(dataAttributes).forEach((dataAttr) => { if (DISALLOWED_ATTRIBUTES.has(dataAttr)) { delete dataAttributes[dataAttr]; } }); config = { ...this.constructor.Default, ...dataAttributes, ...(typeof config === "object" && config ? config : {}), }; config.container = config.container === false ? document.body : getElement(config.container); if (typeof config.delay === "number") { config.delay = { show: config.delay, hide: config.delay, }; } if (typeof config.title === "number") { config.title = config.title.toString(); } if (typeof config.content === "number") { config.content = config.content.toString(); } typeCheckConfig(NAME, config, this.constructor.DefaultType); if (config.sanitize) { config.template = sanitizeHtml( config.template, config.allowList, config.sanitizeFn ); } return config; } _getDelegateConfig() { const config = {}; for (const key in this._config) { if (this.constructor.Default[key] !== this._config[key]) { config[key] = this._config[key]; } } // In the future can be replaced with: // const keysWithDifferentValues = Object.entries(this._config).filter(entry => this.constructor.Default[entry[0]] !== this._config[entry[0]]) // `Object.fromEntries(keysWithDifferentValues)` return config; } _cleanTipClass() { const tip = this.getTipElement(); const basicClassPrefixRegex = new RegExp( `(^|\\s)${this._getBasicClassPrefix()}\\S+`, "g" ); const tabClass = tip.getAttribute("class").match(basicClassPrefixRegex); if (tabClass !== null && tabClass.length > 0) { tabClass .map((token) => token.trim()) .forEach((tClass) => tip.classList.remove(tClass)); } } _getBasicClassPrefix() { return CLASS_PREFIX; } _handlePopperPlacementChange(popperData) { const { state } = popperData; if (!state) { return; } this.tip = state.elements.popper; this._cleanTipClass(); this._addAttachmentClass(this._getAttachment(state.placement)); } _disposePopper() { if (this._popper) { this._popper.destroy(); this._popper = null; } } // Static static jQueryInterface(config) { return this.each(function () { const data = Tooltip.getOrCreateInstance(this, config); if (typeof config === "string") { if (typeof data[config] === "undefined") { throw new TypeError(`No method named "${config}"`); } data[config](); } }); } } export default Tooltip; ",
  "/* -------------------------------------------------------------------------- Tailwind Elements is an open-source UI kit of advanced components for TailwindCSS. Copyright © 2023 MDBootstrap.com Unless a custom, individually assigned license has been granted, this program is free software: you can redistribute it and/or modify it under the terms of the GNU Affero General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. In addition, a custom license may be available upon request, subject to the terms and conditions of that license. Please contact tailwind@mdbootstrap.com for more information on obtaining a custom license. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero General Public License for more details. -------------------------------------------------------------------------- */ import Tooltip from "./tooltip"; /* ------------------------------------------------------------------------ Constants ------------------------------------------------------------------------ */ const NAME = "popover"; const DATA_KEY = "te.popover"; const EVENT_KEY = `.${DATA_KEY}`; const CLASS_PREFIX = "te-popover"; const Default = { ...Tooltip.Default, placement: "right", offset: [0, 8], trigger: "click", content: "", template: '<div class="opacity-0 transition-opacity duration-150 ease-in-out absolute top-0 left-0 z-[1070] block max-w-[267px] break-words bg-white bg-clip-padding border border-neutral-100 rounded-lg shadow-[0_0px_3px_0_rgba(0,0,0,0.07),0_2px_2px_0_rgba(0,0,0,0.04)] text-sm not-italic font-normal text-left no-underline underline-offset-auto normal-case leading-6 tracking-normal break-normal whitespace-normal dark:bg-neutral-700 dark:border-0 dark:text-white data-[popper-reference-hidden]:hidden" role="tooltip">' + '<h3 class="popover-header py-2 px-4 mb-0 border-b-2 border-neutral-100 rounded-t-lg font-medium empty:hidden dark:border-neutral-500"></h3>' + '<div class="popover-body p-4 text-[#212529] dark:text-white"></div>' + "</div>", }; const DefaultType = { ...Tooltip.DefaultType, content: "(string|element|function)", }; const Event = { HIDE: `hide${EVENT_KEY}`, HIDDEN: `hidden${EVENT_KEY}`, SHOW: `show${EVENT_KEY}`, SHOWN: `shown${EVENT_KEY}`, INSERTED: `inserted${EVENT_KEY}`, CLICK: `click${EVENT_KEY}`, FOCUSIN: `focusin${EVENT_KEY}`, FOCUSOUT: `focusout${EVENT_KEY}`, MOUSEENTER: `mouseenter${EVENT_KEY}`, MOUSELEAVE: `mouseleave${EVENT_KEY}`, }; const SELECTOR_TITLE = ".popover-header"; const SELECTOR_CONTENT = ".popover-body"; /* ------------------------------------------------------------------------ Class Definition ------------------------------------------------------------------------ */ class Popover extends Tooltip { // Getters static get Default() { return Default; } static get NAME() { return NAME; } static get Event() { return Event; } static get DefaultType() { return DefaultType; } // Overrides isWithContent() { return this.getTitle() || this._getContent(); } setContent(tip) { this._sanitizeAndSetContent(tip, this.getTitle(), SELECTOR_TITLE); this._sanitizeAndSetContent(tip, this._getContent(), SELECTOR_CONTENT); } // Private _getContent() { return this._resolvePossibleFunction(this._config.content); } _getBasicClassPrefix() { return CLASS_PREFIX; } // Static static jQueryInterface(config) { return this.each(function () { const data = Popover.getOrCreateInstance(this, config); if (typeof config === "string") { if (typeof data[config] === "undefined") { throw new TypeError(`No method named "${config}"`); } data[config](); } }); } } export default Popover; ",
  "/* -------------------------------------------------------------------------- Tailwind Elements is an open-source UI kit of advanced components for TailwindCSS. Copyright © 2023 MDBootstrap.com Unless a custom, individually assigned license has been granted, this program is free software: you can redistribute it and/or modify it under the terms of the GNU Affero General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. In addition, a custom license may be available upon request, subject to the terms and conditions of that license. Please contact tailwind@mdbootstrap.com for more information on obtaining a custom license. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero General Public License for more details. -------------------------------------------------------------------------- */ import { getElement, getSelectorFromElement, typeCheckConfig, } from "../util/index"; import EventHandler from "../dom/event-handler"; import Manipulator from "../dom/manipulator"; import MDBManipulator from "../dom/manipulator"; import SelectorEngine from "../dom/selector-engine"; import BaseComponent from "../base-component"; /* ------------------------------------------------------------------------ Constants ------------------------------------------------------------------------ */ const NAME = "scrollspy"; const DATA_KEY = "te.scrollspy"; const EVENT_KEY = `.${DATA_KEY}`; const DATA_API_KEY = ".data-api"; const Default = { offset: 10, method: "auto", target: "", }; const DefaultType = { offset: "number", method: "string", target: "(string|element)", }; const DefaultClasses = { active: "!text-primary dark:!text-primary-400 font-semibold border-l-[0.125rem] border-solid border-primary dark:border-primary-400", }; const DefaultClassesType = { active: "string", }; const EVENT_ACTIVATE = `activate${EVENT_KEY}`; const EVENT_SCROLL = `scroll${EVENT_KEY}`; const EVENT_LOAD_DATA_API = `load${EVENT_KEY}${DATA_API_KEY}`; const LINK_ACTIVE = "data-te-nav-link-active"; const SELECTOR_DROPDOWN_ITEM = "[data-te-dropdown-item-ref]"; const SELECTOR_DATA_SPY = '[data-te-spy="scroll"]'; const SELECTOR_NAV_LIST_GROUP = "[data-te-nav-list-ref]"; const SELECTOR_NAV_LINKS = "[data-te-nav-link-ref]"; const SELECTOR_NAV_ITEMS = "[data-te-nav-item-ref]"; const SELECTOR_LIST_ITEMS = "[data-te-list-group-item-ref]"; const SELECTOR_LINK_ITEMS = `${SELECTOR_NAV_LINKS}, ${SELECTOR_LIST_ITEMS}, ${SELECTOR_DROPDOWN_ITEM}`; const SELECTOR_DROPDOWN = "[data-te-dropdown-ref]"; const SELECTOR_DROPDOWN_TOGGLE = "[data-te-dropdown-toggle-ref]"; const METHOD_OFFSET = "offset"; const METHOD_POSITION = "position"; /* ------------------------------------------------------------------------ Class Definition ------------------------------------------------------------------------ */ class ScrollSpy extends BaseComponent { constructor(element, config, classes) { super(element); this._scrollElement = this._element.tagName === "BODY" ? window : this._element; this._config = this._getConfig(config); this._classes = this._getClasses(classes); this._offsets = []; this._targets = []; this._activeTarget = null; this._scrollHeight = 0; EventHandler.on(this._scrollElement, EVENT_SCROLL, () => this._process()); this.refresh(); this._process(); this._didInit = false; this._init(); } // Getters static get Default() { return Default; } static get NAME() { return NAME; } // Public refresh() { const autoMethod = this._scrollElement === this._scrollElement.window ? METHOD_OFFSET : METHOD_POSITION; const offsetMethod = this._config.method === "auto" ? autoMethod : this._config.method; const offsetBase = offsetMethod === METHOD_POSITION ? this._getScrollTop() : 0; this._offsets = []; this._targets = []; this._scrollHeight = this._getScrollHeight(); const targets = SelectorEngine.find( SELECTOR_LINK_ITEMS, this._config.target ); targets .map((element) => { const targetSelector = getSelectorFromElement(element); const target = targetSelector ? SelectorEngine.findOne(targetSelector) : null; if (target) { const targetBCR = target.getBoundingClientRect(); if (targetBCR.width || targetBCR.height) { return [ Manipulator[offsetMethod](target).top + offsetBase, targetSelector, ]; } } return null; }) .filter((item) => item) .sort((a, b) => a[0] - b[0]) .forEach((item) => { this._offsets.push(item[0]); this._targets.push(item[1]); }); } dispose() { EventHandler.off(this._scrollElement, EVENT_KEY); super.dispose(); } // Private _init() { if (this._didInit) { return; } EventHandler.on(window, EVENT_LOAD_DATA_API, () => { SelectorEngine.find(SELECTOR_DATA_SPY).forEach( (spy) => new ScrollSpy(spy) ); }); this._didInit = true; } _getConfig(config) { config = { ...Default, ...Manipulator.getDataAttributes(this._element), ...(typeof config === "object" && config ? config : {}), }; config.target = getElement(config.target) || document.documentElement; typeCheckConfig(NAME, config, DefaultType); return config; } _getClasses(classes) { const dataAttributes = MDBManipulator.getDataClassAttributes(this._element); classes = { ...DefaultClasses, ...dataAttributes, ...classes, }; typeCheckConfig(NAME, classes, DefaultClassesType); return classes; } _getScrollTop() { return this._scrollElement === window ? this._scrollElement.pageYOffset : this._scrollElement.scrollTop; } _getScrollHeight() { return ( this._scrollElement.scrollHeight || Math.max( document.body.scrollHeight, document.documentElement.scrollHeight ) ); } _getOffsetHeight() { return this._scrollElement === window ? window.innerHeight : this._scrollElement.getBoundingClientRect().height; } _process() { const scrollTop = this._getScrollTop() + this._config.offset; const scrollHeight = this._getScrollHeight(); const maxScroll = this._config.offset + scrollHeight - this._getOffsetHeight(); if (this._scrollHeight !== scrollHeight) { this.refresh(); } if (scrollTop >= maxScroll) { const target = this._targets[this._targets.length - 1]; if (this._activeTarget !== target) { this._activate(target); } return; } if ( this._activeTarget && scrollTop < this._offsets[0] && this._offsets[0] > 0 ) { this._activeTarget = null; this._clear(); return; } for (let i = this._offsets.length; i--; ) { const isActiveTarget = this._activeTarget !== this._targets[i] && scrollTop >= this._offsets[i] && (typeof this._offsets[i + 1] === "undefined" || scrollTop < this._offsets[i + 1]); if (isActiveTarget) { this._activate(this._targets[i]); } } } _activate(target) { this._activeTarget = target; this._clear(); const queries = SELECTOR_LINK_ITEMS.split(",").map( (selector) => `${selector}[data-te-target="${target}"],${selector}[href="${target}"]` ); const link = SelectorEngine.findOne(queries.join(","), this._config.target); link.classList.add(...this._classes.active.split(" ")); link.setAttribute(LINK_ACTIVE, ""); if (link.getAttribute(SELECTOR_DROPDOWN_ITEM)) { SelectorEngine.findOne( SELECTOR_DROPDOWN_TOGGLE, link.closest(SELECTOR_DROPDOWN) ).classList.add(...this._classes.active.split(" ")); } else { SelectorEngine.parents(link, SELECTOR_NAV_LIST_GROUP).forEach( (listGroup) => { // Set triggered links parents as active // With both <ul> and <nav> markup a parent is the previous sibling of any nav ancestor SelectorEngine.prev( listGroup, `${SELECTOR_NAV_LINKS}, ${SELECTOR_LIST_ITEMS}` ).forEach((item) => { item.classList.add(...this._classes.active.split(" ")); item.setAttribute(LINK_ACTIVE, ""); }); // Handle special case when .nav-link is inside .nav-item SelectorEngine.prev(listGroup, SELECTOR_NAV_ITEMS).forEach( (navItem) => { SelectorEngine.children(navItem, SELECTOR_NAV_LINKS).forEach( (item) => item.classList.add(...this._classes.active.split(" ")) ); } ); } ); } EventHandler.trigger(this._scrollElement, EVENT_ACTIVATE, { relatedTarget: target, }); } _clear() { SelectorEngine.find(SELECTOR_LINK_ITEMS, this._config.target) .filter((node) => node.classList.contains(...this._classes.active.split(" ")) ) .forEach((node) => { node.classList.remove(...this._classes.active.split(" ")); node.removeAttribute(LINK_ACTIVE); }); } // Static static jQueryInterface(config) { return this.each(function () { const data = ScrollSpy.getOrCreateInstance(this, config); if (typeof config !== "string") { return; } if (typeof data[config] === "undefined") { throw new TypeError(`No method named "${config}"`); } data[config](); }); } } export default ScrollSpy; ",
  "/* -------------------------------------------------------------------------- Tailwind Elements is an open-source UI kit of advanced components for TailwindCSS. Copyright © 2023 MDBootstrap.com Unless a custom, individually assigned license has been granted, this program is free software: you can redistribute it and/or modify it under the terms of the GNU Affero General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. In addition, a custom license may be available upon request, subject to the terms and conditions of that license. Please contact tailwind@mdbootstrap.com for more information on obtaining a custom license. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero General Public License for more details. -------------------------------------------------------------------------- */ import { getElementFromSelector, reflow, typeCheckConfig } from "../util/index"; import Manipulator from "../dom/manipulator"; import EventHandler from "../dom/event-handler"; import SelectorEngine from "../dom/selector-engine"; import BaseComponent from "../base-component"; /* ------------------------------------------------------------------------ Constants ------------------------------------------------------------------------ */ const NAME = "tab"; const DATA_KEY = "te.tab"; const EVENT_KEY = `.${DATA_KEY}`; const EVENT_HIDE = `hide${EVENT_KEY}`; const EVENT_HIDDEN = `hidden${EVENT_KEY}`; const EVENT_SHOW = `show${EVENT_KEY}`; const EVENT_SHOWN = `shown${EVENT_KEY}`; const DATA_NAME_DROPDOWN_MENU = "data-te-dropdown-menu-ref"; const TAB_ACTIVE = "data-te-tab-active"; const NAV_ACTIVE = "data-te-nav-active"; const SELECTOR_DROPDOWN = "[data-te-dropdown-ref]"; const SELECTOR_NAV = "[data-te-nav-ref]"; const SELECTOR_TAB_ACTIVE = `[${TAB_ACTIVE}]`; const SELECTOR_NAV_ACTIVE = `[${NAV_ACTIVE}]`; const SELECTOR_ACTIVE_UL = ":scope > li > .active"; const SELECTOR_DROPDOWN_TOGGLE = "[data-te-dropdown-toggle-ref]"; const SELECTOR_DROPDOWN_ACTIVE_CHILD = ":scope > [data-te-dropdown-menu-ref] [data-te-dropdown-show]"; const DefaultClasses = { show: "opacity-100", hide: "opacity-0", }; const DefaultClassesType = { show: "string", hide: "string", }; /* ------------------------------------------------------------------------ Class Definition ------------------------------------------------------------------------ */ class Tab extends BaseComponent { constructor(element, classes) { super(element); this._classes = this._getClasses(classes); } // Getters static get NAME() { return NAME; } // Public show() { if ( this._element.parentNode && this._element.parentNode.nodeType === Node.ELEMENT_NODE && this._element.getAttribute(NAV_ACTIVE) === "" ) { return; } let previous; const target = getElementFromSelector(this._element); const listElement = this._element.closest(SELECTOR_NAV); const activeNavElement = SelectorEngine.findOne( SELECTOR_NAV_ACTIVE, listElement ); if (listElement) { const itemSelector = listElement.nodeName === "UL" || listElement.nodeName === "OL" ? SELECTOR_ACTIVE_UL : SELECTOR_TAB_ACTIVE; previous = SelectorEngine.find(itemSelector, listElement); previous = previous[previous.length - 1]; } const hideEvent = previous ? EventHandler.trigger(previous, EVENT_HIDE, { relatedTarget: this._element, }) : null; const showEvent = EventHandler.trigger(this._element, EVENT_SHOW, { relatedTarget: previous, }); if ( showEvent.defaultPrevented || (hideEvent !== null && hideEvent.defaultPrevented) ) { return; } this._activate( this._element, listElement, null, activeNavElement, this._element ); const complete = () => { EventHandler.trigger(previous, EVENT_HIDDEN, { relatedTarget: this._element, }); EventHandler.trigger(this._element, EVENT_SHOWN, { relatedTarget: previous, }); }; if (target) { this._activate( target, target.parentNode, complete, activeNavElement, this._element ); } else { complete(); } } // Private _getClasses(classes) { const dataAttributes = Manipulator.getDataClassAttributes(this._element); classes = { ...DefaultClasses, ...dataAttributes, ...classes, }; typeCheckConfig(NAME, classes, DefaultClassesType); return classes; } _activate(element, container, callback, activeNavElement, navElement) { const activeElements = container && (container.nodeName === "UL" || container.nodeName === "OL") ? SelectorEngine.find(SELECTOR_ACTIVE_UL, container) : SelectorEngine.children(container, SELECTOR_TAB_ACTIVE); const active = activeElements[0]; const isTransitioning = callback && active && active.hasAttribute(TAB_ACTIVE); const complete = () => this._transitionComplete( element, active, callback, activeNavElement, navElement ); if (active && isTransitioning) { Manipulator.removeClass(active, this._classes.show); Manipulator.addClass(active, this._classes.hide); this._queueCallback(complete, element, true); } else { complete(); } } _transitionComplete(element, active, callback, activeNavElement, navElement) { if (active && activeNavElement) { active.removeAttribute(TAB_ACTIVE); activeNavElement.removeAttribute(NAV_ACTIVE); const dropdownChild = SelectorEngine.findOne( SELECTOR_DROPDOWN_ACTIVE_CHILD, active.parentNode ); if (dropdownChild) { dropdownChild.removeAttribute(TAB_ACTIVE); } if (active.getAttribute("role") === "tab") { active.setAttribute("aria-selected", false); } } element.setAttribute(TAB_ACTIVE, ""); navElement.setAttribute(NAV_ACTIVE, ""); if (element.getAttribute("role") === "tab") { element.setAttribute("aria-selected", true); } reflow(element); if (element.classList.contains(this._classes.hide)) { Manipulator.removeClass(element, this._classes.hide); Manipulator.addClass(element, this._classes.show); } let parent = element.parentNode; if (parent && parent.nodeName === "LI") { parent = parent.parentNode; } if (parent && parent.hasAttribute(DATA_NAME_DROPDOWN_MENU)) { const dropdownElement = element.closest(SELECTOR_DROPDOWN); if (dropdownElement) { SelectorEngine.find(SELECTOR_DROPDOWN_TOGGLE, dropdownElement).forEach( (dropdown) => dropdown.setAttribute(TAB_ACTIVE, "") ); } element.setAttribute("aria-expanded", true); } if (callback) { callback(); } } // Static static jQueryInterface(config) { return this.each(function () { const data = Tab.getOrCreateInstance(this); if (typeof config === "string") { if (typeof data[config] === "undefined") { throw new TypeError(`No method named "${config}"`); } data[config](); } }); } } export default Tab; ",
  "/* -------------------------------------------------------------------------- Tailwind Elements is an open-source UI kit of advanced components for TailwindCSS. Copyright © 2023 MDBootstrap.com Unless a custom, individually assigned license has been granted, this program is free software: you can redistribute it and/or modify it under the terms of the GNU Affero General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. In addition, a custom license may be available upon request, subject to the terms and conditions of that license. Please contact tailwind@mdbootstrap.com for more information on obtaining a custom license. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero General Public License for more details. -------------------------------------------------------------------------- */ import { reflow, typeCheckConfig } from "../util/index"; import EventHandler from "../dom/event-handler"; import Manipulator from "../dom/manipulator"; import BaseComponent from "../base-component"; import { enableDismissTrigger } from "../util/component-functions"; /* ------------------------------------------------------------------------ Constants ------------------------------------------------------------------------ */ const NAME = "toast"; const DATA_KEY = "te.toast"; const EVENT_KEY = `.${DATA_KEY}`; const EVENT_MOUSEOVER = `mouseover${EVENT_KEY}`; const EVENT_MOUSEOUT = `mouseout${EVENT_KEY}`; const EVENT_FOCUSIN = `focusin${EVENT_KEY}`; const EVENT_FOCUSOUT = `focusout${EVENT_KEY}`; const EVENT_HIDE = `hide${EVENT_KEY}`; const EVENT_HIDDEN = `hidden${EVENT_KEY}`; const EVENT_SHOW = `show${EVENT_KEY}`; const EVENT_SHOWN = `shown${EVENT_KEY}`; const HIDE_DATA_ATTRIBUTE = "data-te-toast-hide"; const SHOW_DATA_ATTRIBUTE = "data-te-toast-show"; const SHOWING_DATA_ATTRIBUTE = "data-te-toast-showing"; const DefaultType = { animation: "boolean", autohide: "boolean", delay: "number", }; const Default = { animation: true, autohide: true, delay: 5000, }; const DefaultClasses = { fadeIn: "animate-[fade-in_0.3s_both] p-[auto] motion-reduce:transition-none motion-reduce:animate-none", fadeOut: "animate-[fade-out_0.3s_both] p-[auto] motion-reduce:transition-none motion-reduce:animate-none", }; const DefaultClassesType = { fadeIn: "string", fadeOut: "string", }; /* ------------------------------------------------------------------------ Class Definition ------------------------------------------------------------------------ */ class Toast extends BaseComponent { constructor(element, config, classes) { super(element); this._config = this._getConfig(config); this._classes = this._getClasses(classes); this._timeout = null; this._hasMouseInteraction = false; this._hasKeyboardInteraction = false; this._setListeners(); this._didInit = false; this._init(); } // Getters static get DefaultType() { return DefaultType; } static get Default() { return Default; } static get NAME() { return NAME; } // Public show() { const showEvent = EventHandler.trigger(this._element, EVENT_SHOW); if (showEvent.defaultPrevented) { return; } this._clearTimeout(); if (this._config.animation) { Manipulator.removeClass(this._element, this._classes.fadeOut); Manipulator.addClass(this._element, this._classes.fadeIn); } const complete = () => { this._element.removeAttribute(SHOWING_DATA_ATTRIBUTE); EventHandler.trigger(this._element, EVENT_SHOWN); this._maybeScheduleHide(); }; this._element.removeAttribute(HIDE_DATA_ATTRIBUTE); reflow(this._element); this._element.setAttribute(SHOW_DATA_ATTRIBUTE, ""); this._element.setAttribute(SHOWING_DATA_ATTRIBUTE, ""); this._queueCallback(complete, this._element, this._config.animation); } hide() { if (!this._element || this._element.dataset.teToastShow === undefined) { return; } const hideEvent = EventHandler.trigger(this._element, EVENT_HIDE); if (hideEvent.defaultPrevented) { return; } const complete = () => { let timeout = 0; if (this._config.animation) { timeout = 300; Manipulator.removeClass(this._element, this._classes.fadeIn); Manipulator.addClass(this._element, this._classes.fadeOut); } setTimeout(() => { this._element.setAttribute(HIDE_DATA_ATTRIBUTE, ""); this._element.removeAttribute(SHOWING_DATA_ATTRIBUTE); this._element.removeAttribute(SHOW_DATA_ATTRIBUTE); EventHandler.trigger(this._element, EVENT_HIDDEN); }, timeout); }; this._element.setAttribute(SHOWING_DATA_ATTRIBUTE, ""); this._queueCallback(complete, this._element, this._config.animation); } dispose() { this._clearTimeout(); if (this._element.dataset.teToastShow !== undefined) { this._element.removeAttribute(SHOW_DATA_ATTRIBUTE); } super.dispose(); } // Private _init() { if (this._didInit) { return; } enableDismissTrigger(Toast); this._didInit = true; } _getConfig(config) { config = { ...Default, ...Manipulator.getDataAttributes(this._element), ...(typeof config === "object" && config ? config : {}), }; typeCheckConfig(NAME, config, this.constructor.DefaultType); return config; } _getClasses(classes) { const dataAttributes = Manipulator.getDataClassAttributes(this._element); classes = { ...DefaultClasses, ...dataAttributes, ...classes, }; typeCheckConfig(NAME, classes, DefaultClassesType); return classes; } _maybeScheduleHide() { if (!this._config.autohide) { return; } if (this._hasMouseInteraction || this._hasKeyboardInteraction) { return; } this._timeout = setTimeout(() => { this.hide(); }, this._config.delay); } _onInteraction(event, isInteracting) { switch (event.type) { case "mouseover": case "mouseout": this._hasMouseInteraction = isInteracting; break; case "focusin": case "focusout": this._hasKeyboardInteraction = isInteracting; break; default: break; } if (isInteracting) { this._clearTimeout(); return; } const nextElement = event.relatedTarget; if (this._element === nextElement || this._element.contains(nextElement)) { return; } this._maybeScheduleHide(); } _setListeners() { EventHandler.on(this._element, EVENT_MOUSEOVER, (event) => this._onInteraction(event, true) ); EventHandler.on(this._element, EVENT_MOUSEOUT, (event) => this._onInteraction(event, false) ); EventHandler.on(this._element, EVENT_FOCUSIN, (event) => this._onInteraction(event, true) ); EventHandler.on(this._element, EVENT_FOCUSOUT, (event) => this._onInteraction(event, false) ); } _clearTimeout() { clearTimeout(this._timeout); this._timeout = null; } // Static static jQueryInterface(config) { return this.each(function () { const data = Toast.getOrCreateInstance(this, config); if (typeof config === "string") { if (typeof data[config] === "undefined") { throw new TypeError(`No method named "${config}"`); } data[config](this); } }); } } export default Toast; ",
  "(()=>{var e={454:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(645),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,"INPUT:-webkit-autofill,SELECT:-webkit-autofill,TEXTAREA:-webkit-autofill{animation-name:onautofillstart}INPUT:not(:-webkit-autofill),SELECT:not(:-webkit-autofill),TEXTAREA:not(:-webkit-autofill){animation-name:onautofillcancel}@keyframes onautofillstart{}@keyframes onautofillcancel{}",""]);const a=o},645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(r)for(var a=0;a<this.length;a++){var i=this[a][0];null!=i&&(o[i]=!0)}for(var u=0;u<e.length;u++){var c=[].concat(e[u]);r&&o[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),t.push(c))}},t}},810:()=>{!function(){if("undefined"!=typeof window)try{var e=new window.CustomEvent("test",{cancelable:!0});if(e.preventDefault(),!0!==e.defaultPrevented)throw new Error("Could not prevent default")}catch(e){var t=function(e,t){var n,r;return(t=t||{}).bubbles=!!t.bubbles,t.cancelable=!!t.cancelable,(n=document.createEvent("CustomEvent")).initCustomEvent(e,t.bubbles,t.cancelable,t.detail),r=n.preventDefault,n.preventDefault=function(){r.call(this);try{Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}catch(e){this.defaultPrevented=!0}},n};t.prototype=window.Event.prototype,window.CustomEvent=t}}()},379:(e,t,n)=>{"use strict";var r,o=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),a=[];function i(e){for(var t=-1,n=0;n<a.length;n++)if(a[n].identifier===e){t=n;break}return t}function u(e,t){for(var n={},r=[],o=0;o<e.length;o++){var u=e[o],c=t.base?u[0]+t.base:u[0],l=n[c]||0,s="".concat(c," ").concat(l);n[c]=l+1;var d=i(s),f={css:u[1],media:u[2],sourceMap:u[3]};-1!==d?(a[d].references++,a[d].updater(f)):a.push({identifier:s,updater:m(f,t),references:1}),r.push(s)}return r}function c(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var a=n.nc;a&&(r.nonce=a)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var i=o(e.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(t)}return t}var l,s=(l=[],function(e,t){return l[e]=t,l.filter(Boolean).join("\n")});function d(e,t,n,r){var o=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=s(t,o);else{var a=document.createTextNode(o),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(a,i[t]):e.appendChild(a)}}function f(e,t,n){var r=n.css,o=n.media,a=n.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var v=null,p=0;function m(e,t){var n,r,o;if(t.singleton){var a=p++;n=v||(v=c(t)),r=d.bind(null,n,a,!1),o=d.bind(null,n,a,!0)}else n=c(t),r=f.bind(null,n,t),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var n=u(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var o=i(n[r]);a[o].references--}for(var c=u(e,t),l=0;l<n.length;l++){var s=i(n[l]);0===a[s].references&&(a[s].updater(),a.splice(s,1))}n=c}}}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={id:r,exports:{}};return e[r](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=n(379),t=n.n(e),r=n(454);function o(e){if(!e.hasAttribute("autocompleted")){e.setAttribute("autocompleted","");var t=new window.CustomEvent("onautocomplete",{bubbles:!0,cancelable:!0,detail:null});e.dispatchEvent(t)||(e.value="")}}function a(e){e.hasAttribute("autocompleted")&&(e.removeAttribute("autocompleted"),e.dispatchEvent(new window.CustomEvent("onautocomplete",{bubbles:!0,cancelable:!1,detail:null})))}t()(r.Z,{insert:"head",singleton:!1}),r.Z.locals,n(810),document.addEventListener("animationstart",(function(e){"onautofillstart"===e.animationName?o(e.target):a(e.target)}),!0),document.addEventListener("input",(function(e){"insertReplacementText"!==e.inputType&&"data"in e?a(e.target):o(e.target)}),!0)})()})();",
  "/* -------------------------------------------------------------------------- Tailwind Elements is an open-source UI kit of advanced components for TailwindCSS. Copyright © 2023 MDBootstrap.com Unless a custom, individually assigned license has been granted, this program is free software: you can redistribute it and/or modify it under the terms of the GNU Affero General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. In addition, a custom license may be available upon request, subject to the terms and conditions of that license. Please contact tailwind@mdbootstrap.com for more information on obtaining a custom license. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero General Public License for more details. -------------------------------------------------------------------------- */ import { element, onDOMContentLoaded, typeCheckConfig } from "../util/index"; import Data from "../dom/data"; import EventHandler from "../dom/event-handler"; import Manipulator from "../dom/manipulator"; import SelectorEngine from "../dom/selector-engine"; import "detect-autofill"; /* ------------------------------------------------------------------------ Constants ------------------------------------------------------------------------ */ const NAME = "input"; const DATA_KEY = "te.input"; const DATA_WRAPPER = "data-te-input-wrapper-init"; const DATA_NOTCH = "data-te-input-notch-ref"; const DATA_NOTCH_LEADING = "data-te-input-notch-leading-ref"; const DATA_NOTCH_MIDDLE = "data-te-input-notch-middle-ref"; const DATA_NOTCH_TRAILING = "data-te-input-notch-trailing-ref"; const DATA_HELPER = "data-te-input-helper-ref"; const DATA_PLACEHOLDER_ACTIVE = "data-te-input-placeholder-active"; const DATA_ACTIVE = "data-te-input-state-active"; const DATA_FOCUSED = "data-te-input-focused"; const DATA_FORM_COUNTER = "data-te-input-form-counter"; const SELECTOR_OUTLINE_INPUT = `[${DATA_WRAPPER}] input`; const SELECTOR_OUTLINE_TEXTAREA = `[${DATA_WRAPPER}] textarea`; const SELECTOR_NOTCH = `[${DATA_NOTCH}]`; const SELECTOR_NOTCH_LEADING = `[${DATA_NOTCH_LEADING}]`; const SELECTOR_NOTCH_MIDDLE = `[${DATA_NOTCH_MIDDLE}]`; const SELECTOR_HELPER = `[${DATA_HELPER}]`; const Default = { inputFormWhite: false, }; const DefaultType = { inputFormWhite: "(boolean)", }; const DefaultClasses = { notch: "group flex absolute left-0 top-0 w-full max-w-full h-full text-left pointer-events-none", notchLeading: "pointer-events-none border border-solid box-border bg-transparent transition-all duration-200 ease-linear motion-reduce:transition-none left-0 top-0 h-full w-2 border-r-0 rounded-l-[0.25rem] group-data-[te-input-focused]:border-r-0 group-data-[te-input-state-active]:border-r-0", notchLeadingNormal: "border-neutral-300 dark:border-neutral-600 group-data-[te-input-focused]:shadow-[-1px_0_0_#3b71ca,_0_1px_0_0_#3b71ca,_0_-1px_0_0_#3b71ca] group-data-[te-input-focused]:border-primary", notchLeadingWhite: "border-neutral-200 group-data-[te-input-focused]:shadow-[-1px_0_0_#ffffff,_0_1px_0_0_#ffffff,_0_-1px_0_0_#ffffff] group-data-[te-input-focused]:border-white", notchMiddle: "pointer-events-none border border-solid box-border bg-transparent transition-all duration-200 ease-linear motion-reduce:transition-none grow-0 shrink-0 basis-auto w-auto max-w-[calc(100%-1rem)] h-full border-r-0 border-l-0 group-data-[te-input-focused]:border-x-0 group-data-[te-input-state-active]:border-x-0 group-data-[te-input-focused]:border-t group-data-[te-input-state-active]:border-t group-data-[te-input-focused]:border-solid group-data-[te-input-state-active]:border-solid group-data-[te-input-focused]:border-t-transparent group-data-[te-input-state-active]:border-t-transparent", notchMiddleNormal: "border-neutral-300 dark:border-neutral-600 group-data-[te-input-focused]:shadow-[0_1px_0_0_#3b71ca] group-data-[te-input-focused]:border-primary", notchMiddleWhite: "border-neutral-200 group-data-[te-input-focused]:shadow-[0_1px_0_0_#ffffff] group-data-[te-input-focused]:border-white", notchTrailing: "pointer-events-none border border-solid box-border bg-transparent transition-all duration-200 ease-linear motion-reduce:transition-none grow h-full border-l-0 rounded-r-[0.25rem] group-data-[te-input-focused]:border-l-0 group-data-[te-input-state-active]:border-l-0", notchTrailingNormal: "border-neutral-300 dark:border-neutral-600 group-data-[te-input-focused]:shadow-[1px_0_0_#3b71ca,_0_-1px_0_0_#3b71ca,_0_1px_0_0_#3b71ca] group-data-[te-input-focused]:border-primary", notchTrailingWhite: "border-neutral-200 group-data-[te-input-focused]:shadow-[1px_0_0_#ffffff,_0_-1px_0_0_#ffffff,_0_1px_0_0_#ffffff] group-data-[te-input-focused]:border-white", counter: "text-right leading-[1.6]", }; const DefaultClassesType = { notch: "string", notchLeading: "string", notchLeadingNormal: "string", notchLeadingWhite: "string", notchMiddle: "string", notchMiddleNormal: "string", notchMiddleWhite: "string", notchTrailing: "string", notchTrailingNormal: "string", notchTrailingWhite: "string", counter: "string", }; /* ------------------------------------------------------------------------ Class Definition ------------------------------------------------------------------------ */ class Input { constructor(element, config, classes) { this._config = this._getConfig(config, element); this._element = element; this._classes = this._getClasses(classes); this._label = null; this._labelWidth = 0; this._labelMarginLeft = 0; this._notchLeading = null; this._notchMiddle = null; this._notchTrailing = null; this._initiated = false; this._helper = null; this._counter = false; this._counterElement = null; this._maxLength = 0; this._leadingIcon = null; if (this._element) { Data.setData(element, DATA_KEY, this); this.init(); } } // Getters static get NAME() { return NAME; } get input() { const inputElement = SelectorEngine.findOne("input", this._element) || SelectorEngine.findOne("textarea", this._element); return inputElement; } // Public init() { if (this._initiated) { return; } this._getLabelData(); this._applyDivs(); this._applyNotch(); this._activate(); this._getHelper(); this._getCounter(); this._getEvents(); this._initiated = true; } update() { this._getLabelData(); this._getNotchData(); this._applyNotch(); this._activate(); this._getHelper(); this._getCounter(); } forceActive() { this.input.setAttribute(DATA_ACTIVE, ""); SelectorEngine.findOne(SELECTOR_NOTCH, this.input.parentNode).setAttribute( DATA_ACTIVE, "" ); } forceInactive() { this.input.removeAttribute(DATA_ACTIVE); SelectorEngine.findOne( SELECTOR_NOTCH, this.input.parentNode ).removeAttribute(DATA_ACTIVE); } dispose() { this._removeBorder(); Data.removeData(this._element, DATA_KEY); this._element = null; } // Private _getConfig(config, element) { config = { ...Default, ...Manipulator.getDataAttributes(element), ...(typeof config === "object" ? config : {}), }; typeCheckConfig(NAME, config, DefaultType); return config; } _getClasses(classes) { const dataAttributes = Manipulator.getDataClassAttributes(this._element); classes = { ...DefaultClasses, ...dataAttributes, ...classes, }; typeCheckConfig(NAME, classes, DefaultClassesType); return classes; } _getLabelData() { this._label = SelectorEngine.findOne("label", this._element); if (this._label === null) { this._showPlaceholder(); } else { this._getLabelWidth(); this._getLabelPositionInInputGroup(); this._toggleDefaultDatePlaceholder(); } } _getHelper() { this._helper = SelectorEngine.findOne(SELECTOR_HELPER, this._element); } _getCounter() { this._counter = Manipulator.getDataAttribute( this.input, "inputShowcounter" ); if (this._counter) { this._maxLength = this.input.maxLength; this._showCounter(); } } _getEvents() { EventHandler.on( document, "focus", SELECTOR_OUTLINE_INPUT, Input.activate(new Input()) ); EventHandler.on( document, "input", SELECTOR_OUTLINE_INPUT, Input.activate(new Input()) ); EventHandler.on( document, "blur", SELECTOR_OUTLINE_INPUT, Input.deactivate(new Input()) ); EventHandler.on( document, "focus", SELECTOR_OUTLINE_TEXTAREA, Input.activate(new Input()) ); EventHandler.on( document, "input", SELECTOR_OUTLINE_TEXTAREA, Input.activate(new Input()) ); EventHandler.on( document, "blur", SELECTOR_OUTLINE_TEXTAREA, Input.deactivate(new Input()) ); EventHandler.on(window, "shown.te.modal", (e) => { SelectorEngine.find(SELECTOR_OUTLINE_INPUT, e.target).forEach( (element) => { const instance = Input.getInstance(element.parentNode); if (!instance) { return; } instance.update(); } ); SelectorEngine.find(SELECTOR_OUTLINE_TEXTAREA, e.target).forEach( (element) => { const instance = Input.getInstance(element.parentNode); if (!instance) { return; } instance.update(); } ); }); EventHandler.on(window, "shown.te.dropdown", (e) => { const target = e.target.parentNode.querySelector( "[data-te-dropdown-menu-ref]" ); if (target) { SelectorEngine.find(SELECTOR_OUTLINE_INPUT, target).forEach( (element) => { const instance = Input.getInstance(element.parentNode); if (!instance) { return; } instance.update(); } ); SelectorEngine.find(SELECTOR_OUTLINE_TEXTAREA, target).forEach( (element) => { const instance = Input.getInstance(element.parentNode); if (!instance) { return; } instance.update(); } ); } }); EventHandler.on(window, "shown.te.tab", (e) => { let targetId; if (e.target.href) { targetId = e.target.href.split("#")[1]; } else { targetId = Manipulator.getDataAttribute(e.target, "target").split( "#" )[1]; } const target = SelectorEngine.findOne(`#${targetId}`); SelectorEngine.find(SELECTOR_OUTLINE_INPUT, target).forEach((element) => { const instance = Input.getInstance(element.parentNode); if (!instance) { return; } instance.update(); }); SelectorEngine.find(SELECTOR_OUTLINE_TEXTAREA, target).forEach( (element) => { const instance = Input.getInstance(element.parentNode); if (!instance) { return; } instance.update(); } ); }); // form reset handler EventHandler.on(window, "reset", (e) => { SelectorEngine.find(SELECTOR_OUTLINE_INPUT, e.target).forEach( (element) => { const instance = Input.getInstance(element.parentNode); if (!instance) { return; } instance.forceInactive(); } ); SelectorEngine.find(SELECTOR_OUTLINE_TEXTAREA, e.target).forEach( (element) => { const instance = Input.getInstance(element.parentNode); if (!instance) { return; } instance.forceInactive(); } ); }); // auto-fill EventHandler.on(window, "onautocomplete", (e) => { const instance = Input.getInstance(e.target.parentNode); if (!instance || !e.cancelable) { return; } instance.forceActive(); }); } _showCounter() { const counters = SelectorEngine.find( `[${DATA_FORM_COUNTER}]`, this._element ); if (counters.length > 0) { return; } this._counterElement = document.createElement("div"); Manipulator.addClass(this._counterElement, this._classes.counter); this._counterElement.setAttribute(DATA_FORM_COUNTER, ""); const actualLength = this.input.value.length; this._counterElement.innerHTML = `${actualLength} / ${this._maxLength}`; this._helper.appendChild(this._counterElement); this._bindCounter(); } _bindCounter() { EventHandler.on(this.input, "input", () => { const actualLength = this.input.value.length; this._counterElement.innerHTML = `${actualLength} / ${this._maxLength}`; }); } _toggleDefaultDatePlaceholder(input = this.input) { const isTypeDate = input.getAttribute("type") === "date"; if (!isTypeDate) { return; } const isInputFocused = document.activeElement === input; if (!isInputFocused && !input.value) { input.style.opacity = 0; } else { input.style.opacity = 1; } } _showPlaceholder() { this.input.setAttribute(DATA_PLACEHOLDER_ACTIVE, ""); } _getNotchData() { this._notchMiddle = SelectorEngine.findOne( SELECTOR_NOTCH_MIDDLE, this._element ); this._notchLeading = SelectorEngine.findOne( SELECTOR_NOTCH_LEADING, this._element ); } _getLabelWidth() { this._labelWidth = this._label.clientWidth * 0.8 + 8; } _getLabelPositionInInputGroup() { this._labelMarginLeft = 0; if (!this._element.hasAttribute("data-te-input-group-ref")) return; const input = this.input; const prefix = SelectorEngine.prev( input, "[data-te-input-group-text-ref]" )[0]; if (prefix === undefined) { this._labelMarginLeft = 0; } else { this._labelMarginLeft = prefix.offsetWidth - 1; } } _applyDivs() { const shadowLeading = this._config.inputFormWhite ? this._classes.notchLeadingWhite : this._classes.notchLeadingNormal; const shadowMiddle = this._config.inputFormWhite ? this._classes.notchMiddleWhite : this._classes.notchMiddleNormal; const shadowTrailing = this._config.inputFormWhite ? this._classes.notchTrailingWhite : this._classes.notchTrailingNormal; const allNotchWrappers = SelectorEngine.find(SELECTOR_NOTCH, this._element); const notchWrapper = element("div"); Manipulator.addClass(notchWrapper, this._classes.notch); notchWrapper.setAttribute(DATA_NOTCH, ""); this._notchLeading = element("div"); Manipulator.addClass( this._notchLeading, `${this._classes.notchLeading} ${shadowLeading}` ); this._notchLeading.setAttribute(DATA_NOTCH_LEADING, ""); this._notchMiddle = element("div"); Manipulator.addClass( this._notchMiddle, `${this._classes.notchMiddle} ${shadowMiddle}` ); this._notchMiddle.setAttribute(DATA_NOTCH_MIDDLE, ""); this._notchTrailing = element("div"); Manipulator.addClass( this._notchTrailing, `${this._classes.notchTrailing} ${shadowTrailing}` ); this._notchTrailing.setAttribute(DATA_NOTCH_TRAILING, ""); if (allNotchWrappers.length >= 1) { return; } notchWrapper.append(this._notchLeading); notchWrapper.append(this._notchMiddle); notchWrapper.append(this._notchTrailing); this._element.append(notchWrapper); } _applyNotch() { this._notchMiddle.style.width = `${this._labelWidth}px`; this._notchLeading.style.width = `${this._labelMarginLeft + 9}px`; if (this._label === null) return; this._label.style.marginLeft = `${this._labelMarginLeft}px`; } _removeBorder() { const border = SelectorEngine.findOne(SELECTOR_NOTCH, this._element); if (border) border.remove(); } _activate(event) { onDOMContentLoaded(() => { this._getElements(event); const input = event ? event.target : this.input; const notchWrapper = SelectorEngine.findOne( SELECTOR_NOTCH, this._element ); if (event && event.type === "focus") { notchWrapper.setAttribute(DATA_FOCUSED, ""); } if (input.value !== "") { input.setAttribute(DATA_ACTIVE, ""); notchWrapper.setAttribute(DATA_ACTIVE, ""); } this._toggleDefaultDatePlaceholder(input); }); } _getElements(event) { if (event) { this._element = event.target.parentNode; this._label = SelectorEngine.findOne("label", this._element); } if (event && this._label) { const prevLabelWidth = this._labelWidth; this._getLabelData(); if (prevLabelWidth !== this._labelWidth) { this._notchMiddle = SelectorEngine.findOne( SELECTOR_NOTCH_MIDDLE, event.target.parentNode ); this._notchLeading = SelectorEngine.findOne( SELECTOR_NOTCH_LEADING, event.target.parentNode ); this._applyNotch(); } } } _deactivate(event) { const input = event ? event.target : this.input; const notchWrapper = SelectorEngine.findOne( SELECTOR_NOTCH, input.parentNode ); notchWrapper.removeAttribute(DATA_FOCUSED); if (input.value === "") { input.removeAttribute(DATA_ACTIVE); notchWrapper.removeAttribute(DATA_ACTIVE); } this._toggleDefaultDatePlaceholder(input); } static activate(instance) { return function (event) { instance._activate(event); }; } static deactivate(instance) { return function (event) { instance._deactivate(event); }; } static jQueryInterface(config, options) { return this.each(function () { let data = Data.getData(this, DATA_KEY); const _config = typeof config === "object" && config; if (!data && /dispose/.test(config)) { return; } if (!data) { data = new Input(this, _config); } if (typeof config === "string") { if (typeof data[config] === "undefined") { throw new TypeError(`No method named "${config}"`); } data[config](options); } }); } static getInstance(element) { return Data.getData(element, DATA_KEY); } static getOrCreateInstance(element, config = {}) { return ( this.getInstance(element) || new this(element, typeof config === "object" ? config : null) ); } } export default Input; ",
  "/* -------------------------------------------------------------------------- Tailwind Elements is an open-source UI kit of advanced components for TailwindCSS. Copyright © 2023 MDBootstrap.com Unless a custom, individually assigned license has been granted, this program is free software: you can redistribute it and/or modify it under the terms of the GNU Affero General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. In addition, a custom license may be available upon request, subject to the terms and conditions of that license. Please contact tailwind@mdbootstrap.com for more information on obtaining a custom license. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero General Public License for more details. -------------------------------------------------------------------------- */ import { typeCheckConfig } from "../util/index"; import Data from "../dom/data"; import Manipulator from "../dom/manipulator"; import SelectorEngine from "../dom/selector-engine"; import EventHandler from "../dom/event-handler"; /* ------------------------------------------------------------------------ Constants ------------------------------------------------------------------------ */ const NAME = "animation"; const DATA_KEY = "te.animation"; const DefaultType = { animation: "string", animationStart: "string", animationShowOnLoad: "boolean", onStart: "(null|function)", onEnd: "(null|function)", onHide: "(null|function)", onShow: "(null|function)", animationOnScroll: "(string)", animationWindowHeight: "number", animationOffset: "(number|string)", animationDelay: "(number|string)", animationReverse: "boolean", animationInterval: "(number|string)", animationRepeat: "(number|boolean)", animationReset: "boolean", }; const Default = { animation: "fade", animationStart: "onClick", animationShowOnLoad: true, onStart: null, onEnd: null, onHide: null, onShow: null, animationOnScroll: "once", animationWindowHeight: 0, animationOffset: 0, animationDelay: 0, animationReverse: false, animationInterval: 0, animationRepeat: false, animationReset: false, }; /* ------------------------------------------------------------------------ Class Definition ------------------------------------------------------------------------ */ class Animate { constructor(element, options) { this._element = element; this._animateElement = this._getAnimateElement(); this._isFirstScroll = true; this._repeatAnimateOnScroll = true; this._options = this._getConfig(options); if (this._element) { Data.setData(element, DATA_KEY, this); this._init(); } } // Getters static get NAME() { return NAME; } // Public init() { this._init(); } startAnimation() { this._startAnimation(); } stopAnimation() { this._clearAnimationClass(); } changeAnimationType(animation) { this._options.animation = animation; } dispose() { EventHandler.off(this._element, "mousedown"); EventHandler.off(this._animateElement, "animationend"); EventHandler.off(window, "scroll"); EventHandler.off(this._element, "mouseover"); Data.removeData(this._element, DATA_KEY); this._element = null; this._animateElement = null; this._isFirstScroll = null; this._repeatAnimateOnScroll = null; this._options = null; } // Private _init() { switch (this._options.animationStart) { case "onHover": this._bindHoverEvents(); break; case "onLoad": this._startAnimation(); break; case "onScroll": this._bindScrollEvents(); break; case "onClick": this._bindClickEvents(); break; default: break; } this._bindTriggerOnEndCallback(); if (this._options.animationReset) { this._bindResetAnimationAfterFinish(); } } _getAnimateElement() { const targetId = Manipulator.getDataAttribute( this._element, "animation-target" ); return targetId ? SelectorEngine.find(targetId)[0] : this._element; } _getConfig(config) { const dataAttributes = Manipulator.getDataAttributes(this._animateElement); config = { ...Default, ...dataAttributes, ...config, }; typeCheckConfig(NAME, config, DefaultType); return config; } _animateOnScroll() { const elementOffsetTop = Manipulator.offset(this._animateElement).top; const elementHeight = this._animateElement.offsetHeight; const windowHeight = window.innerHeight; const shouldBeVisible = elementOffsetTop + this._options.animationOffset <= windowHeight && elementOffsetTop + this._options.animationOffset + elementHeight >= 0; const isElementVisible = this._animateElement.style.visibility === "visible"; switch (true) { case shouldBeVisible && this._isFirstScroll: this._isFirstScroll = false; this._startAnimation(); break; case !shouldBeVisible && this._isFirstScroll: this._isFirstScroll = false; this._hideAnimateElement(); break; case shouldBeVisible && !isElementVisible && this._repeatAnimateOnScroll: if (this._options.animationOnScroll !== "repeat") { this._repeatAnimateOnScroll = false; } this._callback(this._options.onShow); this._showAnimateElement(); this._startAnimation(); break; case !shouldBeVisible && isElementVisible && this._repeatAnimateOnScroll: this._hideAnimateElement(); this._clearAnimationClass(); this._callback(this._options.onHide); break; default: break; } } _addAnimatedClass() { Manipulator.addClass( this._animateElement, `animate-${this._options.animation}` ); } _clearAnimationClass() { this._animateElement.classList.remove(`animate-${this._options.animation}`); } _startAnimation() { this._callback(this._options.onStart); this._addAnimatedClass(); if (this._options.animationRepeat && !this._options.animationInterval) { this._setAnimationRepeat(); } if (this._options.animationReverse) { this._setAnimationReverse(); } if (this._options.animationDelay) { this._setAnimationDelay(); } if (this._options.animationDuration) { this._setAnimationDuration(); } if (this._options.animationInterval) { this._setAnimationInterval(); } } _setAnimationReverse() { Manipulator.style(this._animateElement, { animationIterationCount: this._options.animationRepeat === true ? "infinite" : "2", animationDirection: "alternate", }); } _setAnimationDuration() { Manipulator.style(this._animateElement, { animationDuration: `${this._options.animationDuration}ms`, }); } _setAnimationDelay() { Manipulator.style(this._animateElement, { animationDelay: `${this._options.animationDelay}ms`, }); } _setAnimationRepeat() { Manipulator.style(this._animateElement, { animationIterationCount: this._options.animationRepeat === true ? "infinite" : this._options.animationRepeat, }); } _setAnimationInterval() { EventHandler.on(this._animateElement, "click", () => { this._clearAnimationClass(); setTimeout(() => { this._addAnimatedClass(); }, this._options.animationInterval); }); } _hideAnimateElement() { Manipulator.style(this._animateElement, { visibility: "hidden" }); } _showAnimateElement() { Manipulator.style(this._animateElement, { visibility: "visible" }); } _bindResetAnimationAfterFinish() { EventHandler.on(this._animateElement, "animationend", () => { this._clearAnimationClass(); }); } _bindTriggerOnEndCallback() { EventHandler.on(this._animateElement, "animationend", () => { this._callback(this._options.onEnd); }); } _bindScrollEvents() { if (!this._options.animationShowOnLoad) { this._animateOnScroll(); } EventHandler.on(window, "scroll", () => { this._animateOnScroll(); }); } _bindClickEvents() { EventHandler.on(this._element, "mousedown", () => { this._startAnimation(); }); } _bindHoverEvents() { EventHandler.one(this._element, "mouseover", () => { this._startAnimation(); }); EventHandler.one(this._animateElement, "animationend", () => { // wait after bind hoverEvents to prevent animation looping setTimeout(() => { this._bindHoverEvents(); }, 100); }); } _callback(fn) { if (fn instanceof Function) { fn(); } } // Static static autoInit(instance) { instance._init(); } static jQueryInterface(options) { const animate = new Animate(this[0], options); animate.init(); } static getInstance(element) { return Data.getData(element, DATA_KEY); } static getOrCreateInstance(element, config = {}) { return ( this.getInstance(element) || new this(element, typeof config === "object" ? config : null) ); } } export default Animate; ",
  "/* -------------------------------------------------------------------------- Tailwind Elements is an open-source UI kit of advanced components for TailwindCSS. Copyright © 2023 MDBootstrap.com Unless a custom, individually assigned license has been granted, this program is free software: you can redistribute it and/or modify it under the terms of the GNU Affero General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. In addition, a custom license may be available upon request, subject to the terms and conditions of that license. Please contact tailwind@mdbootstrap.com for more information on obtaining a custom license. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero General Public License for more details. -------------------------------------------------------------------------- */ import { element, typeCheckConfig } from "../util/index"; import Data from "../dom/data"; import EventHandler from "../dom/event-handler"; import Manipulator from "../dom/manipulator"; import SelectorEngine from "../dom/selector-engine"; /* ------------------------------------------------------------------------ Constants ------------------------------------------------------------------------ */ const NAME = "ripple"; const DATA_KEY = "te.ripple"; const GRADIENT = "rgba({{color}}, 0.2) 0, rgba({{color}}, 0.3) 40%, rgba({{color}}, 0.4) 50%, rgba({{color}}, 0.5) 60%, rgba({{color}}, 0) 70%"; const SELECTOR_COMPONENT = ["[data-te-ripple-init]"]; const DEFAULT_RIPPLE_COLOR = [0, 0, 0]; const BOOTSTRAP_COLORS = [ { name: "primary", gradientColor: "#3B71CA" }, { name: "secondary", gradientColor: "#9FA6B2" }, { name: "success", gradientColor: "#14A44D" }, { name: "danger", gradientColor: "#DC4C64" }, { name: "warning", gradientColor: "#E4A11B" }, { name: "info", gradientColor: "#54B4D3" }, { name: "light", gradientColor: "#fbfbfb" }, { name: "dark", gradientColor: "#262626" }, ]; // Sets value when run opacity transition // Hide element after 50% (0.5) time of animation and finish on 100% const TRANSITION_BREAK_OPACITY = 0.5; const Default = { rippleCentered: false, rippleColor: "", rippleColorDark: "", rippleDuration: "500ms", rippleRadius: 0, rippleUnbound: false, }; const DefaultType = { rippleCentered: "boolean", rippleColor: "string", rippleColorDark: "string", rippleDuration: "string", rippleRadius: "number", rippleUnbound: "boolean", }; const DefaultClasses = { ripple: "relative overflow-hidden inline-block align-bottom", rippleWave: "rounded-[50%] opacity-50 pointer-events-none absolute touch-none scale-0 transition-[transform,_opacity] ease-[cubic-bezier(0,0,0.15,1),_cubic-bezier(0,0,0.15,1)] z-[999]", unbound: "overflow-visible", }; const DefaultClassesType = { ripple: "string", rippleWave: "string", unbound: "string", }; /* ------------------------------------------------------------------------ Class Definition ------------------------------------------------------------------------ */ class Ripple { constructor(element, options, classes) { this._element = element; this._options = this._getConfig(options); this._classes = this._getClasses(classes); if (this._element) { Data.setData(element, DATA_KEY, this); Manipulator.addClass(this._element, this._classes.ripple); } this._clickHandler = this._createRipple.bind(this); this._rippleTimer = null; this._isMinWidthSet = false; this._initialClasses = null; this.init(); } // Getters static get NAME() { return NAME; } // Public init() { this._addClickEvent(this._element); } dispose() { Data.removeData(this._element, DATA_KEY); EventHandler.off(this._element, "click", this._clickHandler); this._element = null; this._options = null; } // Private _autoInit(event) { SELECTOR_COMPONENT.forEach((selector) => { const target = SelectorEngine.closest(event.target, selector); if (target) { this._element = SelectorEngine.closest(event.target, selector); } }); if (!this._element.style.minWidth) { Manipulator.style(this._element, { "min-width": getComputedStyle(this._element).width, }); this._isMinWidthSet = true; } this._initialClasses = [...this._element.classList]; Manipulator.addClass(this._element, this._classes.ripple); this._options = this._getConfig(); this._createRipple(event); } _addClickEvent(target) { EventHandler.on(target, "mousedown", this._clickHandler); } _createRipple(event) { if (this._element.className.indexOf(this._classes.ripple) < 0) { Manipulator.addClass(this._element, this._classes.ripple); } const { layerX, layerY } = event; const offsetX = layerX; const offsetY = layerY; const height = this._element.offsetHeight; const width = this._element.offsetWidth; const duration = this._durationToMsNumber(this._options.rippleDuration); const diameterOptions = { offsetX: this._options.rippleCentered ? height / 2 : offsetX, offsetY: this._options.rippleCentered ? width / 2 : offsetY, height, width, }; const diameter = this._getDiameter(diameterOptions); const radiusValue = this._options.rippleRadius || diameter / 2; const opacity = { delay: duration * TRANSITION_BREAK_OPACITY, duration: duration - duration * TRANSITION_BREAK_OPACITY, }; const styles = { left: this._options.rippleCentered ? `${width / 2 - radiusValue}px` : `${offsetX - radiusValue}px`, top: this._options.rippleCentered ? `${height / 2 - radiusValue}px` : `${offsetY - radiusValue}px`, height: `${this._options.rippleRadius * 2 || diameter}px`, width: `${this._options.rippleRadius * 2 || diameter}px`, transitionDelay: `0s, ${opacity.delay}ms`, transitionDuration: `${duration}ms, ${opacity.duration}ms`, }; const rippleHTML = element("div"); this._createHTMLRipple({ wrapper: this._element, ripple: rippleHTML, styles, }); this._removeHTMLRipple({ ripple: rippleHTML, duration }); } _createHTMLRipple({ wrapper, ripple, styles }) { Object.keys(styles).forEach( (property) => (ripple.style[property] = styles[property]) ); Manipulator.addClass(ripple, this._classes.rippleWave); ripple.setAttribute("data-te-ripple-ref", ""); this._addColor(ripple, wrapper); this._toggleUnbound(wrapper); this._appendRipple(ripple, wrapper); } _removeHTMLRipple({ ripple, duration }) { if (this._rippleTimer) { clearTimeout(this._rippleTimer); this._rippleTimer = null; } if (ripple) { setTimeout(() => { ripple.classList.add("!opacity-0"); }, 10); } this._rippleTimer = setTimeout(() => { if (ripple) { ripple.remove(); if (this._element) { SelectorEngine.find("[data-te-ripple-ref]", this._element).forEach( (rippleEl) => { rippleEl.remove(); } ); if (this._isMinWidthSet) { Manipulator.style(this._element, { "min-width": "" }); this._isMinWidthSet = false; } // check if added ripple classes wasn't there initialy const classesToRemove = this._initialClasses ? this._addedNewRippleClasses( this._classes.ripple, this._initialClasses ) : this._classes.ripple.split(" "); Manipulator.removeClass(this._element, classesToRemove); } } }, duration); } _addedNewRippleClasses(defaultRipple, initialClasses) { return defaultRipple .split(" ") .filter( (item) => initialClasses.findIndex((init) => item === init) === -1 ); } _durationToMsNumber(time) { return Number(time.replace("ms", "").replace("s", "000")); } _getConfig(config = {}) { const dataAttributes = Manipulator.getDataAttributes(this._element); config = { ...Default, ...dataAttributes, ...config, }; typeCheckConfig(NAME, config, DefaultType); return config; } _getClasses(classes) { const dataAttributes = Manipulator.getDataClassAttributes(this._element); classes = { ...DefaultClasses, ...dataAttributes, ...classes, }; typeCheckConfig(NAME, classes, DefaultClassesType); return classes; } _getDiameter({ offsetX, offsetY, height, width }) { const top = offsetY <= height / 2; const left = offsetX <= width / 2; const pythagorean = (sideA, sideB) => Math.sqrt(sideA ** 2 + sideB ** 2); const positionCenter = offsetY === height / 2 && offsetX === width / 2; // mouse position on the quadrants of the coordinate system const quadrant = { first: top === true && left === false, second: top === true && left === true, third: top === false && left === true, fourth: top === false && left === false, }; const getCorner = { topLeft: pythagorean(offsetX, offsetY), topRight: pythagorean(width - offsetX, offsetY), bottomLeft: pythagorean(offsetX, height - offsetY), bottomRight: pythagorean(width - offsetX, height - offsetY), }; let diameter = 0; if (positionCenter || quadrant.fourth) { diameter = getCorner.topLeft; } else if (quadrant.third) { diameter = getCorner.topRight; } else if (quadrant.second) { diameter = getCorner.bottomRight; } else if (quadrant.first) { diameter = getCorner.bottomLeft; } return diameter * 2; } _appendRipple(target, parent) { const FIX_ADD_RIPPLE_EFFECT = 50; // delay for active animations parent.appendChild(target); setTimeout(() => { Manipulator.addClass(target, "opacity-0 scale-100"); }, FIX_ADD_RIPPLE_EFFECT); } _toggleUnbound(target) { if (this._options.rippleUnbound === true) { Manipulator.addClass(target, this._classes.unbound); } else { Manipulator.removeClass(target, this._classes.unbound); } } _addColor(target) { let rippleColor = this._options.rippleColor || "rgb(0,0,0)"; if ( localStorage.theme === "dark" || (!("theme" in localStorage) && window.matchMedia("(prefers-color-scheme: dark)").matches) ) { rippleColor = this._options.rippleColorDark || this._options.rippleColor; } const IS_BOOTSTRAP_COLOR = BOOTSTRAP_COLORS.find( (color) => color.name === rippleColor.toLowerCase() ); const rgbValue = IS_BOOTSTRAP_COLOR ? this._colorToRGB(IS_BOOTSTRAP_COLOR.gradientColor).join(",") : this._colorToRGB(rippleColor).join(","); const gradientImage = GRADIENT.split("{{color}}").join(`${rgbValue}`); target.style.backgroundImage = `radial-gradient(circle, ${gradientImage})`; } _colorToRGB(color) { function hexToRgb(color) { const HEX_COLOR_LENGTH = 7; const IS_SHORT_HEX = color.length < HEX_COLOR_LENGTH; if (IS_SHORT_HEX) { color = `#${color[1]}${color[1]}${color[2]}${color[2]}${color[3]}${color[3]}`; } return [ parseInt(color.substr(1, 2), 16), parseInt(color.substr(3, 2), 16), parseInt(color.substr(5, 2), 16), ]; } function namedColorsToRgba(color) { const tempElem = document.body.appendChild( document.createElement("fictum") ); const flag = "rgb(1, 2, 3)"; tempElem.style.color = flag; if (tempElem.style.color !== flag) { return DEFAULT_RIPPLE_COLOR; } tempElem.style.color = color; if (tempElem.style.color === flag || tempElem.style.color === "") { return DEFAULT_RIPPLE_COLOR; } // color parse failed color = getComputedStyle(tempElem).color; document.body.removeChild(tempElem); return color; } function rgbaToRgb(color) { color = color.match(/[.\d]+/g).map((a) => +Number(a)); color.length = 3; return color; } if (color.toLowerCase() === "transparent") { return DEFAULT_RIPPLE_COLOR; } if (color[0] === "#") { return hexToRgb(color); } if (color.indexOf("rgb") === -1) { color = namedColorsToRgba(color); } if (color.indexOf("rgb") === 0) { return rgbaToRgb(color); } return DEFAULT_RIPPLE_COLOR; } // Static static autoInitial(instance) { return function (event) { instance._autoInit(event); }; } static jQueryInterface(options) { return this.each(function () { const data = Data.getData(this, DATA_KEY); if (!data) { return new Ripple(this, options); } return null; }); } static getInstance(element) { return Data.getData(element, DATA_KEY); } static getOrCreateInstance(element, config = {}) { return ( this.getInstance(element) || new this(element, typeof config === "object" ? config : null) ); } } export default Ripple; ",
  "/* -------------------------------------------------------------------------- Tailwind Elements is an open-source UI kit of advanced components for TailwindCSS. Copyright © 2023 MDBootstrap.com Unless a custom, individually assigned license has been granted, this program is free software: you can redistribute it and/or modify it under the terms of the GNU Affero General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. In addition, a custom license may be available upon request, subject to the terms and conditions of that license. Please contact tailwind@mdbootstrap.com for more information on obtaining a custom license. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero General Public License for more details. -------------------------------------------------------------------------- */ export function getDate(date) { return date.getDate(); } export function getDayNumber(date) { return date.getDay(); } export function getMonth(date) { return date.getMonth(); } export function getYear(date) { return date.getFullYear(); } export function getFirstDayOfWeek(year, month, options) { const firstDayIndex = options.startDay; const sundayIndex = firstDayIndex > 0 ? 7 - firstDayIndex : 0; const date = new Date(year, month); const index = date.getDay() + sundayIndex; const newIndex = index >= 7 ? index - 7 : index; return newIndex; } export function getDaysInMonth(date) { return getMonthEnd(date).getDate(); } export function getMonthEnd(date) { return createDate(date.getFullYear(), date.getMonth() + 1, 0); } export function getToday() { return new Date(); } export function addYears(date, years) { return addMonths(date, years * 12); } export function addMonths(date, months) { const month = createDate( date.getFullYear(), date.getMonth() + months, date.getDate() ); const dayOfPreviousMonth = getDate(date); const dayOfNewMonth = getDate(month); // Solution for edge cases, like moving from a month with a greater number // of days than the destination month. For example, when we move from 31 Mar 2020 to // February, createDate(2020, 2, 31) will return 2 Mar 2020, not the desired 29 Feb 2020. // We need to use setDate(0) to move back to the last day of the previous month (29 Feb 2020) if (dayOfPreviousMonth !== dayOfNewMonth) { month.setDate(0); } return month; } export function addDays(date, days) { return createDate(date.getFullYear(), date.getMonth(), date.getDate() + days); } export function createDate(year, month, day) { const result = new Date(year, month, day); // In js native date years from 0 to 99 are treated as abbreviation // for dates like 19xx if (year >= 0 && year < 100) { result.setFullYear(result.getFullYear() - 1900); } return result; } export function convertStringToDate(dateString) { const dateArr = dateString.split("-"); const year = dateArr[0]; const month = dateArr[1]; const day = dateArr[2]; return createDate(year, month, day); } export function isValidDate(date) { return !Number.isNaN(date.getTime()); } export function compareDates(date1, date2) { return ( getYear(date1) - getYear(date2) || getMonth(date1) - getMonth(date2) || getDate(date1) - getDate(date2) ); } export function isSameDate(date1, date2) { date1.setHours(0, 0, 0, 0); date2.setHours(0, 0, 0, 0); return date1.getTime() === date2.getTime(); } export function getYearsOffset(activeDate, yearsInView) { const activeYear = getYear(activeDate); const yearsDifference = activeYear - getStartYear(); return modulo(yearsDifference, yearsInView); } function modulo(a, b) { return ((a % b) + b) % b; } export function getStartYear(yearsInView, minDate, maxDate) { let startYear = 0; if (maxDate) { const maxYear = getYear(maxDate); startYear = maxYear - yearsInView + 1; } else if (minDate) { startYear = getYear(minDate); } return startYear; } export function isDateDisabled( date, minDate, maxDate, filter, disabledPast, disabledFuture ) { const currentDate = new Date(); currentDate.setHours(0, 0, 0, 0); const isBeforeMin = minDate && compareDates(date, minDate) <= -1; const isAfterMax = maxDate && compareDates(date, maxDate) >= 1; const isDisabledPast = disabledPast && compareDates(date, currentDate) <= -1; const isDisabledFuture = disabledFuture && compareDates(date, currentDate) >= 1; const isDisabled = filter && filter(date) === false; return ( isBeforeMin || isAfterMax || isDisabled || isDisabledPast || isDisabledFuture ); } export function isMonthDisabled( month, year, minDate, maxDate, disabledPast, disabledFuture ) { const currentDate = new Date(); const maxYear = maxDate && getYear(maxDate); const maxMonth = maxDate && getMonth(maxDate); const minYear = minDate && getYear(minDate); const minMonth = minDate && getMonth(minDate); const currentYear = getYear(currentDate); const currentMonth = getMonth(currentDate); const isMonthAndYearAfterMax = maxMonth && maxYear && (year > maxYear || (year === maxYear && month > maxMonth)); const isMonthAndYearBeforeMin = minMonth && minYear && (year < minYear || (year === minYear && month < minMonth)); const isMonthAndYearDisabledPast = disabledPast && (year < currentYear || (year === currentYear && month < currentMonth)); const isMonthAndYearDisabledFuture = disabledFuture && (year > currentYear || (year === currentYear && month > currentMonth)); return ( isMonthAndYearAfterMax || isMonthAndYearBeforeMin || isMonthAndYearDisabledPast || isMonthAndYearDisabledFuture ); } export function isYearDisabled( year, minDate, maxDate, disabledPast, disabledFuture ) { const min = minDate && getYear(minDate); const max = maxDate && getYear(maxDate); const currentYear = getYear(new Date()); const isAfterMax = max && year > max; const isBeforeMin = min && year < min; const isDisabledPast = disabledPast && year < currentYear; const isDisabledFuture = disabledFuture && year > currentYear; return isAfterMax || isBeforeMin || isDisabledPast || isDisabledFuture; } export function isNextDateDisabled( disabledFuture, activeDate, view, yearsInView, minDate, maxDate, lastYearInView, firstYearInView ) { const currentDate = new Date(); currentDate.setHours(0, 0, 0, 0); if (disabledFuture && maxDate && compareDates(maxDate, currentDate) < 0) { maxDate = currentDate; } else if (disabledFuture) { maxDate = currentDate; } return ( maxDate && areDatesInSameView( activeDate, maxDate, view, yearsInView, minDate, maxDate, lastYearInView, firstYearInView ) ); } export function isPreviousDateDisabled( disabledPast, activeDate, view, yearsInView, minDate, maxDate, lastYearInView, firstYearInView ) { const currentDate = new Date(); currentDate.setHours(0, 0, 0, 0); if (disabledPast && minDate && compareDates(minDate, currentDate) < 0) { minDate = currentDate; } else if (disabledPast) { minDate = currentDate; } return ( minDate && areDatesInSameView( activeDate, minDate, view, yearsInView, minDate, maxDate, lastYearInView, firstYearInView ) ); } export function areDatesInSameView( date1, date2, view, yearsInView, minDate, maxDate, lastYearInView, firstYearInView ) { if (view === "days") { return ( getYear(date1) === getYear(date2) && getMonth(date1) === getMonth(date2) ); } if (view === "months") { return getYear(date1) === getYear(date2); } if (view === "years") { return ( getYear(date2) >= firstYearInView && getYear(date2) <= lastYearInView ); } return false; } ",
  "/* -------------------------------------------------------------------------- Tailwind Elements is an open-source UI kit of advanced components for TailwindCSS. Copyright © 2023 MDBootstrap.com Unless a custom, individually assigned license has been granted, this program is free software: you can redistribute it and/or modify it under the terms of the GNU Affero General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. In addition, a custom license may be available upon request, subject to the terms and conditions of that license. Please contact tailwind@mdbootstrap.com for more information on obtaining a custom license. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero General Public License for more details. -------------------------------------------------------------------------- */ /* eslint-disable indent */ import Manipulator from "../../dom/manipulator"; import { element } from "../../util"; import { getYear, getMonth, getDate, getDayNumber, getFirstDayOfWeek, addMonths, getDaysInMonth, createDate, isSameDate, getToday, getYearsOffset, isDateDisabled, isMonthDisabled, isYearDisabled, } from "./date-utils"; const MODAL_CONTAINER_REF = "data-te-datepicker-modal-container-ref"; const DROPDOWN_CONTAINER_REF = "data-te-datepicker-dropdown-container-ref"; const BACKDROP_REF = "data-te-dropdown-backdrop-ref"; const DATE_TEXT_REF = "data-te-datepicker-date-text-ref"; const VIEW_REF = "data-te-datepicker-view-ref"; const PREVIOUS_BUTTON_REF = "data-te-datepicker-previous-button-ref"; const NEXT_BUTTON_REF = "data-te-datepicker-next-button-ref"; const OK_BUTTON_REF = "data-te-datepicker-ok-button-ref"; const CANCEL_BUTTON_REF = "data-te-datepicker-cancel-button-ref"; const CLEAR_BUTTON_REF = "data-te-datepicker-clear-button-ref"; const VIEW_CHANGE_BUTTON_REF = "data-te-datepicker-view-change-button-ref"; export function getDatepickerTemplate( date, selectedDate, selectedYear, selectedMonth, options, monthsInRow, yearsInView, yearsInRow, id, classes ) { const month = getMonth(date); const year = getYear(date); const day = getDate(date); const dayNumber = getDayNumber(date); const template = element("div"); const inlineContent = ` ${createMainContent( date, month, year, selectedDate, selectedYear, selectedMonth, options, monthsInRow, yearsInView, yearsInRow, classes )} `; const modalContent = ` ${createHeader(day, dayNumber, month, options, classes)} ${createMainContent( date, month, year, selectedDate, selectedYear, selectedMonth, options, monthsInRow, yearsInView, yearsInRow, classes )} `; if (options.inline) { Manipulator.addClass(template, classes.datepickerDropdownContainer); template.setAttribute(DROPDOWN_CONTAINER_REF, id); template.innerHTML = inlineContent; } else { Manipulator.addClass(template, classes.modalContainer); template.setAttribute(MODAL_CONTAINER_REF, id); template.innerHTML = modalContent; } return template; } export function getBackdropTemplate(backdropClasses) { const backdrop = element("div"); Manipulator.addClass(backdrop, backdropClasses); backdrop.setAttribute(BACKDROP_REF, ""); return backdrop; } export function createContainer(modalContainerClasses) { const container = element("div"); Manipulator.addClass(container, modalContainerClasses); container.setAttribute(MODAL_CONTAINER_REF, ""); return container; } function createHeader(day, dayNumber, month, options, classes) { return ` <div class="${classes.datepickerHeader}"> <div class="${classes.datepickerTitle}"> <span class="${classes.datepickerTitleText}">${options.title}</span> </div> <div class="${classes.datepickerDate}"> <span class="${classes.datepickerDateText}" ${DATE_TEXT_REF} >${options.weekdaysShort[dayNumber]}, ${options.monthsShort[month]} ${day}</span> </div> </div> `; } function createMainContent( date, month, year, selectedDate, selectedYear, selectedMonth, options, monthsInRow, yearsInView, yearsInRow, classes ) { let mainContentTemplate; if (options.inline) { mainContentTemplate = ` <div class="${classes.datepickerMain}"> ${createControls(month, year, options, classes)} <div class="${classes.datepickerView}" ${VIEW_REF} tabindex="0"> ${createViewTemplate( date, year, selectedDate, selectedYear, selectedMonth, options, monthsInRow, yearsInView, yearsInRow, classes )} </div> </div> `; } else { mainContentTemplate = ` <div class="${classes.datepickerMain}"> ${createControls(month, year, options, classes)} <div class="${classes.datepickerView}" ${VIEW_REF} tabindex="0"> ${createViewTemplate( date, year, selectedDate, selectedYear, selectedMonth, options, monthsInRow, yearsInView, yearsInRow, classes )} </div> ${createFooter(options, classes)} </div> `; } return mainContentTemplate; } function createViewTemplate( date, year, selectedDate, selectedYear, selectedMonth, options, monthsInRow, yearsInView, yearsInRow, classes ) { let viewTemplate; if (options.view === "days") { viewTemplate = createDayViewTemplate(date, selectedDate, options, classes); } else if (options.view === "months") { viewTemplate = createMonthViewTemplate( year, selectedYear, selectedMonth, options, monthsInRow, classes ); } else { viewTemplate = createYearViewTemplate( date, selectedYear, options, yearsInView, yearsInRow, classes ); } return viewTemplate; } function createControls(month, year, options, classes) { return ` <div class="${classes.datepickerDateControls}"> <button class="${classes.datepickerViewChangeButton}" aria-label="${ options.switchToMultiYearViewLabel }" ${VIEW_CHANGE_BUTTON_REF}> ${options.monthsFull[month]} ${year} ${createViewChangeButtonIcon( options, classes )} </button> <div class="${classes.datepickerArrowControls}"> <button class="${classes.datepickerPreviousButton}" aria-label="${ options.prevMonthLabel }" ${PREVIOUS_BUTTON_REF}>${options.changeMonthIconTemplate}</button> <button class="${classes.datepickerNextButton}" aria-label="${ options.nextMonthLabel }" ${NEXT_BUTTON_REF}>${options.changeMonthIconTemplate}</button> </div> </div> `; } export function createViewChangeButtonIcon(options, classes) { return ` <span class="${classes.datepickerViewChangeIcon}"> ${options.viewChangeIconTemplate} </span> `; } function createFooter(options, classes) { const okBtn = `<button class="${classes.datepickerFooterBtn}" aria-label="${options.okBtnLabel}" ${OK_BUTTON_REF}>${options.okBtnText}</button>`; const cancelButton = `<button class="${classes.datepickerFooterBtn}" aria-label="${options.cancelBtnLabel}" ${CANCEL_BUTTON_REF}>${options.cancelBtnText}</button>`; const clearButton = `<button class="${classes.datepickerFooterBtn} ${classes.datepickerClearBtn}" aria-label="${options.clearBtnLabel}" ${CLEAR_BUTTON_REF}>${options.clearBtnText}</button>`; return ` <div class="${classes.datepickerFooter}"> ${options.removeClearBtn ? "" : clearButton} ${options.removeCancelBtn ? "" : cancelButton} ${options.removeOkBtn ? "" : okBtn} </div> `; } export function createDayViewTemplate(date, headerDate, options, classes) { const dates = getDatesArray(date, headerDate, options); const dayNames = options.weekdaysNarrow; const tableHeadContent = ` <tr> ${dayNames .map((name, i) => { return `<th class="${classes.datepickerDayHeading}" scope="col" aria-label="${options.weekdaysFull[i]}">${name}</th>`; }) .join("")} </tr> `; const tableBodyContent = dates .map((week) => { return ` <tr> ${week .map((day) => { return ` <td class="${classes.datepickerCell} ${classes.datepickerCellSmall}" data-te-date="${getYear(day.date)}-${getMonth( day.date )}-${getDate(day.date)}" aria-label="${day.date}" aria-selected="${day.isSelected}" ${day.isSelected ? "data-te-datepicker-cell-selected" : ""} ${ !day.currentMonth || day.disabled ? "data-te-datepicker-cell-disabled" : "" } ${day.isToday ? "data-te-datepicker-cell-current" : ""} > <div class="${classes.datepickerCellContent} ${ classes.datepickerCellContentSmall }" style="${ day.currentMonth ? "display: block" : "display: none" }" > ${day.dayNumber} </div> </td> `; }) .join("")} </tr> `; }) .join(""); return ` <table class="${classes.datepickerTable}"> <thead> ${tableHeadContent} </thead> <tbody> ${tableBodyContent} </tbody> </table> `; } function getDatesArray(activeDate, headerDate, options) { const dates = []; const month = getMonth(activeDate); const previousMonth = getMonth(addMonths(activeDate, -1)); const nextMonth = getMonth(addMonths(activeDate, 1)); const year = getYear(activeDate); const firstDay = getFirstDayOfWeek(year, month, options); const daysInMonth = getDaysInMonth(activeDate); const daysInPreviousMonth = getDaysInMonth(addMonths(activeDate, -1)); const daysInWeek = 7; let dayNumber = 1; let isCurrentMonth = false; for (let i = 1; i < daysInWeek; i++) { const week = []; if (i === 1) { // First week const previousMonthDay = daysInPreviousMonth - firstDay + 1; // Previous month for (let j = previousMonthDay; j <= daysInPreviousMonth; j++) { const date = createDate(year, previousMonth, j); week.push({ date, currentMonth: isCurrentMonth, isSelected: headerDate && isSameDate(date, headerDate), isToday: isSameDate(date, getToday()), dayNumber: getDate(date), }); } isCurrentMonth = true; // Current month const daysLeft = daysInWeek - week.length; for (let j = 0; j < daysLeft; j++) { const date = createDate(year, month, dayNumber); week.push({ date, currentMonth: isCurrentMonth, isSelected: headerDate && isSameDate(date, headerDate), isToday: isSameDate(date, getToday()), dayNumber: getDate(date), disabled: isDateDisabled( date, options.min, options.max, options.filter, options.disablePast, options.disableFuture ), }); dayNumber++; } } else { // Rest of the weeks for (let j = 1; j < 8; j++) { if (dayNumber > daysInMonth) { // Next month dayNumber = 1; isCurrentMonth = false; } const date = createDate( year, isCurrentMonth ? month : nextMonth, dayNumber ); week.push({ date, currentMonth: isCurrentMonth, isSelected: headerDate && isSameDate(date, headerDate), isToday: isSameDate(date, getToday()), dayNumber: getDate(date), disabled: isDateDisabled( date, options.min, options.max, options.filter, options.disablePast, options.disableFuture ), }); dayNumber++; } } dates.push(week); } return dates; } export function createMonthViewTemplate( year, selectedYear, selectedMonth, options, monthsInRow, classes ) { const months = getMonthsArray(options, monthsInRow); const currentMonth = getMonth(getToday()); const currentYear = getYear(getToday()); const tableBodyContent = ` ${months .map((row) => { return ` <tr> ${row .map((month) => { const monthIndex = options.monthsShort.indexOf(month); return ` <td class="${classes.datepickerCell} ${ classes.datepickerCellLarge }" ${ isMonthDisabled( monthIndex, year, options.min, options.max, options.disablePast, options.disableFuture ) ? "data-te-datepicker-cell-disabled" : "" } data-te-month="${monthIndex}" data-te-year="${year}" aria-label="${month}, ${year}" ${ monthIndex === selectedMonth && year === selectedYear ? "data-te-datepicker-cell-selected" : "" } ${ monthIndex === currentMonth && year === currentYear ? "data-te-datepicker-cell-current" : "" }" data-te-month="${monthIndex}" data-te-year="${year}" aria-label="${month}, ${year}"> <div class="${classes.datepickerCellContent} ${ classes.datepickerCellContentLarge }">${month}</div> </td> `; }) .join("")} </tr> `; }) .join("")} `; return ` <table class="${classes.datepickerTable}"> <tbody> ${tableBodyContent} </tbody> </table> `; } function getMonthsArray(options, monthsInRow) { const months = []; let row = []; for (let i = 0; i < options.monthsShort.length; i++) { row.push(options.monthsShort[i]); if (row.length === monthsInRow) { const monthsRow = row; months.push(monthsRow); row = []; } } return months; } export function createYearViewTemplate( date, selectedYear, options, yearsInView, yearsInRow, classes ) { const years = getYearsArray(date, yearsInView, yearsInRow); const currentYear = getYear(getToday()); const tableBodyContent = ` ${years .map((row) => { return ` <tr> ${row .map((year) => { return ` <td class="${classes.datepickerCell} ${ classes.datepickerCellLarge }" aria-label="${year}" data-te-year="${year}" ${ isYearDisabled( year, options.min, options.max, options.disablePast, options.disableFuture ) ? "data-te-datepicker-cell-disabled" : "" } ${year === selectedYear ? "data-te-datepicker-cell-selected" : ""} ${year === currentYear ? "data-te-datepicker-cell-current" : ""} > <div class="${classes.datepickerCellContent} ${ classes.datepickerCellContentLarge }">${year}</div> </td> `; }) .join("")} </tr> `; }) .join("")} `; return ` <table class="${classes.datepickerTable}"> <tbody> ${tableBodyContent} </tbody> </table> `; } function getYearsArray(date, yearsInView, yearsInRow) { const years = []; const activeYear = getYear(date); const yearsOffset = getYearsOffset(date, yearsInView); const firstYearInView = activeYear - yearsOffset; let row = []; for (let i = 0; i < yearsInView; i++) { row.push(firstYearInView + i); if (row.length === yearsInRow) { const yearsRow = row; years.push(yearsRow); row = []; } } return years; } export function getToggleButtonTemplate(id, toggleBtnClasses) { return ` <button id="${id}" type="button" class="${toggleBtnClasses}" data-te-datepicker-toggle-button-ref data-te-datepicker-toggle-ref> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"> <path fill-rule="evenodd" d="M6.75 2.25A.75.75 0 017.5 3v1.5h9V3A.75.75 0 0118 3v1.5h.75a3 3 0 013 3v11.25a3 3 0 01-3 3H5.25a3 3 0 01-3-3V7.5a3 3 0 013-3H6V3a.75.75 0 01.75-.75zm13.5 9a1.5 1.5 0 00-1.5-1.5H5.25a1.5 1.5 0 00-1.5 1.5v7.5a1.5 1.5 0 001.5 1.5h13.5a1.5 1.5 0 001.5-1.5v-7.5z" clip-rule="evenodd" /> </svg> </button> `; } ",
  "/* -------------------------------------------------------------------------- Tailwind Elements is an open-source UI kit of advanced components for TailwindCSS. Copyright © 2023 MDBootstrap.com Unless a custom, individually assigned license has been granted, this program is free software: you can redistribute it and/or modify it under the terms of the GNU Affero General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. In addition, a custom license may be available upon request, subject to the terms and conditions of that license. Please contact tailwind@mdbootstrap.com for more information on obtaining a custom license. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero General Public License for more details. -------------------------------------------------------------------------- */ export const LEFT_ARROW = 37; export const UP_ARROW = 38; export const RIGHT_ARROW = 39; export const DOWN_ARROW = 40; export const HOME = 36; export const END = 35; export const PAGE_UP = 33; export const PAGE_DOWN = 34; export const ENTER = 13; export const SPACE = 32; export const ESCAPE = 27; export const TAB = 9; export const BACKSPACE = 8; export const DELETE = 46; export const A = 65; export const B = 66; export const C = 67; export const D = 68; export const E = 69; export const F = 70; export const G = 71; export const H = 72; export const I = 73; export const J = 74; export const K = 75; export const L = 76; export const M = 77; export const N = 78; export const O = 79; export const P = 80; export const Q = 81; export const R = 82; export const S = 83; export const T = 84; export const U = 85; export const V = 86; export const W = 87; export const X = 88; export const Y = 89; export const Z = 90; ",
  "/* -------------------------------------------------------------------------- Tailwind Elements is an open-source UI kit of advanced components for TailwindCSS. Copyright © 2023 MDBootstrap.com Unless a custom, individually assigned license has been granted, this program is free software: you can redistribute it and/or modify it under the terms of the GNU Affero General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. In addition, a custom license may be available upon request, subject to the terms and conditions of that license. Please contact tailwind@mdbootstrap.com for more information on obtaining a custom license. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero General Public License for more details. -------------------------------------------------------------------------- */ import { createPopper } from "@popperjs/core"; import Data from "../../dom/data"; import EventHandler from "../../dom/event-handler"; import Manipulator from "../../dom/manipulator"; import SelectorEngine from "../../dom/selector-engine"; import ScrollBarHelper from "../../util/scrollbar"; import { typeCheckConfig, getUID, isRTL } from "../../util/index"; import FocusTrap from "../../util/focusTrap"; import { getDate, getDayNumber, getMonth, getYear, getDaysInMonth, addYears, addMonths, addDays, createDate, convertStringToDate, isSameDate, areDatesInSameView, isDateDisabled, isMonthDisabled, isYearDisabled, isNextDateDisabled, isPreviousDateDisabled, getYearsOffset, isValidDate, } from "./date-utils"; import { getBackdropTemplate, getDatepickerTemplate, createDayViewTemplate, createMonthViewTemplate, createYearViewTemplate, getToggleButtonTemplate, createViewChangeButtonIcon, } from "./templates"; import { ENTER, SPACE, ESCAPE, LEFT_ARROW, RIGHT_ARROW, DOWN_ARROW, UP_ARROW, HOME, END, PAGE_UP, PAGE_DOWN, } from "../../util/keycodes"; /* ------------------------------------------------------------------------ Constants ------------------------------------------------------------------------ */ const YEARS_IN_VIEW = 24; const YEARS_IN_ROW = 4; const MONTHS_IN_ROW = 4; const NAME = "datepicker"; const DATA_KEY = "te.datepicker"; const EVENT_KEY = `.${DATA_KEY}`; const DATA_API_KEY = ".data-api"; const EVENT_CLOSE = `close${EVENT_KEY}`; const EVENT_OPEN = `open${EVENT_KEY}`; const EVENT_DATE_CHANGE = `dateChange${EVENT_KEY}`; const EVENT_CLICK_DATA_API = `click${EVENT_KEY}${DATA_API_KEY}`; const MODAL_CONTAINER_NAME = "data-te-datepicker-modal-container-ref"; const DROPDOWN_CONTAINER_NAME = "data-te-datepicker-dropdown-container-ref"; const DATEPICKER_TOGGLE_SELECTOR = "[data-te-datepicker-toggle-ref]"; const MODAL_CONTAINER_SELECTOR = `[${MODAL_CONTAINER_NAME}]`; const DROPDOWN_CONTAINER_SELECTOR = `[${DROPDOWN_CONTAINER_NAME}]`; const VIEW_CHANGE_BUTTON_SELECTOR = "[data-te-datepicker-view-change-button-ref]"; const PREVIOUS_BUTTON_SELECTOR = "[data-te-datepicker-previous-button-ref]"; const NEXT_BUTTON_SELECTOR = "[data-te-datepicker-next-button-ref]"; const OK_BUTTON_SELECTOR = "[data-te-datepicker-ok-button-ref]"; const CANCEL_BUTTON_SELECTOR = "[data-te-datepicker-cancel-button-ref]"; const CLEAR_BUTTON_SELECTOR = "[data-te-datepicker-clear-button-ref]"; const VIEW_SELECTOR = "[data-te-datepicker-view-ref]"; const TOGGLE_BUTTON_SELECTOR = "[data-te-datepicker-toggle-button-ref]"; const DATE_TEXT_SELECTOR = "[data-te-datepicker-date-text-ref]"; const BACKDROP_SELECTOR = "[data-te-dropdown-backdrop-ref]"; const FADE_IN_CLASSES = "animate-[fade-in_0.3s_both] px-[auto] motion-reduce:transition-none motion-reduce:animate-none"; const FADE_OUT_CLASSES = "animate-[fade-out_0.3s_both] px-[auto] motion-reduce:transition-none motion-reduce:animate-none"; const FADE_IN_SHORT_CLASSES = "animate-[fade-in_0.15s_both] px-[auto] motion-reduce:transition-none motion-reduce:animate-none"; const FADE_OUT_SHORT_CLASSES = "animate-[fade-out_0.15s_both] px-[auto] motion-reduce:transition-none motion-reduce:animate-none"; // templates classes const MODAL_CONTAINER_CLASSES = "flex flex-col fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[328px] h-[512px] bg-white rounded-[0.6rem] shadow-lg z-[1066] xs:max-md:landscape:w-[475px] xs:max-md:landscape:h-[360px] xs:max-md:landscape:flex-row dark:bg-zinc-700"; const DATEPICKER_BACKDROP_CLASSES = "w-full h-full fixed top-0 right-0 left-0 bottom-0 bg-black/40 z-[1065]"; const DATEPICKER_MAIN_CLASSES = "relative h-full"; const DATEPICKER_HEADER_CLASSES = "xs:max-md:landscape:h-full h-[120px] px-6 bg-primary flex flex-col rounded-t-lg dark:bg-zinc-800"; const DATEPICKER_TITLE_CLASSES = "h-8 flex flex-col justify-end"; const DATEPICKER_TITLE_TEXT_CLASSES = "text-[10px] font-normal uppercase tracking-[1.7px] text-white"; const DATEPICKER_DATE_CLASSES = "xs:max-md:landscape:mt-24 h-[72px] flex flex-col justify-end"; const DATEPICKER_DATE_TEXT_CLASSES = "text-[34px] font-normal text-white"; const DATEPICKER_VIEW_CLASSES = "outline-none px-3"; const DATEPICKER_DATE_CONTROLS_CLASSES = "px-3 pt-2.5 pb-0 flex justify-between text-black/[64]"; const DATEPICKER_VIEW_CHANGE_BUTTON_CLASSES = `flex items-center outline-none p-2.5 text-neutral-500 font-medium text-[0.9rem] rounded-xl shadow-none bg-transparent m-0 border-none hover:bg-neutral-200 focus:bg-neutral-200 dark:text-white dark:hover:bg-white/10 dark:focus:bg-white/10`; const DATEPICKER_ARROW_CONTROLS_CLASSES = "mt-2.5"; const DATEPICKER_PREVIOUS_BUTTON_CLASSES = "p-0 w-10 h-10 leading-10 border-none outline-none m-0 text-gray-600 bg-transparent mr-6 hover:bg-neutral-200 hover:rounded-[50%] focus:bg-neutral-200 focus:rounded-[50%] dark:text-white dark:hover:bg-white/10 dark:focus:bg-white/10 [&>svg]:w-4 [&>svg]:h-4 [&>svg]:mx-auto"; const DATEPICKER_NEXT_BUTTON_CLASSES = "p-0 w-10 h-10 leading-10 border-none outline-none m-0 text-gray-600 bg-transparent hover:bg-neutral-200 hover:rounded-[50%] focus:bg-neutral-200 focus:rounded-[50%] dark:text-white dark:hover:bg-white/10 dark:focus:bg-white/10 [&>svg]:w-4 [&>svg]:h-4 [&>svg]:rotate-180 [&>svg]:mx-auto"; const DATEPICKER_FOOTER_CLASSES = "h-14 flex absolute w-full bottom-0 justify-end items-center px-3"; const DATEPICKER_FOOTER_BTN_CLASSES = "outline-none bg-white text-primary border-none cursor-pointer py-0 px-2.5 uppercase text-[0.8rem] leading-10 font-medium h-10 tracking-[.1rem] rounded-[10px] mb-2.5 hover:bg-neutral-200 focus:bg-neutral-200 dark:bg-transparent dark:text-white dark:hover:bg-white/10 dark:focus:bg-white/10"; const DATEPICKER_CLEAR_BTN_CLASSES = "mr-auto"; const DATEPICKER_DAY_HEADING_CLASSES = "w-10 h-10 text-center text-[12px] font-normal dark:text-white"; const DATEPICKER_CELL_CLASSES = "text-center data-[te-datepicker-cell-disabled]:text-neutral-300 data-[te-datepicker-cell-disabled]:cursor-default data-[te-datepicker-cell-disabled]:pointer-events-none data-[te-datepicker-cell-disabled]:hover:cursor-default hover:cursor-pointer group"; const DATEPICKER_CELL_SMALL_CLASSES = "w-10 h-10 xs:max-md:landscape:w-8 xs:max-md:landscape:h-8"; const DATEPICKER_CELL_LARGE_CLASSES = "w-[76px] h-[42px]"; const DATEPICKER_CELL_CONTENT_CLASSES = "mx-auto group-[:not([data-te-datepicker-cell-disabled]):not([data-te-datepicker-cell-selected]):hover]:bg-neutral-300 group-[[data-te-datepicker-cell-selected]]:bg-primary group-[[data-te-datepicker-cell-selected]]:text-white group-[:not([data-te-datepicker-cell-selected])[data-te-datepicker-cell-focused]]:bg-neutral-100 group-[[data-te-datepicker-cell-focused]]:data-[te-datepicker-cell-selected]:bg-primary group-[[data-te-datepicker-cell-current]]:border-solid group-[[data-te-datepicker-cell-current]]:border-black group-[[data-te-datepicker-cell-current]]:border dark:group-[:not([data-te-datepicker-cell-disabled]):not([data-te-datepicker-cell-selected]):hover]:bg-white/10 dark:group-[[data-te-datepicker-cell-current]]:border-white dark:text-white dark:group-[:not([data-te-datepicker-cell-selected])[data-te-datepicker-cell-focused]]:bg-white/10 dark:group-[[data-te-datepicker-cell-disabled]]:text-neutral-500"; const DATEPICKER_CELL_CONTENT_SMALL_CLASSES = "w-9 h-9 leading-9 rounded-[50%] text-[13px]"; const DATEPICKER_CELL_CONTENT_LARGE_CLASSES = "w-[72px] h-10 leading-10 py-[1px] px-0.5 rounded-[999px]"; const DATEPICKER_TABLE_CLASSES = "mx-auto w-[304px]"; const DATEPICKER_TOGGLE_BUTTON_CLASSES = "flex items-center justify-content-center [&>svg]:w-5 [&>svg]:h-5 absolute outline-none border-none bg-transparent right-0.5 top-1/2 -translate-x-1/2 -translate-y-1/2 hover:text-primary focus:text-primary dark:hover:text-primary-400 dark:focus:text-primary-400 dark:text-neutral-200"; const DATEPICKER_VIEW_CHANGE_ICON_CLASSES = "inline-block pointer-events-none ml-[3px] [&>svg]:w-4 [&>svg]:h-4 [&>svg]:fill-neutral-500 dark:[&>svg]:fill-white"; const DATEPICKER_DROPDOWN_CONTAINER_CLASSES = "w-[328px] h-[380px] bg-white rounded-lg shadow-[0px_2px_15px_-3px_rgba(0,0,0,.07),_0px_10px_20px_-2px_rgba(0,0,0,.04)] z-[1066] dark:bg-zinc-700"; const Default = { title: "Select date", container: "body", disablePast: false, disableFuture: false, monthsFull: [ "January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December", ], monthsShort: [ "Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec", ], weekdaysFull: [ "Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", ], weekdaysShort: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"], weekdaysNarrow: ["S", "M", "T", "W", "T", "F", "S"], okBtnText: "Ok", clearBtnText: "Clear", cancelBtnText: "Cancel", okBtnLabel: "Confirm selection", clearBtnLabel: "Clear selection", cancelBtnLabel: "Cancel selection", nextMonthLabel: "Next month", prevMonthLabel: "Previous month", nextYearLabel: "Next year", prevYearLabel: "Previous year", changeMonthIconTemplate: `<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="3" stroke="currentColor" class="w-6 h-6"> <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5L8.25 12l7.5-7.5" /> </svg> `, nextMultiYearLabel: "Next 24 years", prevMultiYearLabel: "Previous 24 years", switchToMultiYearViewLabel: "Choose year and month", switchToMonthViewLabel: "Choose date", switchToDayViewLabel: "Choose date", startDate: null, startDay: 0, format: "dd/mm/yyyy", view: "days", viewChangeIconTemplate: `<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="0" stroke="currentColor" class="w-6 h-6"> <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5" /> </svg> `, min: null, max: null, filter: null, inline: false, toggleButton: true, disableToggleButton: false, disableInput: false, animations: true, confirmDateOnSelect: false, removeOkBtn: false, removeCancelBtn: false, removeClearBtn: false, }; const DefaultType = { title: "string", container: "string", disablePast: "boolean", disableFuture: "boolean", monthsFull: "array", monthsShort: "array", weekdaysFull: "array", weekdaysShort: "array", weekdaysNarrow: "array", okBtnText: "string", clearBtnText: "string", cancelBtnText: "string", okBtnLabel: "string", clearBtnLabel: "string", cancelBtnLabel: "string", nextMonthLabel: "string", prevMonthLabel: "string", nextYearLabel: "string", prevYearLabel: "string", nextMultiYearLabel: "string", prevMultiYearLabel: "string", changeMonthIconTemplate: "string", switchToMultiYearViewLabel: "string", switchToMonthViewLabel: "string", switchToDayViewLabel: "string", startDate: "(null|string|date)", startDay: "number", format: "string", view: "string", viewChangeIconTemplate: "string", min: "(null|string|date)", max: "(null|string|date)", filter: "(null|function)", inline: "boolean", toggleButton: "boolean", disableToggleButton: "boolean", disableInput: "boolean", animations: "boolean", confirmDateOnSelect: "boolean", removeOkBtn: "boolean", removeCancelBtn: "boolean", removeClearBtn: "boolean", }; const DefaultClasses = { fadeIn: FADE_IN_CLASSES, fadeOut: FADE_OUT_CLASSES, fadeInShort: FADE_IN_SHORT_CLASSES, fadeOutShort: FADE_OUT_SHORT_CLASSES, modalContainer: MODAL_CONTAINER_CLASSES, datepickerBackdrop: DATEPICKER_BACKDROP_CLASSES, datepickerMain: DATEPICKER_MAIN_CLASSES, datepickerHeader: DATEPICKER_HEADER_CLASSES, datepickerTitle: DATEPICKER_TITLE_CLASSES, datepickerTitleText: DATEPICKER_TITLE_TEXT_CLASSES, datepickerDate: DATEPICKER_DATE_CLASSES, datepickerDateText: DATEPICKER_DATE_TEXT_CLASSES, datepickerView: DATEPICKER_VIEW_CLASSES, datepickerDateControls: DATEPICKER_DATE_CONTROLS_CLASSES, datepickerViewChangeButton: DATEPICKER_VIEW_CHANGE_BUTTON_CLASSES, datepickerViewChangeIcon: DATEPICKER_VIEW_CHANGE_ICON_CLASSES, datepickerArrowControls: DATEPICKER_ARROW_CONTROLS_CLASSES, datepickerPreviousButton: DATEPICKER_PREVIOUS_BUTTON_CLASSES, datepickerNextButton: DATEPICKER_NEXT_BUTTON_CLASSES, datepickerFooter: DATEPICKER_FOOTER_CLASSES, datepickerFooterBtn: DATEPICKER_FOOTER_BTN_CLASSES, datepickerClearBtn: DATEPICKER_CLEAR_BTN_CLASSES, datepickerDayHeading: DATEPICKER_DAY_HEADING_CLASSES, datepickerCell: DATEPICKER_CELL_CLASSES, datepickerCellSmall: DATEPICKER_CELL_SMALL_CLASSES, datepickerCellLarge: DATEPICKER_CELL_LARGE_CLASSES, datepickerCellContent: DATEPICKER_CELL_CONTENT_CLASSES, datepickerCellContentSmall: DATEPICKER_CELL_CONTENT_SMALL_CLASSES, datepickerCellContentLarge: DATEPICKER_CELL_CONTENT_LARGE_CLASSES, datepickerTable: DATEPICKER_TABLE_CLASSES, datepickerToggleButton: DATEPICKER_TOGGLE_BUTTON_CLASSES, datepickerDropdownContainer: DATEPICKER_DROPDOWN_CONTAINER_CLASSES, }; const DefaultClassesType = { fadeIn: "string", fadeOut: "string", fadeInShort: "string", fadeOutShort: "string", modalContainer: "string", datepickerBackdrop: "string", datepickerMain: "string", datepickerHeader: "string", datepickerTitle: "string", datepickerTitleText: "string", datepickerDate: "string", datepickerDateText: "string", datepickerView: "string", datepickerDateControls: "string", datepickerViewChangeButton: "string", datepickerArrowControls: "string", datepickerPreviousButton: "string", datepickerNextButton: "string", datepickerFooter: "string", datepickerFooterBtn: "string", datepickerClearBtn: "string", datepickerDayHeading: "string", datepickerCell: "string", datepickerCellSmall: "string", datepickerCellLarge: "string", datepickerCellContent: "string", datepickerCellContentSmall: "string", datepickerCellContentLarge: "string", datepickerTable: "string", datepickerToggleButton: "string", datepickerDropdownContainer: "string", }; /* ------------------------------------------------------------------------ Class Definition ------------------------------------------------------------------------ */ class Datepicker { constructor(element, options, classes) { this._element = element; this._input = SelectorEngine.findOne("input", this._element); this._options = this._getConfig(options); this._classes = this._getClasses(classes); this._activeDate = new Date(); this._selectedDate = null; this._selectedYear = null; this._selectedMonth = null; this._headerDate = null; this._headerYear = null; this._headerMonth = null; this._view = this._options.view; this._popper = null; this._focusTrap = null; this._isOpen = false; this._toggleButtonId = getUID("datepicker-toggle-"); this._animations = !window.matchMedia("(prefers-reduced-motion: reduce)").matches && this._options.animations; this._scrollBar = new ScrollBarHelper(); if (this._element) { Data.setData(element, DATA_KEY, this); } this._init(); if (this.toggleButton && this._options.disableToggle) { this.toggleButton.disabled = "true"; } if (this._options.disableInput) { this._input.disabled = "true"; } } // Getters static get NAME() { return NAME; } get container() { return ( SelectorEngine.findOne( `[${MODAL_CONTAINER_NAME}='${this._toggleButtonId}']` ) || SelectorEngine.findOne( `[${DROPDOWN_CONTAINER_NAME}='${this._toggleButtonId}']` ) ); } get options() { return this._options; } get activeCell() { let activeCell; if (this._view === "days") { activeCell = this._getActiveDayCell(); } if (this._view === "months") { activeCell = this._getActiveMonthCell(); } if (this._view === "years") { activeCell = this._getActiveYearCell(); } return activeCell; } get activeDay() { return getDate(this._activeDate); } get activeMonth() { return getMonth(this._activeDate); } get activeYear() { return getYear(this._activeDate); } get firstYearInView() { return this.activeYear - getYearsOffset(this._activeDate, YEARS_IN_VIEW); } get lastYearInView() { return this.firstYearInView + YEARS_IN_VIEW - 1; } get viewChangeButton() { return SelectorEngine.findOne(VIEW_CHANGE_BUTTON_SELECTOR, this.container); } get previousButton() { return SelectorEngine.findOne(PREVIOUS_BUTTON_SELECTOR, this.container); } get nextButton() { return SelectorEngine.findOne(NEXT_BUTTON_SELECTOR, this.container); } get okButton() { return SelectorEngine.findOne(OK_BUTTON_SELECTOR, this.container); } get cancelButton() { return SelectorEngine.findOne(CANCEL_BUTTON_SELECTOR, this.container); } get clearButton() { return SelectorEngine.findOne(CLEAR_BUTTON_SELECTOR, this.container); } get datesContainer() { return SelectorEngine.findOne(VIEW_SELECTOR, this.container); } get toggleButton() { return SelectorEngine.findOne(TOGGLE_BUTTON_SELECTOR, this._element); } update(options = {}) { this._options = this._getConfig({ ...this._options, ...options }); } _getConfig(config) { const dataAttributes = Manipulator.getDataAttributes(this._element); config = { ...Default, ...dataAttributes, ...config, }; typeCheckConfig(NAME, config, DefaultType); if (config.max && typeof config.max === "string") { config.max = new Date(config.max); } if (config.min && typeof config.min === "string") { config.min = new Date(config.min); } if (config.startDay && config.startDay !== 0) { const sortedWeekdaysNarrow = this._getNewDaysOrderArray(config); config.weekdaysNarrow = sortedWeekdaysNarrow; } return config; } _getClasses(classes) { const dataAttributes = Manipulator.getDataClassAttributes(this._element); classes = { ...DefaultClasses, ...dataAttributes, ...classes, }; typeCheckConfig(NAME, classes, DefaultClassesType); return classes; } _getContainer() { return SelectorEngine.findOne(this._options.container); } _getNewDaysOrderArray(config) { const index = config.startDay; const weekdaysNarrow = config.weekdaysNarrow; const sortedWeekdays = weekdaysNarrow .slice(index) .concat(weekdaysNarrow.slice(0, index)); return sortedWeekdays; } _init() { if (!this.toggleButton && this._options.toggleButton) { this._appendToggleButton(); if (this._input.readOnly || this._input.disabled) { this.toggleButton.style.pointerEvents = "none"; } } this._listenToUserInput(); this._listenToToggleClick(); this._listenToToggleKeydown(); } _appendToggleButton() { const toggleButton = getToggleButtonTemplate( this._toggleButtonId, this._classes.datepickerToggleButton ); this._element.insertAdjacentHTML("beforeend", toggleButton); } open() { if (this._input.readOnly || this._input.disabled) { return; } const openEvent = EventHandler.trigger(this._element, EVENT_OPEN); if (this._isOpen || openEvent.defaultPrevented) { return; } this._setInitialDate(); const backdrop = getBackdropTemplate(this._classes.datepickerBackdrop); const template = getDatepickerTemplate( this._activeDate, this._selectedDate, this._selectedYear, this._selectedMonth, this._options, MONTHS_IN_ROW, YEARS_IN_VIEW, YEARS_IN_ROW, this._toggleButtonId, this._classes ); if (this._options.inline) { this._openDropdown(template); } else { this._openModal(backdrop, template); this._scrollBar.hide(); } if (this._animations) { Manipulator.addClass(this.container, this._classes.fadeIn); Manipulator.addClass(backdrop, this._classes.fadeInShort); } this._setFocusTrap(this.container); this._listenToDateSelection(); this._addControlsListeners(); this._updateControlsDisabledState(); this._listenToEscapeClick(); this._listenToKeyboardNavigation(); this._listenToDatesContainerFocus(); this._listenToDatesContainerBlur(); // We need to wait for popper initialization to avoid bug with // focusing dates container, otherwise dates container will be // focused before popper position update which can change the // scroll position on the page this._asyncFocusDatesContainer(); this._updateViewControlsAndAttributes(this._view); this._isOpen = true; // Wait for the component to open to prevent immediate calling of the // close method upon detecting a click on toggle element (input/button) setTimeout(() => { this._listenToOutsideClick(); }, 0); } _openDropdown(template) { this._popper = createPopper(this._input, template, { placement: "bottom-start", }); const container = this._getContainer(); container.appendChild(template); } _openModal(backdrop, template) { const container = this._getContainer(); container.appendChild(backdrop); container.appendChild(template); } _setFocusTrap(element) { this._focusTrap = new FocusTrap(element, { event: "keydown", condition: (event) => event.key === "Tab", }); this._focusTrap.trap(); } _listenToUserInput() { EventHandler.on(this._input, "input", (event) => { this._handleUserInput(event.target.value); }); } _listenToToggleClick() { EventHandler.on( this._element, EVENT_CLICK_DATA_API, DATEPICKER_TOGGLE_SELECTOR, (event) => { event.preventDefault(); this.open(); } ); } _listenToToggleKeydown() { EventHandler.on( this._element, "keydown", DATEPICKER_TOGGLE_SELECTOR, (event) => { if (event.keyCode === ENTER && !this._isOpen) { this.open(); } } ); } _listenToDateSelection() { EventHandler.on(this.datesContainer, "click", (e) => { this._handleDateSelection(e); }); } _handleDateSelection(e) { const dataset = e.target.nodeName === "DIV" ? e.target.parentNode.dataset : e.target.dataset; const cell = e.target.nodeName === "DIV" ? e.target.parentNode : e.target; if (dataset.teDate) { this._pickDay(dataset.teDate, cell); } if (dataset.teMonth && dataset.teYear) { const month = parseInt(dataset.teMonth, 10); const year = parseInt(dataset.teYear, 10); this._pickMonth(month, year); } if (dataset.teYear && !dataset.teMonth) { const year = parseInt(dataset.teYear, 10); this._pickYear(year); } if (!this._options.inline) { this._updateHeaderDate( this._activeDate, this._options.monthsShort, this._options.weekdaysShort ); } } _updateHeaderDate(date, monthNames, dayNames) { const headerDateEl = SelectorEngine.findOne( DATE_TEXT_SELECTOR, this.container ); const month = getMonth(date); const day = getDate(date); const dayNumber = getDayNumber(date); headerDateEl.innerHTML = `${dayNames[dayNumber]}, ${monthNames[month]} ${day}`; } _addControlsListeners() { EventHandler.on(this.nextButton, "click", () => { if (this._view === "days") { this.nextMonth(); } else if (this._view === "years") { this.nextYears(); } else { this.nextYear(); } this._updateControlsDisabledState(); }); EventHandler.on(this.previousButton, "click", () => { if (this._view === "days") { this.previousMonth(); } else if (this._view === "years") { this.previousYears(); } else { this.previousYear(); } this._updateControlsDisabledState(); }); EventHandler.on(this.viewChangeButton, "click", () => { if (this._view === "days") { this._changeView("years"); } else if (this._view === "years" || this._view === "months") { this._changeView("days"); } }); if (!this._options.inline) { this._listenToFooterButtonsClick(); } } _listenToFooterButtonsClick() { EventHandler.on(this.okButton, "click", () => this.handleOk()); EventHandler.on(this.cancelButton, "click", () => this.handleCancel()); EventHandler.on(this.clearButton, "click", () => this.handleClear()); } _listenToOutsideClick() { EventHandler.on(document, EVENT_CLICK_DATA_API, (e) => { const isContainer = e.target === this.container; const isContainerContent = this.container && this.container.contains(e.target); if (!isContainer && !isContainerContent) { this.close(); } }); } _listenToEscapeClick() { EventHandler.on(document, "keydown", (event) => { if (event.keyCode === ESCAPE && this._isOpen) { this.close(); } }); } _listenToKeyboardNavigation() { EventHandler.on(this.datesContainer, "keydown", (event) => { this._handleKeydown(event); }); } _listenToDatesContainerFocus() { EventHandler.on(this.datesContainer, "focus", () => { this._focusActiveCell(this.activeCell); }); } _listenToDatesContainerBlur() { EventHandler.on(this.datesContainer, "blur", () => { this._removeCurrentFocusStyles(); }); } _handleKeydown(event) { if (this._view === "days") { this._handleDaysViewKeydown(event); } if (this._view === "months") { this._handleMonthsViewKeydown(event); } if (this._view === "years") { this._handleYearsViewKeydown(event); } } _handleDaysViewKeydown(event) { const oldActiveDate = this._activeDate; const previousActiveCell = this.activeCell; switch (event.keyCode) { case LEFT_ARROW: this._activeDate = addDays(this._activeDate, isRTL() ? 1 : -1); break; case RIGHT_ARROW: this._activeDate = addDays(this._activeDate, isRTL() ? -1 : 1); break; case UP_ARROW: this._activeDate = addDays(this._activeDate, -7); break; case DOWN_ARROW: this._activeDate = addDays(this._activeDate, 7); break; case HOME: this._activeDate = addDays( this._activeDate, 1 - getDate(this._activeDate) ); break; case END: this._activeDate = addDays( this._activeDate, getDaysInMonth(this._activeDate) - getDate(this._activeDate) ); break; case PAGE_UP: this._activeDate = addMonths(this._activeDate, -1); break; case PAGE_DOWN: this._activeDate = addMonths(this._activeDate, 1); break; case ENTER: case SPACE: this._selectDate(this._activeDate); this._handleDateSelection(event); event.preventDefault(); return; default: return; } if ( !areDatesInSameView( oldActiveDate, this._activeDate, this._view, YEARS_IN_VIEW, this._options.min, this._options.max ) ) { this._changeView("days"); } this._removeHighlightFromCell(previousActiveCell); this._focusActiveCell(this.activeCell); event.preventDefault(); } _asyncFocusDatesContainer() { setTimeout(() => { this.datesContainer.focus(); }, 0); } _focusActiveCell(cell) { if (cell) { cell.setAttribute("data-te-datepicker-cell-focused", ""); } } _removeHighlightFromCell(cell) { if (cell) { cell.removeAttribute("data-te-datepicker-cell-focused"); } } _getActiveDayCell() { const cells = SelectorEngine.find("td", this.datesContainer); const activeCell = Array.from(cells).find((cell) => { const cellDate = convertStringToDate(cell.dataset.teDate); return isSameDate(cellDate, this._activeDate); }); return activeCell; } _handleMonthsViewKeydown(event) { const oldActiveDate = this._activeDate; const previousActiveCell = this.activeCell; switch (event.keyCode) { case LEFT_ARROW: this._activeDate = addMonths(this._activeDate, isRTL() ? 1 : -1); break; case RIGHT_ARROW: this._activeDate = addMonths(this._activeDate, isRTL() ? -1 : 1); break; case UP_ARROW: this._activeDate = addMonths(this._activeDate, -4); break; case DOWN_ARROW: this._activeDate = addMonths(this._activeDate, 4); break; case HOME: this._activeDate = addMonths(this._activeDate, -this.activeMonth); break; case END: this._activeDate = addMonths(this._activeDate, 11 - this.activeMonth); break; case PAGE_UP: this._activeDate = addYears(this._activeDate, -1); break; case PAGE_DOWN: this._activeDate = addYears(this._activeDate, 1); break; case ENTER: case SPACE: this._selectMonth(this.activeMonth); return; default: return; } if ( !areDatesInSameView( oldActiveDate, this._activeDate, this._view, YEARS_IN_VIEW, this._options.min, this._options.max ) ) { this._changeView("months"); } this._removeHighlightFromCell(previousActiveCell); this._focusActiveCell(this.activeCell); event.preventDefault(); } _getActiveMonthCell() { const cells = SelectorEngine.find("td", this.datesContainer); const activeCell = Array.from(cells).find((cell) => { const cellYear = parseInt(cell.dataset.teYear, 10); const cellMonth = parseInt(cell.dataset.teMonth, 10); return cellYear === this.activeYear && cellMonth === this.activeMonth; }); return activeCell; } _handleYearsViewKeydown(event) { const oldActiveDate = this._activeDate; const previousActiveCell = this.activeCell; const yearsPerRow = 4; const yearsPerPage = 24; switch (event.keyCode) { case LEFT_ARROW: this._activeDate = addYears(this._activeDate, isRTL() ? 1 : -1); break; case RIGHT_ARROW: this._activeDate = addYears(this._activeDate, isRTL() ? -1 : 1); break; case UP_ARROW: this._activeDate = addYears(this._activeDate, -yearsPerRow); break; case DOWN_ARROW: this._activeDate = addYears(this._activeDate, yearsPerRow); break; case HOME: this._activeDate = addYears( this._activeDate, -getYearsOffset(this._activeDate, yearsPerPage) ); break; case END: this._activeDate = addYears( this._activeDate, yearsPerPage - getYearsOffset(this._activeDate, yearsPerPage) - 1 ); break; case PAGE_UP: this._activeDate = addYears(this._activeDate, -yearsPerPage); break; case PAGE_DOWN: this._activeDate = addYears(this._activeDate, yearsPerPage); break; case ENTER: case SPACE: this._selectYear(this.activeYear); return; default: return; } if ( !areDatesInSameView( oldActiveDate, this._activeDate, this._view, YEARS_IN_VIEW, this._options.min, this._options.max ) ) { this._changeView("years"); } this._removeHighlightFromCell(previousActiveCell); this._focusActiveCell(this.activeCell); event.preventDefault(); } _getActiveYearCell() { const cells = SelectorEngine.find("td", this.datesContainer); const activeCell = Array.from(cells).find((cell) => { const cellYear = parseInt(cell.dataset.teYear, 10); return cellYear === this.activeYear; }); return activeCell; } _setInitialDate() { if (this._input.value) { this._handleUserInput(this._input.value); } else if (this._options.startDate) { this._activeDate = new Date(this._options.startDate); } else { this._activeDate = new Date(); } } close() { const closeEvent = EventHandler.trigger(this._element, EVENT_CLOSE); if (!this._isOpen || closeEvent.defaultPrevented) { return; } this._removeDatepickerListeners(); if (this._animations) { Manipulator.addClass(this.container, this._classes.fadeOut); } if (this._options.inline) { this._closeDropdown(); } else { this._closeModal(); } this._isOpen = false; this._view = this._options.view; if (this.toggleButton) { this.toggleButton.focus(); } else { this._input.focus(); } } _closeDropdown() { const datepicker = SelectorEngine.findOne(DROPDOWN_CONTAINER_SELECTOR); if (window.matchMedia("(prefers-reduced-motion: reduce)").matches) { if (datepicker) { document.body.removeChild(datepicker); } if (this._popper) { this._popper.destroy(); } } datepicker.addEventListener("animationend", () => { if (datepicker) { document.body.removeChild(datepicker); } if (this._popper) { this._popper.destroy(); } }); this._removeFocusTrap(); } _closeModal() { const backdrop = SelectorEngine.findOne(BACKDROP_SELECTOR); const datepicker = SelectorEngine.findOne(MODAL_CONTAINER_SELECTOR); if (!datepicker || !backdrop) { return; } if (this._animations) { Manipulator.addClass(backdrop, this._classes.fadeOutShort); backdrop.addEventListener("animationend", () => { this._removePicker(backdrop, datepicker); this._scrollBar.reset(); }); } else { this._removePicker(backdrop, datepicker); this._scrollBar.reset(); } } _removePicker(backdrop, datepicker) { const container = this._getContainer(); container.removeChild(backdrop); container.removeChild(datepicker); } _removeFocusTrap() { if (this._focusTrap) { this._focusTrap.disable(); this._focusTrap = null; } } _removeDatepickerListeners() { EventHandler.off(this.nextButton, "click"); EventHandler.off(this.previousButton, "click"); EventHandler.off(this.viewChangeButton, "click"); EventHandler.off(this.okButton, "click"); EventHandler.off(this.cancelButton, "click"); EventHandler.off(this.clearButton, "click"); EventHandler.off(this.datesContainer, "click"); EventHandler.off(this.datesContainer, "keydown"); EventHandler.off(this.datesContainer, "focus"); EventHandler.off(this.datesContainer, "blur"); EventHandler.off(document, EVENT_CLICK_DATA_API); } dispose() { if (this._isOpen) { this.close(); } this._removeInputAndToggleListeners(); const generatedToggleButton = SelectorEngine.findOne( `#${this._toggleButtonId}` ); if (generatedToggleButton) { this._element.removeChild(generatedToggleButton); } Data.removeData(this._element, DATA_KEY); this._element = null; this._input = null; this._options = null; this._activeDate = null; this._selectedDate = null; this._selectedYear = null; this._selectedMonth = null; this._headerDate = null; this._headerYear = null; this._headerMonth = null; this._view = null; this._popper = null; this._focusTrap = null; } _removeInputAndToggleListeners() { EventHandler.off(this._input, "input"); EventHandler.off( this._element, EVENT_CLICK_DATA_API, DATEPICKER_TOGGLE_SELECTOR ); EventHandler.off(this._element, "keydown", DATEPICKER_TOGGLE_SELECTOR); } handleOk() { this._confirmSelection(this._headerDate); this.close(); } _selectDate(date, cell = this.activeCell) { const { min, max, filter, disablePast, disableFuture } = this._options; if (isDateDisabled(date, min, max, filter, disablePast, disableFuture)) { return; } this._removeCurrentSelectionStyles(); this._removeCurrentFocusStyles(); this._addSelectedStyles(cell); this._selectedDate = date; this._selectedYear = getYear(date); this._selectedMonth = getMonth(date); this._headerDate = date; if (this._options.inline || this.options.confirmDateOnSelect) { this._confirmSelection(date); this.close(); } } _selectYear(year, cell = this.activeCell) { this._removeCurrentSelectionStyles(); this._removeCurrentFocusStyles(); this._addSelectedStyles(cell); this._headerYear = year; this._asyncChangeView("months"); } _selectMonth(month, cell = this.activeCell) { this._removeCurrentSelectionStyles(); this._removeCurrentFocusStyles(); this._addSelectedStyles(cell); this._headerMonth = month; this._asyncChangeView("days"); } _removeSelectedStyles(cell) { if (cell) { cell.removeAttribute("data-te-datepicker-cell-selected"); } } _addSelectedStyles(cell) { if (cell) { cell.setAttribute("data-te-datepicker-cell-selected", ""); } } _confirmSelection(date) { if (date) { const dateString = this.formatDate(date); this._input.value = dateString; EventHandler.trigger(this._element, EVENT_DATE_CHANGE, { date }); EventHandler.trigger(this._input, "input"); } } handleCancel() { this._selectedDate = null; this._selectedYear = null; this._selectedMonth = null; this.close(); } handleClear() { this._selectedDate = null; this._selectedMonth = null; this._selectedYear = null; this._headerDate = null; this._headerMonth = null; this._headerYear = null; this._removeCurrentSelectionStyles(); this._input.value = ""; this._setInitialDate(); this._changeView("days"); this._updateHeaderDate( this._activeDate, this._options.monthsShort, this._options.weekdaysShort ); } _removeCurrentSelectionStyles() { const currentSelected = SelectorEngine.findOne( "[data-te-datepicker-cell-selected]", this.container ); if (currentSelected) { currentSelected.removeAttribute("data-te-datepicker-cell-selected"); } } _removeCurrentFocusStyles() { const currentFocused = SelectorEngine.findOne( "[data-te-datepicker-cell-focused]", this.container ); if (currentFocused) { currentFocused.removeAttribute("data-te-datepicker-cell-focused"); } } formatDate(date) { const d = getDate(date); const dd = this._addLeadingZero(getDate(date)); const ddd = this._options.weekdaysShort[getDayNumber(date)]; const dddd = this._options.weekdaysFull[getDayNumber(date)]; const m = getMonth(date) + 1; const mm = this._addLeadingZero(getMonth(date) + 1); const mmm = this._options.monthsShort[getMonth(date)]; const mmmm = this._options.monthsFull[getMonth(date)]; const yy = getYear(date).toString().length === 2 ? getYear(date) : getYear(date).toString().slice(2, 4); const yyyy = getYear(date); const preformatted = this._options.format.split( /(d{1,4}|m{1,4}|y{4}|yy|!.)/g ); let formatted = ""; preformatted.forEach((datePart) => { switch (datePart) { case "dddd": datePart = datePart.replace(datePart, dddd); break; case "ddd": datePart = datePart.replace(datePart, ddd); break; case "dd": datePart = datePart.replace(datePart, dd); break; case "d": datePart = datePart.replace(datePart, d); break; case "mmmm": datePart = datePart.replace(datePart, mmmm); break; case "mmm": datePart = datePart.replace(datePart, mmm); break; case "mm": datePart = datePart.replace(datePart, mm); break; case "m": datePart = datePart.replace(datePart, m); break; case "yyyy": datePart = datePart.replace(datePart, yyyy); break; case "yy": datePart = datePart.replace(datePart, yy); break; default: } formatted += datePart; }); return formatted; } _addLeadingZero(value) { return parseInt(value, 10) < 10 ? `0${value}` : value; } _pickDay(day, el) { const date = convertStringToDate(day); const { min, max, filter, disablePast, disableFuture } = this._options; if (isDateDisabled(date, min, max, filter, disablePast, disableFuture)) { return; } this._activeDate = date; this._selectDate(date, el); } _pickYear(year) { const { min, max, disablePast, disableFuture } = this._options; if (isYearDisabled(year, min, max, disablePast, disableFuture)) { return; } const newDate = createDate(year, this.activeMonth, this.activeDay); this._activeDate = newDate; this._selectedDate = newDate; this._selectYear(year); } _pickMonth(month, year) { const { min, max, disablePast, disableFuture } = this._options; if ( isMonthDisabled(month, year, min, max, disablePast, disableFuture) || isYearDisabled(year, min, max, disablePast, disableFuture) ) { return; } const newDate = createDate(year, month, this.activeDay); this._activeDate = newDate; this._selectMonth(month); } nextMonth() { const nextMonth = addMonths(this._activeDate, 1); const template = createDayViewTemplate( nextMonth, this._headerDate, this._options, this._classes ); this._activeDate = nextMonth; this.viewChangeButton.textContent = `${ this._options.monthsFull[this.activeMonth] } ${this.activeYear}`; this.viewChangeButton.innerHTML += createViewChangeButtonIcon( this._options, this._classes ); this.datesContainer.innerHTML = template; } previousMonth() { const previousMonth = addMonths(this._activeDate, -1); this._activeDate = previousMonth; const template = createDayViewTemplate( previousMonth, this._headerDate, this._options, this._classes ); this.viewChangeButton.textContent = `${ this._options.monthsFull[this.activeMonth] } ${this.activeYear}`; this.viewChangeButton.innerHTML += createViewChangeButtonIcon( this._options, this._classes ); this.datesContainer.innerHTML = template; } nextYear() { const nextYear = addYears(this._activeDate, 1); this._activeDate = nextYear; this.viewChangeButton.textContent = `${this.activeYear}`; this.viewChangeButton.innerHTML += createViewChangeButtonIcon( this._options, this._classes ); const template = createMonthViewTemplate( this.activeYear, this._selectedYear, this._selectedMonth, this._options, MONTHS_IN_ROW, this._classes ); this.datesContainer.innerHTML = template; } previousYear() { const previousYear = addYears(this._activeDate, -1); this._activeDate = previousYear; this.viewChangeButton.textContent = `${this.activeYear}`; this.viewChangeButton.innerHTML += createViewChangeButtonIcon( this._options, this._classes ); const template = createMonthViewTemplate( this.activeYear, this._selectedYear, this._selectedMonth, this._options, MONTHS_IN_ROW, this._classes ); this.datesContainer.innerHTML = template; } nextYears() { const nextYear = addYears(this._activeDate, 24); this._activeDate = nextYear; const template = createYearViewTemplate( nextYear, this._selectedYear, this._options, YEARS_IN_VIEW, YEARS_IN_ROW, this._classes ); this.viewChangeButton.textContent = `${this.firstYearInView} - ${this.lastYearInView}`; this.viewChangeButton.innerHTML += createViewChangeButtonIcon( this._options, this._classes ); this.datesContainer.innerHTML = template; } previousYears() { const previousYear = addYears(this._activeDate, -24); this._activeDate = previousYear; const template = createYearViewTemplate( previousYear, this._selectedYear, this._options, YEARS_IN_VIEW, YEARS_IN_ROW, this._classes ); this.viewChangeButton.textContent = `${this.firstYearInView} - ${this.lastYearInView}`; this.viewChangeButton.innerHTML += createViewChangeButtonIcon( this._options, this._classes ); this.datesContainer.innerHTML = template; } _asyncChangeView(view) { setTimeout(() => { this._changeView(view); }, 0); } _changeView(view) { this._view = view; // We need to add blur event here to reapply focus to // dates container when switching from years to months // view after selecting year this.datesContainer.blur(); if (view === "days") { this.datesContainer.innerHTML = createDayViewTemplate( this._activeDate, this._headerDate, this._options, this._classes ); } if (view === "months") { this.datesContainer.innerHTML = createMonthViewTemplate( this.activeYear, this._selectedYear, this._selectedMonth, this._options, MONTHS_IN_ROW, this._classes ); } if (view === "years") { this.datesContainer.innerHTML = createYearViewTemplate( this._activeDate, this._selectedYear, this._options, YEARS_IN_VIEW, YEARS_IN_ROW, this._classes ); } this.datesContainer.focus(); this._updateViewControlsAndAttributes(view); this._updateControlsDisabledState(); } _updateViewControlsAndAttributes(view) { if (view === "days") { this.viewChangeButton.textContent = `${ this._options.monthsFull[this.activeMonth] } ${this.activeYear}`; this.viewChangeButton.innerHTML += createViewChangeButtonIcon( this._options, this._classes ); this.viewChangeButton.setAttribute( "aria-label", this._options.switchToMultiYearViewLabel ); this.previousButton.setAttribute( "aria-label", this._options.prevMonthLabel ); this.nextButton.setAttribute("aria-label", this._options.nextMonthLabel); } if (view === "months") { this.viewChangeButton.textContent = `${this.activeYear}`; this.viewChangeButton.innerHTML += createViewChangeButtonIcon( this._options, this._classes ); this.viewChangeButton.setAttribute( "aria-label", this._options.switchToDayViewLabel ); this.previousButton.setAttribute( "aria-label", this._options.prevYearLabel ); this.nextButton.setAttribute("aria-label", this._options.nextYearLabel); } if (view === "years") { this.viewChangeButton.textContent = `${this.firstYearInView} - ${this.lastYearInView}`; this.viewChangeButton.innerHTML += createViewChangeButtonIcon( this._options, this._classes ); this.viewChangeButton.setAttribute( "aria-label", this._options.switchToMonthViewLabel ); this.previousButton.setAttribute( "aria-label", this._options.prevMultiYearLabel ); this.nextButton.setAttribute( "aria-label", this._options.nextMultiYearLabel ); } } _updateControlsDisabledState() { if ( isNextDateDisabled( this._options.disableFuture, this._activeDate, this._view, YEARS_IN_VIEW, this._options.min, this._options.max, this.lastYearInView, this.firstYearInView ) ) { this.nextButton.disabled = true; } else { this.nextButton.disabled = false; } if ( isPreviousDateDisabled( this._options.disablePast, this._activeDate, this._view, YEARS_IN_VIEW, this._options.min, this._options.max, this.lastYearInView, this.firstYearInView ) ) { this.previousButton.disabled = true; } else { this.previousButton.disabled = false; } } _handleUserInput(input) { const delimeters = this._getDelimeters(this._options.format); const date = this._parseDate(input, this._options.format, delimeters); if (isValidDate(date)) { this._activeDate = date; this._selectedDate = date; this._selectedYear = getYear(date); this._selectedMonth = getMonth(date); this._headerDate = date; } else { this._activeDate = new Date(); this._selectedDate = null; this._selectedMonth = null; this._selectedYear = null; this._headerDate = null; this._headerMonth = null; this._headerYear = null; } } _getDelimeters(format) { return format.match(/[^(dmy)]{1,}/g); } _parseDate(dateString, format, delimeters) { let delimeterPattern; if (delimeters[0] !== delimeters[1]) { delimeterPattern = delimeters[0] + delimeters[1]; } else { delimeterPattern = delimeters[0]; } const regExp = new RegExp(`[${delimeterPattern}]`); const dateParts = dateString.split(regExp); const formatParts = format.split(regExp); const isMonthString = format.indexOf("mmm") !== -1; const datesArray = []; for (let i = 0; i < formatParts.length; i++) { if (formatParts[i].indexOf("yy") !== -1) { datesArray[0] = { value: dateParts[i], format: formatParts[i] }; } if (formatParts[i].indexOf("m") !== -1) { datesArray[1] = { value: dateParts[i], format: formatParts[i] }; } if (formatParts[i].indexOf("d") !== -1 && formatParts[i].length <= 2) { datesArray[2] = { value: dateParts[i], format: formatParts[i] }; } } let monthsNames; if (format.indexOf("mmmm") !== -1) { monthsNames = this._options.monthsFull; } else { monthsNames = this._options.monthsShort; } const year = Number(datesArray[0].value); const month = isMonthString ? this.getMonthNumberByMonthName(datesArray[1].value, monthsNames) : Number(datesArray[1].value) - 1; const day = Number(datesArray[2].value); const parsedDate = createDate(year, month, day); return parsedDate; } getMonthNumberByMonthName(monthValue, monthLabels) { return monthLabels.findIndex((monthLabel) => monthLabel === monthValue); } static getInstance(element) { return Data.getData(element, DATA_KEY); } static getOrCreateInstance(element, config = {}) { return ( this.getInstance(element) || new this(element, typeof config === "object" ? config : null) ); } } export default Datepicker; ",
  "/* -------------------------------------------------------------------------- Tailwind Elements is an open-source UI kit of advanced components for TailwindCSS. Copyright © 2023 MDBootstrap.com Unless a custom, individually assigned license has been granted, this program is free software: you can redistribute it and/or modify it under the terms of the GNU Affero General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. In addition, a custom license may be available upon request, subject to the terms and conditions of that license. Please contact tailwind@mdbootstrap.com for more information on obtaining a custom license. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero General Public License for more details. -------------------------------------------------------------------------- */ export const getTimepickerTemplate = ( { format24, okLabel, cancelLabel, headID, footerID, bodyID, pickerID, clearLabel, inline, showClearBtn, amLabel, pmLabel, }, classes ) => { const normalTemplate = `<div id='${pickerID}' class='${ classes.timepickerWrapper }' data-te-timepicker-wrapper> <div class="${classes.timepickerContainer}"> <div class="${classes.timepickerElements}"> <div id='${headID}' class='${ classes.timepickerHead }' style='padding-right:${format24 ? 50 : 10}px'> <div class='${classes.timepickerHeadContent}'> <div class="${classes.timepickerCurrentWrapper}"> <span class="${classes.timepickerCurrentButtonWrapper}"> <button type='button' class='${ classes.timepickerCurrentButton }' tabindex="0" data-te-timepicker-active data-te-timepicker-current data-te-timepicker-hour data-te-ripple-init>21</button> </span> <button type='button' class='${ classes.timepickerDot }' disabled>:</button> <span class="${classes.timepickerCurrentButtonWrapper}"> <button type='button' class='${ classes.timepickerCurrentButton }' tabindex="0" data-te-timepicker-current data-te-timepicker-minute data-te-ripple-init>21</button> </span> </div> ${ !format24 ? `<div class="${classes.timepickerModeWrapper}"> <button type='button' class="${classes.timepickerModeAm}" tabindex="0" data-te-timepicker-am data-te-timepicker-hour-mode data-te-ripple-init>${amLabel}</button> <button class="${classes.timepickerModePm}" tabindex="0" data-te-timepicker-pm data-te-timepicker-hour-mode data-te-ripple-init>${pmLabel}</button> </div>` : "" } </div> </div> ${ !inline ? `<div id='${bodyID}' class='${ classes.timepickerClockWrapper }' data-te-timepicker-clock-wrapper> <div class='${classes.timepickerClock}' data-te-timepicker-clock> <span class='${ classes.timepickerMiddleDot }' data-te-timepicker-middle-dot></span> <div class='${ classes.timepickerHandPointer }' data-te-timepicker-hand-pointer> <div class='${ classes.timepickerPointerCircle }' data-te-timepicker-circle></div> </div> ${ format24 ? '<div class="' + classes.timepickerClockInner + '" data-te-timepicker-clock-inner></div>' : "" } </div> </div>` : "" } </div> <div id='${footerID}' class='${classes.timepickerFooterWrapper}'> <div class="${classes.timepickerFooter}"> ${ showClearBtn ? `<button type='button' class='${classes.timepickerFooterButton}' data-te-timepicker-clear tabindex="0" data-te-ripple-init>${clearLabel}</button>` : "" } <button type='button' class='${ classes.timepickerFooterButton }' data-te-timepicker-cancel tabindex="0" data-te-ripple-init>${cancelLabel}</button> <button type='button' class='${ classes.timepickerFooterButton }' data-te-timepicker-submit tabindex="0" data-te-ripple-init>${okLabel}</button> </div> </div> </div> </div>`; const inlineTemplate = `<div id='${pickerID}' class='${ classes.timepickerInlineWrapper }' data-te-timepicker-wrapper> <div class="${classes.timepickerInlineContainer}"> <div class="${classes.timepickerInlineElements}"> <div id='${headID}' class='${classes.timepickerInlineHead}' style='padding-right:10px'> <div class='${classes.timepickerInlineHeadContent}'> <div class="${classes.timepickerCurrentWrapper}"> <span class="${ classes.timepickerInlineHourWrapper }" data-te-timepicker-inline-hour-icons> <span class="${ classes.timepickerInlineIconUp }" data-te-timepicker-icon-up data-te-timepicker-icon-inline-hour> <span class="${classes.timepickerInlineIconSvg}"> <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"> <path stroke-linecap="round" stroke-linejoin="round" d="M4.5 15.75l7.5-7.5 7.5 7.5" /> </svg> </span> </span> <button type='button' class='${ classes.timepickerInlineCurrentButton }' data-te-timepicker-hour data-te-timepicker-current data-te-timepicker-current-inline tabindex="0" data-te-ripple-init>21</button> <span class="${ classes.timepickerInlineIconDown }" data-te-timepicker-icon-inline-hour data-te-timepicker-icon-down> <span class="${classes.timepickerInlineIconSvg}"> <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"> <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5" /> </svg> </span> </span> </span> <button type='button' class='${ classes.timepickerInlineDot }' data-te-timepicker-current-inline disabled>:</button> <span class="${classes.timepickerCurrentMinuteWrapper}"> <span class="${ classes.timepickerInlineIconUp }" data-te-timepicker-icon-up data-te-timepicker-icon-inline-minute> <span class="${classes.timepickerInlineIconSvg}"> <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"> <path stroke-linecap="round" stroke-linejoin="round" d="M4.5 15.75l7.5-7.5 7.5 7.5" /> </svg> </span> </span> <button type='button' class='${ classes.timepickerInlineCurrentButton }' data-te-timepicker-minute data-te-timepicker-current data-te-timepicker-current-inline tabindex="0" data-te-ripple-init>21</button> <span class="${ classes.timepickerInlineIconDown }" data-te-timepicker-icon-inline-minute data-te-timepicker-icon-down> <span class="${classes.timepickerInlineIconSvg}"> <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"> <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5" /> </svg> </span> </span> </span> </div> ${ !format24 ? `<div class="${classes.timepickerInlineModeWrapper}"> <button type='button' class="${classes.timepickerInlineModeAm}" data-te-timepicker-am data-te-timepicker-hour-mode tabindex="0" data-te-ripple-init>${amLabel}</button> <button class="${classes.timepickerInlineModePm}" data-te-timepicker-hour-mode data-te-timepicker-pm tabindex="0" data-te-ripple-init>${pmLabel}</button> <button type='button' class='${classes.timepickerInlineSubmitButton}' data-te-timepicker-submit tabindex="0" data-te-ripple-init>${okLabel}</button> </div>` : "" } ${ format24 ? `<button class='${classes.timepickerInlineSubmitButton}' data-te-timepicker-submit tabindex="0" data-te-ripple-init>${okLabel}</button>` : "" } </div> </div> </div> </div> </div>`; return inline ? inlineTemplate : normalTemplate; }; export const getToggleButtonTemplate = (options, id, classes) => { const { iconSVG } = options; return ` <button id="${id}" tabindex="0" type="button" class="${classes.timepickerToggleButton}" data-te-toggle="timepicker" data-te-timepicker-toggle-button data-te-timepicker-icon> ${iconSVG} </button> `; }; ",
  "/* -------------------------------------------------------------------------- Tailwind Elements is an open-source UI kit of advanced components for TailwindCSS. Copyright © 2023 MDBootstrap.com Unless a custom, individually assigned license has been granted, this program is free software: you can redistribute it and/or modify it under the terms of the GNU Affero General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. In addition, a custom license may be available upon request, subject to the terms and conditions of that license. Please contact tailwind@mdbootstrap.com for more information on obtaining a custom license. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero General Public License for more details. -------------------------------------------------------------------------- */ /* eslint-disable consistent-return */ import EventHandler from "../../dom/event-handler"; import Manipulator from "../../dom/manipulator"; const ATTR_TIMEPICKER_DISABLED = "data-te-timepicker-disabled"; const ATTR_TIMEPICKER_ACTIVE = "data-te-timepicker-active"; const formatToAmPm = (date) => { if (date === "") return; let hours; let minutes; let amOrPm; let originalHours; if (isValidDate(date)) { hours = date.getHours(); originalHours = hours; minutes = date.getMinutes(); hours %= 12; if (originalHours === 0 && hours === 0) { amOrPm = "AM"; } hours = hours || 12; if (amOrPm === undefined) { amOrPm = Number(originalHours) >= 12 ? "PM" : "AM"; } minutes = minutes < 10 ? `0${minutes}` : minutes; } else { [hours, minutes, amOrPm] = takeValue(date, false); originalHours = hours; hours %= 12; if (originalHours === 0 && hours === 0) { amOrPm = "AM"; } hours = hours || 12; if (amOrPm === undefined) { amOrPm = Number(originalHours) >= 12 ? "PM" : "AM"; } } return { hours, minutes, amOrPm, }; }; const isValidDate = (date) => { return ( date && Object.prototype.toString.call(date) === "[object Date]" && !Number.isNaN(date) ); }; const formatNormalHours = (date) => { if (date === "") return; let hours; let minutes; if (!isValidDate(date)) { [hours, minutes] = takeValue(date, false); } else { hours = date.getHours(); minutes = date.getMinutes(); } minutes = Number(minutes) < 10 ? `0${Number(minutes)}` : minutes; return { hours, minutes, }; }; const toggleClassHandler = (event, selector, classes) => { return EventHandler.on(document, event, selector, ({ target }) => { if (target.hasAttribute(ATTR_TIMEPICKER_ACTIVE)) return; const allElements = document.querySelectorAll(selector); allElements.forEach((element) => { if (!element.hasAttribute(ATTR_TIMEPICKER_ACTIVE)) return; Manipulator.removeClass(element, classes.opacity); element.removeAttribute(ATTR_TIMEPICKER_ACTIVE); }); Manipulator.addClass(target, classes.opacity); target.setAttribute(ATTR_TIMEPICKER_ACTIVE, ""); }); }; const findMousePosition = ( { clientX, clientY, touches }, object, isMobile = false ) => { const { left, top } = object.getBoundingClientRect(); let obj = {}; if (!isMobile || !touches) { obj = { x: clientX - left, y: clientY - top, }; } else if (isMobile && Object.keys(touches).length > 0) { obj = { x: touches[0].clientX - left, y: touches[0].clientY - top, }; } return obj; }; const checkBrowser = () => { const isBrowserMatched = (navigator.maxTouchPoints && navigator.maxTouchPoints > 2 && /MacIntel/.test(navigator.platform)) || /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test( navigator.userAgent ); return isBrowserMatched; }; const takeValue = (element, isInput = true) => { if (isInput) return element.value.replace(/:/gi, " ").split(" "); return element.replace(/:/gi, " ").split(" "); }; const compareTimes = (time1, time2) => { const [time1Hour, time1Minutes, time1maxTimeFormat] = takeValue(time1, false); const [time2Hour, time2Minutes, time2maxTimeFormat] = takeValue(time2, false); const bothFormatsEqual = time1maxTimeFormat === time2maxTimeFormat; const condition = (time1maxTimeFormat === "PM" && time2maxTimeFormat === "AM") || (bothFormatsEqual && time1Hour > time2Hour) || time1Minutes > time2Minutes; return condition; }; const getCurrentTime = () => { const date = new Date(); const currentHours = date.getHours(); const currentMinutes = date.getMinutes(); const currentTime = `${currentHours}:${ currentMinutes < 10 ? `0${currentMinutes}` : currentMinutes }`; return currentTime; }; const setMinTime = (minTime, disabledPast, format12) => { if (!disabledPast) { return minTime; } let currentTime = getCurrentTime(); if (format12) { currentTime = `${formatToAmPm(currentTime).hours}:${ formatToAmPm(currentTime).minutes } ${formatToAmPm(currentTime).amOrPm}`; } if ( (minTime !== "" && compareTimes(currentTime, minTime)) || minTime === "" ) { minTime = currentTime; } return minTime; }; const setMaxTime = (maxTime, disabledFuture, format12) => { if (!disabledFuture) return maxTime; let currentTime = getCurrentTime(); if (format12) { currentTime = `${formatToAmPm(currentTime).hours}:${ formatToAmPm(currentTime).minutes } ${formatToAmPm(currentTime).amOrPm}`; } if ( (maxTime !== "" && !compareTimes(currentTime, maxTime)) || maxTime === "" ) { maxTime = currentTime; } return maxTime; }; const checkValueBeforeAccept = ( { format12, maxTime, minTime, disablePast, disableFuture }, input, hourHeader ) => { const minute = takeValue(input)[1]; minTime = setMinTime(minTime, disablePast, format12); maxTime = setMaxTime(maxTime, disableFuture, format12); const [maxTimeHour, maxTimeMin, maxTimeFormat] = takeValue(maxTime, false); const [minTimeHour, minTimeMin, minTimeFormat] = takeValue(minTime, false); if (maxTimeFormat !== undefined || minTimeFormat !== undefined) return [hourHeader, minute]; if ( maxTimeHour !== "" && minTimeHour === "" && Number(hourHeader) > Number(maxTimeHour) ) return; if ( maxTimeHour === "" && minTimeHour !== "" && maxTimeMin === undefined && minTimeMin !== "" && Number(hourHeader) < Number(minTimeHour) ) return; return [hourHeader, minute]; }; const _verifyMaxTimeHourAndAddDisabledClass = ( tips, maxTimeHour, classes, format12 ) => { tips.forEach((tip) => { maxTimeHour = maxTimeHour === "12" && format12 ? "0" : maxTimeHour; if ( tip.textContent === "00" || Number(tip.textContent === "12" && format12 ? "0" : tip.textContent) > maxTimeHour ) { Manipulator.addClass(tip, classes.tipsDisabled); tip.setAttribute(ATTR_TIMEPICKER_DISABLED, ""); } }); }; const _verifyMinTimeHourAndAddDisabledClass = ( tips, minTimeHour, classes, format12 ) => { tips.forEach((tip) => { minTimeHour = minTimeHour === "12" && format12 ? "0" : minTimeHour; if ( tip.textContent !== "00" && Number(tip.textContent === "12" && format12 ? "0" : tip.textContent) < Number(minTimeHour) ) { Manipulator.addClass(tip, classes.tipsDisabled); tip.setAttribute(ATTR_TIMEPICKER_DISABLED, ""); } }); }; const _isHourDisabled = (selectedHour, timeHour, format12, operator) => { if (timeHour === "12" || timeHour === "24") { return; } const hourChange = format12 ? 12 : 24; if (operator === "max") { return ( (Number(selectedHour) === hourChange ? 0 : Number(selectedHour)) > Number(timeHour) ); } return ( (Number(selectedHour) === hourChange ? 0 : Number(selectedHour)) < Number(timeHour) ); }; const _verifyMaxTimeMinutesTipsAndAddDisabledClass = ( tips, maxMinutes, maxHour, currHour, classes, format12 ) => { tips.forEach((tip) => { if ( _isHourDisabled(currHour, maxHour, format12, "max") || (Number(tip.textContent) > maxMinutes && Number(currHour) === Number(maxHour)) ) { Manipulator.addClass(tip, classes.tipsDisabled); tip.setAttribute(ATTR_TIMEPICKER_DISABLED, ""); } }); }; const _verifyMinTimeMinutesTipsAndAddDisabledClass = ( tips, minMinutes, minHour, currHour, classes, format12 ) => { tips.forEach((tip) => { if ( _isHourDisabled(currHour, minHour, format12, "min") || (Number(tip.textContent) < minMinutes && Number(currHour) === Number(minHour)) ) { Manipulator.addClass(tip, classes.tipsDisabled); tip.setAttribute(ATTR_TIMEPICKER_DISABLED, ""); } }); }; const _convertHourToNumber = (string) => { if (string.startsWith("0")) return Number(string.slice(1)); return Number(string); }; export { checkBrowser, findMousePosition, formatNormalHours, formatToAmPm, toggleClassHandler, checkValueBeforeAccept, takeValue, compareTimes, setMinTime, setMaxTime, _verifyMinTimeHourAndAddDisabledClass, _verifyMaxTimeMinutesTipsAndAddDisabledClass, _verifyMinTimeMinutesTipsAndAddDisabledClass, _verifyMaxTimeHourAndAddDisabledClass, _convertHourToNumber, }; ",
  "/* -------------------------------------------------------------------------- Tailwind Elements is an open-source UI kit of advanced components for TailwindCSS. Copyright © 2023 MDBootstrap.com Unless a custom, individually assigned license has been granted, this program is free software: you can redistribute it and/or modify it under the terms of the GNU Affero General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. In addition, a custom license may be available upon request, subject to the terms and conditions of that license. Please contact tailwind@mdbootstrap.com for more information on obtaining a custom license. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero General Public License for more details. -------------------------------------------------------------------------- */ /* eslint-disable consistent-return */ /* eslint-disable no-else-return */ import { createPopper } from "@popperjs/core"; import { typeCheckConfig, element, getUID } from "../../util/index"; import { getTimepickerTemplate, getToggleButtonTemplate } from "./templates"; import Data from "../../dom/data"; import Manipulator from "../../dom/manipulator"; import EventHandler, { EventHandlerMulti } from "../../dom/event-handler"; import { formatToAmPm, toggleClassHandler, checkBrowser, findMousePosition, takeValue, formatNormalHours, setMinTime, setMaxTime, _convertHourToNumber, checkValueBeforeAccept, _verifyMaxTimeHourAndAddDisabledClass, _verifyMaxTimeMinutesTipsAndAddDisabledClass, _verifyMinTimeHourAndAddDisabledClass, _verifyMinTimeMinutesTipsAndAddDisabledClass, } from "./utils"; import ScrollBarHelper from "../../util/scrollbar"; import FocusTrap from "../../util/focusTrap"; import SelectorEngine from "../../dom/selector-engine"; import { UP_ARROW, DOWN_ARROW, LEFT_ARROW, RIGHT_ARROW, ESCAPE, ENTER, } from "../../util/keycodes"; /* ------------------------------------------------------------------------ Constants ------------------------------------------------------------------------ */ const NAME = "timepicker"; const ATTR_NAME = `data-te-${NAME}`; const SELECTOR_DATA_TE_TOGGLE = "[data-te-toggle]"; const DATA_KEY = `te.${NAME}`; const EVENT_KEY = `.${DATA_KEY}`; const DATA_API_KEY = ".data-api"; const EVENT_CLICK_DATA_API = `click${EVENT_KEY}${DATA_API_KEY}`; const EVENT_KEYDOWN_DATA_API = `keydown${EVENT_KEY}${DATA_API_KEY}`; const EVENT_MOUSEDOWN_DATA_API = `mousedown${EVENT_KEY}${DATA_API_KEY}`; const EVENT_MOUSEUP_DATA_API = `mouseup${EVENT_KEY}${DATA_API_KEY}`; const EVENT_MOUSEMOVE_DATA_API = `mousemove${EVENT_KEY}${DATA_API_KEY}`; const EVENT_MOUSELEAVE_DATA_API = `mouseleave${EVENT_KEY}${DATA_API_KEY}`; const EVENT_MOUSEOVER_DATA_API = `mouseover${EVENT_KEY}${DATA_API_KEY}`; const EVENT_TOUCHMOVE_DATA_API = `touchmove${EVENT_KEY}${DATA_API_KEY}`; const EVENT_TOUCHEND_DATA_API = `touchend${EVENT_KEY}${DATA_API_KEY}`; const EVENT_TOUCHSTART_DATA_API = `touchstart${EVENT_KEY}${DATA_API_KEY}`; const SELECTOR_ATTR_TIMEPICKER_AM = `[${ATTR_NAME}-am]`; const SELECTOR_ATTR_TIMEPICKER_PM = `[${ATTR_NAME}-pm]`; const SELECTOR_ATTR_TIMEPICKER_FORMAT24 = `[${ATTR_NAME}-format24]`; const SELECTOR_ATTR_TIMEPICKER_CURRENT = `[${ATTR_NAME}-current]`; const SELECTOR_ATTR_TIMEPICKER_HOUR_MODE = `[${ATTR_NAME}-hour-mode]`; const SELECTOR_ATTR_TIMEPICKER_TOGGLE_BUTTON = `[${ATTR_NAME}-toggle-button]`; const ATTR_TIMEPICKER_BUTTON_CANCEL = `${ATTR_NAME}-cancel`; const ATTR_TIMEPICKER_BUTTON_CLEAR = `${ATTR_NAME}-clear`; const ATTR_TIMEPICKER_BUTTON_SUBMIT = `${ATTR_NAME}-submit`; const ATTR_TIMEPICKER_ICON = `${ATTR_NAME}-icon`; const ATTR_TIMEPICKER_ICON_UP = `${ATTR_NAME}-icon-up`; const ATTR_TIMEPICKER_ICON_DOWN = `${ATTR_NAME}-icon-down`; const ATTR_TIMEPICKER_ICON_INLINE_HOUR = `${ATTR_NAME}-icon-inline-hour`; const ATTR_TIMEPICKER_ICON_INLINE_MINUTE = `${ATTR_NAME}-icon-inline-minute`; const ATTR_TIMEPICKER_ICONS_HOUR_INLINE = `${ATTR_NAME}-inline-hour-icons`; const ATTR_TIMEPICKER_CURRENT_INLINE = `${ATTR_NAME}-current-inline`; const ATTR_READONLY = "readonly"; const ATTR_TIMEPICKER_INVALID_FEEDBACK = `${ATTR_NAME}-invalid-feedback`; const ATTR_TIMEPICKER_IS_INVALID = `${ATTR_NAME}-is-invalid`; const ATTR_TIMEPICKER_DISABLED = `${ATTR_NAME}-disabled`; const ATTR_TIMEPICKER_ACTIVE = `${ATTR_NAME}-active`; const ATTR_TIMEPICKER_INPUT = `${ATTR_NAME}-input`; const ATTR_TIMEPICKER_CLOCK = `${ATTR_NAME}-clock`; const ATTR_TIMEPICKER_CLOCK_INNER = `${ATTR_NAME}-clock-inner`; const ATTR_TIMEPICKER_WRAPPER = `${ATTR_NAME}-wrapper`; const ATTR_TIMEPICKER_CLOCK_WRAPPER = `${ATTR_NAME}-clock-wrapper`; const ATTR_TIMEPICKER_HOUR = `${ATTR_NAME}-hour`; const ATTR_TIMEPICKER_MINUTE = `${ATTR_NAME}-minute`; const ATTR_TIMEPICKER_TIPS_ELEMENT = `${ATTR_NAME}-tips-element`; const ATTR_TIMEPICKER_TIPS_HOURS = `${ATTR_NAME}-tips-hours`; const ATTR_TIMEPICKER_TIPS_MINUTES = `${ATTR_NAME}-tips-minutes`; const ATTR_TIMEPICKER_INNER_HOURS = `${ATTR_NAME}-tips-inner`; const ATTR_TIMEPICKER_TIPS_INNER_ELEMENT = `${ATTR_NAME}-tips-inner-element`; const ATTR_TIMEPICKER_MIDDLE_DOT = `${ATTR_NAME}-middle-dot`; const ATTR_TIMEPICKER_HAND_POINTER = `${ATTR_NAME}-hand-pointer`; const ATTR_TIMEPICKER_CIRCLE = `${ATTR_NAME}-circle`; const ATTR_TIMEPICKER_MODAL = `${ATTR_NAME}-modal`; const defaultIcon = `<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"> <path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z" /> </svg>`; const Default = { appendValidationInfo: true, bodyID: "", cancelLabel: "Cancel", clearLabel: "Clear", closeModalOnBackdropClick: true, closeModalOnMinutesClick: false, container: "body", defaultTime: "", disabled: false, disablePast: false, disableFuture: false, enableValidation: true, focusInputAfterApprove: false, footerID: "", format12: true, format24: false, headID: "", increment: false, inline: false, invalidLabel: "Invalid Time Format", maxTime: "", minTime: "", modalID: "", okLabel: "Ok", overflowHidden: true, pickerID: "", readOnly: false, showClearBtn: true, switchHoursToMinutesOnClick: true, iconSVG: defaultIcon, withIcon: true, pmLabel: "PM", amLabel: "AM", animations: true, }; const DefaultType = { appendValidationInfo: "boolean", bodyID: "string", cancelLabel: "string", clearLabel: "string", closeModalOnBackdropClick: "boolean", closeModalOnMinutesClick: "boolean", container: "string", disabled: "boolean", disablePast: "boolean", disableFuture: "boolean", enableValidation: "boolean", footerID: "string", format12: "boolean", format24: "boolean", headID: "string", increment: "boolean", inline: "boolean", invalidLabel: "string", modalID: "string", okLabel: "string", overflowHidden: "boolean", pickerID: "string", readOnly: "boolean", showClearBtn: "boolean", switchHoursToMinutesOnClick: "boolean", defaultTime: "(string|date|number)", iconSVG: "string", withIcon: "boolean", pmLabel: "string", amLabel: "string", animations: "boolean", }; const DefaultClasses = { tips: "absolute rounded-[100%] w-[32px] h-[32px] text-center cursor-pointer text-[1.1rem] rounded-[100%] bg-transparent flex justify-center items-center font-light focus:outline-none selection:bg-transparent", tipsActive: "text-white bg-[#3b71ca] font-normal", tipsDisabled: "text-[#b3afaf] pointer-events-none bg-transparent", transform: "transition-[transform,height] ease-in-out duration-[400ms]", modal: "z-[1065]", clockAnimation: "animate-[show-up-clock_350ms_linear]", opacity: "!opacity-100", timepickerWrapper: "touch-none opacity-100 z-[1065] inset-0 bg-[#00000066] h-full flex items-center justify-center flex-col fixed", timepickerContainer: "flex items-center justify-center flex-col max-h-[calc(100%-64px)] overflow-y-auto shadow-[0_10px_15px_-3px_rgba(0,0,0,0.07),0_4px_6px_-2px_rgba(0,0,0,0.05)] min-[320px]:max-[825px]:landscape:rounded-lg", timepickerElements: "flex flex-col min-w-[310px] min-h-[325px] bg-white rounded-t-[0.6rem] min-[320px]:max-[825px]:landscape:!flex-row min-[320px]:max-[825px]:landscape:min-w-[auto] min-[320px]:max-[825px]:landscape:min-h-[auto] min-[320px]:max-[825px]:landscape:overflow-y-auto justify-around", timepickerHead: "bg-[#3b71ca] dark:bg-zinc-700 h-[100px] rounded-t-lg pr-[24px] pl-[50px] py-[10px] min-[320px]:max-[825px]:landscape:rounded-tr-none min-[320px]:max-[825px]:landscape:rounded-bl-none min-[320px]:max-[825px]:landscape:p-[10px] min-[320px]:max-[825px]:landscape:pr-[10px] min-[320px]:max-[825px]:landscape:h-auto min-[320px]:max-[825px]:landscape:min-h-[305px] flex flex-row items-center justify-center", timepickerHeadContent: "min-[320px]:max-[825px]:landscape:flex-col flex w-full justify-evenly", timepickerCurrentWrapper: "[direction:ltr] rtl:[direction:rtl]", timepickerCurrentButtonWrapper: "relative h-full", timepickerCurrentButton: "text-[3.75rem] font-light leading-[1.2] tracking-[-0.00833em] text-white opacity-[.54] border-none bg-transparent p-0 min-[320px]:max-[825px]:landscape:text-5xl min-[320px]:max-[825px]:landscape:font-normal cursor-pointer hover:bg-[#00000026] hover:outline-none focus:bg-[#00000026] focus:outline-none ", timepickerDot: "font-light leading-[1.2] tracking-[-0.00833em] text-[3.75rem] opacity-[.54] border-none bg-transparent p-0 text-white min-[320px]:max-[825px]:landscape:text-[3rem] min-[320px]:max-[825px]:landscape:font-normal", timepickerModeWrapper: "flex flex-col justify-center text-[18px] text-[#ffffff8a] min-[320px]:max-[825px]:landscape:!justify-around min-[320px]:max-[825px]:landscape:!flex-row", timepickerModeAm: "p-0 bg-transparent border-none text-white opacity-[.54] cursor-pointer hover:bg-[#00000026] hover:outline-none focus:bg-[#00000026] focus:outline-none", timepickerModePm: "p-0 bg-transparent border-none text-white opacity-[.54] cursor-pointer hover:bg-[#00000026] hover:outline-none focus:bg-[#00000026] focus:outline-none", timepickerClockWrapper: "min-w-[310px] max-w-[325px] min-h-[305px] overflow-x-hidden h-full flex justify-center flex-col items-center dark:bg-zinc-500", timepickerClock: "relative rounded-[100%] w-[260px] h-[260px] cursor-default my-0 mx-auto bg-[#00000012] dark:bg-zinc-600/50", timepickerMiddleDot: "top-1/2 left-1/2 w-[6px] h-[6px] -translate-y-1/2 -translate-x-1/2 rounded-[50%] bg-[#3b71ca] absolute", timepickerHandPointer: "bg-[#3b71ca] bottom-1/2 h-2/5 left-[calc(50%-1px)] rtl:!left-auto origin-[center_bottom_0] rtl:!origin-[50%_50%_0] w-[2px] absolute", timepickerPointerCircle: "-top-[21px] -left-[15px] w-[4px] border-[14px] border-solid border-[#3b71ca] h-[4px] box-content rounded-[100%] absolute", timepickerClockInner: "absolute top-1/2 left-1/2 -translate-y-1/2 -translate-x-1/2 w-[160px] h-[160px] rounded-[100%]", timepickerFooterWrapper: "rounded-b-lg flex justify-between items-center w-full h-[56px] px-[12px] bg-white dark:bg-zinc-500", timepickerFooter: "w-full flex justify-between", timepickerFooterButton: "text-[0.8rem] min-w-[64px] box-border font-medium leading-[40px] rounded-[10px] tracking-[0.1rem] uppercase text-[#3b71ca] dark:text-white border-none bg-transparent transition-[background-color,box-shadow,border] duration-[250ms] ease-[cubic-bezier(0.4,0,0.2,1)] delay-[0ms] outline-none py-0 px-[10px] h-[40px] mb-[10px] hover:bg-[#00000014] focus:bg-[#00000014] focus:outline-none", timepickerInlineWrapper: "touch-none opacity-100 z-[1065] inset-0 bg-[#00000066] h-full flex items-center justify-center flex-col rounded-lg", timepickerInlineContainer: "flex items-center justify-center flex-col max-h-[calc(100%-64px)] overflow-y-auto shadow-[0_10px_15px_-3px_rgba(0,0,0,0.07),0_4px_6px_-2px_rgba(0,0,0,0.05)]", timepickerInlineElements: "flex flex-col min-h-[auto] min-w-[310px] bg-white rounded-[0.6rem] min-[320px]:max-[825px]:landscape:!flex-row min-[320px]:max-[825px]:landscape:rounded-bl-lg min-[320px]:max-[825px]:landscape:min-w-[auto] min-[320px]:max-[825px]:landscape::min-h-[auto] min-[320px]:max-[825px]:landscape:overflow-y-auto justify-around", timepickerInlineHead: "bg-[#3b71ca] dark:bg-zinc-700 h-[100px] rounded-t-lg min-[320px]:max-[825px]:landscape:rounded-tr-none min-[320px]:max-[825px]:landscape:rounded-bl-none min-[320px]:max-[825px]:landscape:p-[10px] min-[320px]:max-[825px]:landscape:pr-[10px] min-[320px]:max-[825px]:landscape:h-auto min-[320px]:max-[825px]:landscape:min-h-[305px] flex flex-row items-center justify-center p-0 rounded-b-lg", timepickerInlineHeadContent: "min-[320px]:max-[825px]:landscape:flex-col flex w-full justify-evenly items-center", timepickerInlineHourWrapper: "relative h-full !opacity-100", timepickerCurrentMinuteWrapper: "relative h-full", timepickerInlineIconUp: "absolute fill-white -top-[35px] opacity-0 hover:opacity-100 transition-all duration-200 ease-[ease] cursor-pointer -translate-x-1/2 -translate-y-1/2 left-1/2 w-[30px] h-[30px] flex justify-center items-center", timepickerInlineIconSvg: "h-4 w-4", timepickerInlineCurrentButton: "font-light leading-[1.2] tracking-[-0.00833em] text-white border-none bg-transparent p-0 min-[320px]:max-[825px]:landscape:text-5xl min-[320px]:max-[825px]:landscape:font-normal !opacity-100 cursor-pointer focus:bg-[#00000026] hover:outline-none focus:outline-none text-[2.5rem] hover:bg-[unset]", timepickerInlineIconDown: "absolute fill-white -bottom-[47px] opacity-0 hover:opacity-100 transition-all duration-200 ease-[ease] cursor-pointer -translate-x-1/2 -translate-y-1/2 left-1/2 w-[30px] h-[30px] flex justify-center items-center", timepickerInlineDot: "font-light leading-[1.2] tracking-[-0.00833em] opacity-[.54] border-none bg-transparent p-0 text-white min-[320px]:max-[825px]:landscape:text-[3rem] min-[320px]:max-[825px]:landscape:font-normal text-[2.5rem]", timepickerInlineModeWrapper: "flex justify-center text-[18px] text-[#ffffff8a] min-[320px]:max-[825px]:landscape:!justify-around min-[320px]:max-[825px]:landscape:!flex-row", timepickerInlineModeAm: "hover:bg-[#00000026] hover:outline-none focus:bg-[#00000026] focus:outline-none p-0 bg-transparent border-none text-white opacity-[.54] cursor-pointer mr-2 ml-6", timepickerInlineModePm: "hover:bg-[#00000026] hover:outline-none focus:bg-[#00000026] focus:outline-none p-0 bg-transparent border-none text-white opacity-[.54] cursor-pointer", timepickerInlineSubmitButton: "hover:bg-[#00000014] focus:bg-[#00000014] focus:outline-none text-[0.8rem] box-border font-medium leading-[40px] tracking-[.1rem] uppercase border-none bg-transparent [transition:background-color_250ms_cubic-bezier(0.4,0,0.2,1)_0ms,box-shadow_250ms_cubic-bezier(0.4,0,0.2,1)_0ms,border_250ms_cubic-bezier(0.4,0,0.2,1)_0ms] outline-none rounded-[100%] h-[48px] min-w-[48px] inline-block ml-[30px] text-white py-1 px-2 mb-0", timepickerToggleButton: "h-4 w-4 ml-auto absolute outline-none border-none bg-transparent right-1.5 top-1/2 -translate-x-1/2 -translate-y-1/2 transition-all duration-300 ease-[cubic-bezier(0.25,0.1,0.25,1)] cursor-pointer hover:text-[#3b71ca] focus:text-[#3b71ca] dark:hover:text-[#3b71ca] dark:focus:text-[#3b71ca] dark:text-white", }; const DefaultClassesType = { tips: "string", tipsActive: "string", tipsDisabled: "string", transform: "string", modal: "string", clockAnimation: "string", opacity: "string", timepickerWrapper: "string", timepickerContainer: "string", timepickerElements: "string", timepickerHead: "string", timepickerHeadContent: "string", timepickerCurrentWrapper: "string", timepickerCurrentButtonWrapper: "string", timepickerCurrentButton: "string", timepickerDot: "string", timepickerModeWrapper: "string", timepickerModeAm: "string", timepickerModePm: "string", timepickerClockWrapper: "string", timepickerClock: "string", timepickerMiddleDot: "string", timepickerHandPointer: "string", timepickerPointerCircle: "string", timepickerClockInner: "string", timepickerFooterWrapper: "string", timepickerFooterButton: "string", timepickerInlineWrapper: "string", timepickerInlineContainer: "string", timepickerInlineElements: "string", timepickerInlineHead: "string", timepickerInlineHeadContent: "string", timepickerInlineHourWrapper: "string", timepickerCurrentMinuteWrapper: "string", timepickerInlineIconUp: "string", timepickerInlineIconSvg: "string", timepickerInlineCurrentButton: "string", timepickerInlineIconDown: "string", timepickerInlineDot: "string", timepickerInlineModeWrapper: "string", timepickerInlineModeAm: "string", timepickerInlineModePm: "string", timepickerInlineSubmitButton: "string", timepickerToggleButton: "string", }; /* ------------------------------------------------------------------------ Class Definition ------------------------------------------------------------------------ */ class Timepicker { constructor(element, options = {}, classes) { this._element = element; if (this._element) { Data.setData(element, DATA_KEY, this); } this._document = document; this._options = this._getConfig(options); this._classes = this._getClasses(classes); this._currentTime = null; this._toggleButtonId = getUID("timepicker-toggle-"); this.hoursArray = [ "12", "1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", ]; this.innerHours = [ "00", "13", "14", "15", "16", "17", "18", "19", "20", "21", "22", "23", ]; this.minutesArray = [ "00", "05", "10", "15", "20", "25", "30", "35", "40", "45", "50", "55", ]; this.input = SelectorEngine.findOne("input", this._element); this.dataWithIcon = element.dataset.withIcon; this.dataToggle = element.dataset.toggle; this.customIcon = SelectorEngine.findOne( SELECTOR_ATTR_TIMEPICKER_TOGGLE_BUTTON, this._element ); this._checkToggleButton(); this.inputFormatShow = SelectorEngine.findOne( SELECTOR_ATTR_TIMEPICKER_FORMAT24, this._element ); this.inputFormat = this.inputFormatShow === null ? "" : Object.values(this.inputFormatShow.dataset)[0]; this.elementToggle = SelectorEngine.findOne( SELECTOR_DATA_TE_TOGGLE, this._element ); this.toggleElement = Object.values( element.querySelector(SELECTOR_DATA_TE_TOGGLE).dataset )[0]; this._hour = null; this._minutes = null; this._AM = null; this._PM = null; this._wrapper = null; this._modal = null; this._hand = null; this._circle = null; this._focusTrap = null; this._popper = null; this._interval = null; this._inputValue = this._options.defaultTime !== "" ? this._options.defaultTime : this.input.value; if (this._options.format24) { this._options.format12 = false; this._currentTime = formatNormalHours(this._inputValue); } if (this._options.format12) { this._options.format24 = false; this._currentTime = formatToAmPm(this._inputValue); } if (this._options.readOnly) { this.input.setAttribute(ATTR_READONLY, true); } if (this.inputFormat === "true" && this.inputFormat !== "") { this._options.format12 = false; this._options.format24 = true; this._currentTime = formatNormalHours(this._inputValue); } this._animations = !window.matchMedia("(prefers-reduced-motion: reduce)").matches && this._options.animations; this.init(); this._isHours = true; this._isMinutes = false; this._isInvalidTimeFormat = false; this._isMouseMove = false; this._isInner = false; this._isAmEnabled = false; this._isPmEnabled = false; if (this._options.format12 && !this._options.defaultTime) { this._isPmEnabled = true; } this._objWithDataOnChange = { degrees: null }; this._scrollBar = new ScrollBarHelper(); } // Getters static get NAME() { return NAME; } // Public init() { const { format12, format24, enableValidation } = this._options; let zero; let hoursFormat; let _amOrPm; this.input.setAttribute(ATTR_TIMEPICKER_INPUT, ""); if (this._currentTime !== undefined) { const { hours, minutes, amOrPm } = this._currentTime; zero = Number(hours) < 10 ? 0 : ""; hoursFormat = `${zero}${Number(hours)}:${minutes}`; _amOrPm = amOrPm; if (format12) { this.input.value = `${hoursFormat} ${_amOrPm}`; } else if (format24) { this.input.value = `${hoursFormat}`; } } else { zero = ""; hoursFormat = ""; _amOrPm = ""; this.input.value = ""; } if (this.input.value.length > 0 && this.input.value !== "") { this.input.setAttribute(ATTR_TIMEPICKER_ACTIVE, ""); EventHandler.trigger(this.input, "input"); } if (this._options === null && this._element === null) return; if (enableValidation) { this._getValidate("keydown change blur focus"); } this._handleOpen(); this._listenToToggleKeydown(); } dispose() { this._removeModal(); if (this._element !== null) { Data.removeData(this._element, DATA_KEY); } setTimeout(() => { this._element = null; this._options = null; this.input = null; this._focusTrap = null; }, 350); EventHandler.off( this._document, "click", `[data-te-toggle='${this.toggleElement}']` ); EventHandler.off( this._element, "keydown", `[data-te-toggle='${this.toggleElement}']` ); } update(options = {}) { this._options = this._getConfig({ ...this._options, ...options }); } // private _checkToggleButton() { if (this.customIcon !== null) return; if (this.dataWithIcon !== undefined) { this._options.withIcon = null; if (this.dataWithIcon === "true") { this._appendToggleButton(this._options); } } if (this._options.withIcon) { this._appendToggleButton(this._options); } } _appendToggleButton() { const toggleButton = getToggleButtonTemplate( this._options, this._toggleButtonId, this._classes ); this.input.insertAdjacentHTML("afterend", toggleButton); } _getDomElements() { this._hour = SelectorEngine.findOne(`[${ATTR_TIMEPICKER_HOUR}]`); this._minutes = SelectorEngine.findOne(`[${ATTR_TIMEPICKER_MINUTE}]`); this._AM = SelectorEngine.findOne(SELECTOR_ATTR_TIMEPICKER_AM); this._PM = SelectorEngine.findOne(SELECTOR_ATTR_TIMEPICKER_PM); this._wrapper = SelectorEngine.findOne(`[${ATTR_TIMEPICKER_WRAPPER}]`); this._modal = SelectorEngine.findOne(`[${ATTR_TIMEPICKER_MODAL}]`); this._hand = SelectorEngine.findOne(`[${ATTR_TIMEPICKER_HAND_POINTER}]`); this._circle = SelectorEngine.findOne(`[${ATTR_TIMEPICKER_CIRCLE}]`); this._clock = SelectorEngine.findOne(`[${ATTR_TIMEPICKER_CLOCK}]`); this._clockInner = SelectorEngine.findOne( `[${ATTR_TIMEPICKER_CLOCK_INNER}]` ); } _handlerMaxMinHoursOptions( degrees, maxHour, minHour, maxFormat, minFormat, e ) { if (!maxHour && !minHour) return true; const { format24, format12, disablePast, disableFuture } = this._options; const { _isAmEnabled, _isPmEnabled } = this; const key = e.keyCode; const _isMouseOnInnerClock = e.target.hasAttribute(ATTR_TIMEPICKER_CLOCK_INNER) || e.target.hasAttribute(ATTR_TIMEPICKER_INNER_HOURS) || e.target.hasAttribute(ATTR_TIMEPICKER_TIPS_INNER_ELEMENT); minHour = setMinTime(minHour, disablePast, format12); maxHour = setMaxTime(maxHour, disableFuture, format12); typeof maxHour !== "number" && (maxHour = takeValue(maxHour, false)[0]); const maxHourDegrees = maxHour !== "" ? maxHour * 30 : ""; const minHourDegrees = minHour !== "" ? minHour * 30 : ""; if (degrees < 0) { degrees = 360 + degrees; } degrees = degrees === 360 ? 0 : degrees; const _handleKeyboardEvents = () => { const tips = document.querySelectorAll( `[${ATTR_TIMEPICKER_TIPS_ELEMENT}]` ); const innerTips = document.querySelectorAll( `[${ATTR_TIMEPICKER_TIPS_INNER_ELEMENT}]` ); const currentHour = _convertHourToNumber(this._hour.innerText); let nextHourTip; let numberToAdd; let nextHour; if (key === UP_ARROW) { numberToAdd = 1; } else if (key === DOWN_ARROW) { numberToAdd = -1; } if (currentHour === 12 && key === UP_ARROW) { nextHour = 1; } else if (currentHour === 0 && key === UP_ARROW) { nextHour = 13; } else if (currentHour === 0 && key === DOWN_ARROW) { nextHour = 23; } else if (currentHour === 13 && key === DOWN_ARROW) { nextHour = 0; } else if (currentHour === 1 && key === DOWN_ARROW) { nextHour = 12; } else { nextHour = currentHour + numberToAdd; } tips.forEach((tip) => { if (Number(tip.textContent) === nextHour) { nextHourTip = tip; } }); innerTips.forEach((innerTip) => { if (Number(innerTip.textContent) === nextHour) { nextHourTip = innerTip; } }); return !nextHourTip.parentElement.hasAttribute(ATTR_TIMEPICKER_DISABLED); }; const _handle24FormatMouseEvents = () => { const minInnerHourDegrees = minHour !== "" && minHour > 12 ? (minHour - 12) * 30 : ""; const maxInnerHourDegrees = maxHour !== "" && maxHour > 12 ? (maxHour - 12) * 30 : ""; if ( (minInnerHourDegrees && degrees < minInnerHourDegrees) || (maxInnerHourDegrees && degrees > maxInnerHourDegrees) || (maxHour && maxHour < 12) ) { return; } return true; }; if (format24 && e.type !== "keydown" && _isMouseOnInnerClock) { return _handle24FormatMouseEvents(); } if (e.type === "keydown") { return _handleKeyboardEvents(e); } const minFormatAndCurrentFormatEqual = !minFormat || (minFormat === "PM" && _isPmEnabled) || (minHour !== "" && minFormat === "AM" && _isAmEnabled); const maxFormatAndCurrentFormatEqual = !maxFormat || (maxFormat === "PM" && _isPmEnabled) || (maxHour !== "" && maxFormat === "AM" && _isAmEnabled); const isMinHourValid = () => { const minDegrees = minHourDegrees === 360 && format12 ? 0 : minHourDegrees; if (!minHour) { return true; } else if ( (minFormat === "PM" && _isAmEnabled) || (minFormatAndCurrentFormatEqual && degrees < minDegrees) ) { return; } return true; }; const isMaxHourValid = () => { const maxDegrees = maxHourDegrees === 360 && format12 ? 0 : maxHourDegrees; if (!maxHour) { return true; } else if ( (maxFormat === "AM" && _isPmEnabled) || (maxFormatAndCurrentFormatEqual && degrees > maxDegrees) ) { return; } return true; }; return isMinHourValid() && isMaxHourValid(); } _handleKeyboard() { EventHandler.on(this._document, EVENT_KEYDOWN_DATA_API, "", (e) => { let hour; let minute; let innerHour; const { increment, maxTime, minTime, format12, disablePast, disableFuture, } = this._options; let minHour = takeValue(minTime, false)[0]; let maxHour = takeValue(maxTime, false)[0]; const minFormat = takeValue(minTime, false)[2]; const maxFormat = takeValue(maxTime, false)[2]; minHour = setMinTime(minHour, disablePast, format12); maxHour = setMaxTime(maxHour, disableFuture, format12); typeof maxHour !== "number" && (maxHour = takeValue(maxHour, false)[0]); const hoursView = SelectorEngine.findOne(`[${ATTR_TIMEPICKER_TIPS_MINUTES}]`) === null; const innerHoursExist = SelectorEngine.findOne(`[${ATTR_TIMEPICKER_INNER_HOURS}]`) !== null; const degrees = Number(this._hand.style.transform.replace(/[^\d-]/g, "")); const allTipsMinutes = SelectorEngine.find( `[${ATTR_TIMEPICKER_TIPS_MINUTES}]`, this._modal ); const allTipsHours = SelectorEngine.find( `[${ATTR_TIMEPICKER_TIPS_HOURS}]`, this._modal ); const allInnerTips = SelectorEngine.find( `[${ATTR_TIMEPICKER_INNER_HOURS}]`, this._modal ); let hourTime = this._makeHourDegrees(e.target, degrees, hour).hour; const { degrees: hourObjDegrees, addDegrees } = this._makeHourDegrees( e.target, degrees, hour ); let { minute: minHourMinutes, degrees: minObjDegrees } = this._makeMinutesDegrees(degrees, minute); const addMinDegrees = this._makeMinutesDegrees( degrees, minute ).addDegrees; let { hour: innerHourDegrees } = this._makeInnerHoursDegrees( degrees, innerHour ); if (e.keyCode === ESCAPE) { const cancelBtn = SelectorEngine.findOne( `[${ATTR_TIMEPICKER_BUTTON_CANCEL}]`, this._modal ); EventHandler.trigger(cancelBtn, "click"); } else if (hoursView) { if (innerHoursExist) { if (e.keyCode === RIGHT_ARROW) { this._isInner = false; Manipulator.addStyle(this._hand, { height: "calc(40% + 1px)", }); this._hour.textContent = this._setHourOrMinute( hourTime > 12 ? 1 : hourTime ); this._toggleClassActive(this.hoursArray, this._hour, allTipsHours); this._toggleClassActive(this.innerHours, this._hour, allInnerTips); } if (e.keyCode === LEFT_ARROW) { this._isInner = true; Manipulator.addStyle(this._hand, { height: "21.5%", }); this._hour.textContent = this._setHourOrMinute( innerHourDegrees >= 24 || innerHourDegrees === "00" ? 0 : innerHourDegrees ); this._toggleClassActive(this.innerHours, this._hour, allInnerTips); this._toggleClassActive( this.hoursArray, this._hour - 1, allTipsHours ); } } if (e.keyCode === UP_ARROW) { const isNextHourValid = this._handlerMaxMinHoursOptions( hourObjDegrees + 30, maxHour, minHour, maxFormat, minFormat, e ); if (!isNextHourValid) return; Manipulator.addStyle(this._hand, { transform: `rotateZ(${hourObjDegrees + addDegrees}deg)`, }); if (this._isInner) { innerHourDegrees += 1; if (innerHourDegrees === 24) { innerHourDegrees = 0; } else if (innerHourDegrees === 25 || innerHourDegrees === "001") { innerHourDegrees = 13; } this._hour.textContent = this._setHourOrMinute(innerHourDegrees); this._toggleClassActive(this.innerHours, this._hour, allInnerTips); } else { hourTime += 1; this._hour.textContent = this._setHourOrMinute( hourTime > 12 ? 1 : hourTime ); this._toggleClassActive(this.hoursArray, this._hour, allTipsHours); } } if (e.keyCode === DOWN_ARROW) { const isNextHourValid = this._handlerMaxMinHoursOptions( hourObjDegrees - 30, maxHour, minHour, maxFormat, minFormat, e ); if (!isNextHourValid) return; Manipulator.addStyle(this._hand, { transform: `rotateZ(${hourObjDegrees - addDegrees}deg)`, }); if (this._isInner) { innerHourDegrees -= 1; if (innerHourDegrees === 12) { innerHourDegrees = 0; } else if (innerHourDegrees === -1) { innerHourDegrees = 23; } this._hour.textContent = this._setHourOrMinute(innerHourDegrees); this._toggleClassActive(this.innerHours, this._hour, allInnerTips); } else { hourTime -= 1; this._hour.textContent = this._setHourOrMinute( hourTime === 0 ? 12 : hourTime ); this._toggleClassActive(this.hoursArray, this._hour, allTipsHours); } } } else { if (e.keyCode === UP_ARROW) { minObjDegrees += addMinDegrees; Manipulator.addStyle(this._hand, { transform: `rotateZ(${minObjDegrees}deg)`, }); minHourMinutes += 1; if (increment) { minHourMinutes += 4; if (minHourMinutes === "0014") { minHourMinutes = 5; } } this._minutes.textContent = this._setHourOrMinute( minHourMinutes > 59 ? 0 : minHourMinutes ); this._toggleClassActive( this.minutesArray, this._minutes, allTipsMinutes ); this._toggleBackgroundColorCircle( `[${ATTR_TIMEPICKER_TIPS_MINUTES}]` ); } if (e.keyCode === DOWN_ARROW) { minObjDegrees -= addMinDegrees; Manipulator.addStyle(this._hand, { transform: `rotateZ(${minObjDegrees}deg)`, }); if (increment) { minHourMinutes -= 5; } else { minHourMinutes -= 1; } if (minHourMinutes === -1) { minHourMinutes = 59; } else if (minHourMinutes === -5) { minHourMinutes = 55; } this._minutes.textContent = this._setHourOrMinute(minHourMinutes); this._toggleClassActive( this.minutesArray, this._minutes, allTipsMinutes ); this._toggleBackgroundColorCircle( `[${ATTR_TIMEPICKER_TIPS_MINUTES}]` ); } } }); } _setActiveClassToTipsOnOpen(hour, ...rest) { if (this._isInvalidTimeFormat) return; if (!this._options.format24) { [...rest].filter((e) => { if (e === "PM") { Manipulator.addClass(this._PM, this._classes.opacity); this._PM.setAttribute(ATTR_TIMEPICKER_ACTIVE, ""); } else if (e === "AM") { Manipulator.addClass(this._AM, this._classes.opacity); this._AM.setAttribute(ATTR_TIMEPICKER_ACTIVE, ""); } else { Manipulator.removeClass(this._AM, this._classes.opacity); Manipulator.removeClass(this._PM, this._classes.opacity); this._AM.removeAttribute(ATTR_TIMEPICKER_ACTIVE); this._PM.removeAttribute(ATTR_TIMEPICKER_ACTIVE); } return e; }); const allTipsHours = SelectorEngine.find( `[${ATTR_TIMEPICKER_TIPS_HOURS}]`, this._modal ); this._addActiveClassToTip(allTipsHours, hour); } else { const allTipsHours = SelectorEngine.find( `[${ATTR_TIMEPICKER_TIPS_HOURS}]`, this._modal ); const allInnerTips = SelectorEngine.find( `[${ATTR_TIMEPICKER_INNER_HOURS}]`, this._modal ); this._addActiveClassToTip(allTipsHours, hour); this._addActiveClassToTip(allInnerTips, hour); } } _setTipsAndTimesDependOnInputValue(hour, minute) { const { inline, format12 } = this._options; if (!this._isInvalidTimeFormat) { const rotateDegrees = hour > 12 ? hour * 30 - 360 : hour * 30; this._hour.textContent = hour; this._minutes.textContent = minute; if (!inline) { Manipulator.addStyle(this._hand, { transform: `rotateZ(${rotateDegrees}deg)`, }); Manipulator.addStyle(this._circle, { backgroundColor: "#1976d2", }); if (Number(hour) > 12 || hour === "00") { Manipulator.addStyle(this._hand, { height: "21.5%", }); } } } else { this._hour.textContent = "12"; this._minutes.textContent = "00"; if (!inline) { Manipulator.addStyle(this._hand, { transform: "rotateZ(0deg)", }); } if (format12) { Manipulator.addClass(this._PM, this._classes.opacity); this._PM.setAttribute(ATTR_TIMEPICKER_ACTIVE, ""); } } } _listenToToggleKeydown() { EventHandler.on( this._element, "keydown", `[data-te-toggle='${this.toggleElement}']`, (e) => { if (e.keyCode === ENTER) { e.preventDefault(); EventHandler.trigger(this.elementToggle, "click"); } } ); } _handleOpen() { const container = this._getContainer(); EventHandlerMulti.on( this._element, "click", `[data-te-toggle='${this.toggleElement}']`, (e) => { if (this._options === null) return; // Fix for input with open, if is not for settimeout input has incorrent jumping label const fixForInput = Manipulator.getDataAttribute(this.input, "toggle") !== null ? 200 : 0; setTimeout(() => { Manipulator.addStyle(this.elementToggle, { pointerEvents: "none", }); this.elementToggle.blur(); let checkInputValue; if (takeValue(this.input)[0] === "") { checkInputValue = ["12", "00", "PM"]; } else { checkInputValue = takeValue(this.input); } const { modalID, inline, format12 } = this._options; const [hour, minute, format] = checkInputValue; const div = element("div"); if (Number(hour) > 12 || hour === "00") { this._isInner = true; } this.input.blur(); e.target.blur(); div.innerHTML = getTimepickerTemplate(this._options, this._classes); Manipulator.addClass(div, this._classes.modal); div.setAttribute(ATTR_TIMEPICKER_MODAL, ""); div.setAttribute("role", "dialog"); div.setAttribute("tabIndex", "-1"); div.setAttribute("id", modalID); if (!inline) { container.appendChild(div); this._scrollBar.hide(); } else { this._popper = createPopper(this.input, div, { placement: "bottom-start", }); container.appendChild(div); } this._getDomElements(); if (this._animations) { this._toggleBackdropAnimation(); } else { Manipulator.addClass(this._wrapper, this._classes.opacity); } this._setActiveClassToTipsOnOpen(hour, minute, format); this._appendTimes(); this._setActiveClassToTipsOnOpen(hour, minute, format); this._setTipsAndTimesDependOnInputValue(hour, minute); if (this.input.value === "") { const allTipsHours = SelectorEngine.find( `[${ATTR_TIMEPICKER_TIPS_HOURS}]`, this._modal ); if (format12) { Manipulator.addClass(this._PM, this._classes.opacity); this._PM.setAttribute(ATTR_TIMEPICKER_ACTIVE, ""); } this._hour.textContent = "12"; this._minutes.textContent = "00"; this._addActiveClassToTip( allTipsHours, Number(this._hour.textContent) ); } this._handleSwitchTimeMode(); this._handleOkButton(); this._handleClose(); if (inline) { this._handleHoverInlineBtn(); this._handleDocumentClickInline(); this._handleInlineClicks(); } else { this._handleSwitchHourMinute(); this._handleClockClick(); this._handleKeyboard(); // initial opacity on hour/minute mode fix const initActive = document.querySelector( `${SELECTOR_ATTR_TIMEPICKER_CURRENT}[${ATTR_TIMEPICKER_ACTIVE}]` ); Manipulator.addClass(initActive, this._classes.opacity); Manipulator.addStyle(this._hour, { pointerEvents: "none", }); Manipulator.addStyle(this._minutes, { pointerEvents: "", }); } this._focusTrap = new FocusTrap(this._wrapper, { event: "keydown", condition: ({ key }) => key === "Tab", }); this._focusTrap.trap(); }, fixForInput); } ); } _handleInlineClicks() { let selectedHour; let minuteNumber; const countMinutes = (count) => { let minutes = count; if (minutes > 59) { minutes = 0; } else if (minutes < 0) { minutes = 59; } return minutes; }; const countHours = (count) => { let hour = count; if (this._options.format24) { if (hour > 24) { hour = 1; } else if (hour < 0) { hour = 23; } if (hour > 23) { hour = 0; } } else { if (hour > 12) { hour = 1; } else if (hour < 1) { hour = 12; } if (hour > 12) { hour = 1; } } return hour; }; const incrementHours = (hour) => { const counteredNumber = countHours(hour); this._hour.textContent = this._setHourOrMinute(counteredNumber); }; const incrementMinutes = (minutes) => { const counteredNumber = countMinutes(minutes); this._minutes.textContent = this._setHourOrMinute(counteredNumber); }; const addHours = () => { selectedHour += 1; incrementHours(selectedHour); }; const addMinutes = () => { minuteNumber += 1; incrementMinutes(minuteNumber); }; const subHours = () => { selectedHour -= 1; incrementHours(selectedHour); }; const subMinutes = () => { minuteNumber -= 1; incrementMinutes(minuteNumber); }; const _clearAndSetThisInterval = (addHoursOrAddMinutes) => { clearInterval(this._interval); this._interval = setInterval(addHoursOrAddMinutes, 100); }; EventHandlerMulti.on( this._modal, "click mousedown mouseup touchstart touchend contextmenu", `[${ATTR_TIMEPICKER_ICON_UP}], [${ATTR_TIMEPICKER_ICON_DOWN}]`, (e) => { selectedHour = Number(this._hour.textContent); minuteNumber = Number(this._minutes.textContent); const { target, type } = e; const isEventTypeMousedownOrTouchstart = type === "mousedown" || type === "touchstart"; if (target.closest(`[${ATTR_TIMEPICKER_ICON_UP}]`)) { if ( target .closest(`[${ATTR_TIMEPICKER_ICON_UP}]`) .parentNode.hasAttribute(ATTR_TIMEPICKER_ICONS_HOUR_INLINE) ) { if (isEventTypeMousedownOrTouchstart) { _clearAndSetThisInterval(addHours); } else if ( type === "mouseup" || type === "touchend" || type === "contextmenu" ) { clearInterval(this._interval); } else { addHours(); } } else { // eslint-disable-next-line no-lonely-if if (isEventTypeMousedownOrTouchstart) { _clearAndSetThisInterval(addMinutes); } else if ( type === "mouseup" || type === "touchend" || type === "contextmenu" ) { clearInterval(this._interval); } else { addMinutes(); } } } else if (target.closest(`[${ATTR_TIMEPICKER_ICON_DOWN}]`)) { if ( target .closest(`[${ATTR_TIMEPICKER_ICON_DOWN}]`) .parentNode.hasAttribute(ATTR_TIMEPICKER_ICONS_HOUR_INLINE) ) { if (isEventTypeMousedownOrTouchstart) { _clearAndSetThisInterval(subHours); } else if (type === "mouseup" || type === "touchend") { clearInterval(this._interval); } else { subHours(); } } else { // eslint-disable-next-line no-lonely-if if (isEventTypeMousedownOrTouchstart) { _clearAndSetThisInterval(subMinutes); } else if (type === "mouseup" || type === "touchend") { clearInterval(this._interval); } else { subMinutes(); } } } } ); EventHandler.on(window, EVENT_KEYDOWN_DATA_API, (e) => { const key = e.code; const isHourBtnFocused = document.activeElement.hasAttribute(ATTR_TIMEPICKER_HOUR); const isMinuteBtnFocused = document.activeElement.hasAttribute( ATTR_TIMEPICKER_MINUTE ); const isBodyFocused = document.activeElement === document.body; selectedHour = Number(this._hour.textContent); minuteNumber = Number(this._minutes.textContent); switch (key) { case "ArrowUp": e.preventDefault(); if (isBodyFocused || isHourBtnFocused) { this._hour.focus(); addHours(); } else if (isMinuteBtnFocused) { addMinutes(); } break; case "ArrowDown": e.preventDefault(); if (isBodyFocused || isHourBtnFocused) { this._hour.focus(); subHours(); } else if (isMinuteBtnFocused) { subMinutes(); } break; default: break; } }); } _handleClose() { EventHandler.on( this._modal, "click", `[${ATTR_TIMEPICKER_WRAPPER}], [${ATTR_TIMEPICKER_BUTTON_CANCEL}], [${ATTR_TIMEPICKER_BUTTON_CLEAR}]`, ({ target }) => { const { closeModalOnBackdropClick } = this._options; const runRemoveFunction = () => { Manipulator.addStyle(this.elementToggle, { pointerEvents: "auto", }); if (this._animations) { this._toggleBackdropAnimation(true); } this._removeModal(); this._focusTrap?.disable(); this._focusTrap = null; if (this.elementToggle) { this.elementToggle.focus(); } else if (this.input) { this.input.focus(); } }; if (target.hasAttribute(ATTR_TIMEPICKER_BUTTON_CLEAR)) { this._toggleAmPm("PM"); this.input.value = ""; this.input.removeAttribute(ATTR_TIMEPICKER_ACTIVE); let checkInputValue; if (takeValue(this.input)[0] === "") { checkInputValue = ["12", "00", "PM"]; } else { checkInputValue = takeValue(this.input); } const [hour, minute, format] = checkInputValue; this._setTipsAndTimesDependOnInputValue("12", "00"); this._setActiveClassToTipsOnOpen(hour, minute, format); this._hour.click(); } else if ( target.hasAttribute(ATTR_TIMEPICKER_BUTTON_CANCEL) || target.hasAttribute(ATTR_TIMEPICKER_BUTTON_SUBMIT) ) { runRemoveFunction(); } else if ( target.hasAttribute(ATTR_TIMEPICKER_WRAPPER) && closeModalOnBackdropClick ) { runRemoveFunction(); } } ); } showValueInput() { return this.input.value; } _handleOkButton() { EventHandlerMulti.on( this._modal, "click", `[${ATTR_TIMEPICKER_BUTTON_SUBMIT}]`, () => { let { maxTime, minTime } = this._options; const { format12, format24, readOnly, focusInputAfterApprove, disablePast, disableFuture, } = this._options; const hourModeActive = this._document.querySelector( `${SELECTOR_ATTR_TIMEPICKER_HOUR_MODE}[${ATTR_TIMEPICKER_ACTIVE}]` ); const currentValue = `${this._hour.textContent}:${this._minutes.textContent}`; const selectedHourContent = Number(this._hour.textContent); const selectedHour = selectedHourContent === 12 && format12 ? 0 : selectedHourContent; const selectedMinutes = Number(this._minutes.textContent); minTime = setMinTime(minTime, disablePast, format12); maxTime = setMaxTime(maxTime, disableFuture, format12); let [maxTimeHour, maxTimeMinutes, maxTimeFormat] = takeValue( maxTime, false ); let [minTimeHour, minTimeMinutes, minTimeFormat] = takeValue( minTime, false ); minTimeHour = minTimeHour === "12" && format12 ? "00" : minTimeHour; maxTimeHour = maxTimeHour === "12" && format12 ? "00" : maxTimeHour; const isHourLessThanMinHour = selectedHour < Number(minTimeHour); const isHourGreaterThanMaxHour = selectedHour > Number(maxTimeHour); let maxFormatAndCurrentFormatEqual = true; if (hourModeActive) { maxFormatAndCurrentFormatEqual = maxTimeFormat === hourModeActive.textContent; } let minFormatAndCurrentFormatEqual = true; if (hourModeActive) { minFormatAndCurrentFormatEqual = minTimeFormat === hourModeActive.textContent; } const hourEqualToMaxAndMinutesGreaterThanMax = selectedMinutes > maxTimeMinutes && selectedHour === Number(maxTimeHour); const hourEqualToMinAndMinutesLessThanMin = selectedMinutes < minTimeMinutes && selectedHour === Number(minTimeHour); this.input.setAttribute(ATTR_TIMEPICKER_ACTIVE, ""); Manipulator.addStyle(this.elementToggle, { pointerEvents: "auto", }); if (maxTime !== "") { if ( maxFormatAndCurrentFormatEqual && (isHourGreaterThanMaxHour || hourEqualToMaxAndMinutesGreaterThanMax) ) { return; } else if ( maxTimeFormat === "AM" && hourModeActive.textContent === "PM" ) { return; } } if (minTime !== "") { if ( minFormatAndCurrentFormatEqual && (isHourLessThanMinHour || hourEqualToMinAndMinutesLessThanMin) ) { return; } if (minTimeFormat === "PM" && hourModeActive.textContent === "AM") { return; } } if ( checkValueBeforeAccept( this._options, this.input, this._hour.textContent ) === undefined ) { return; } if (this._isInvalidTimeFormat) { this.input.removeAttribute(ATTR_TIMEPICKER_IS_INVALID); } if (!readOnly && focusInputAfterApprove) { this.input.focus(); } Manipulator.addStyle(this.elementToggle, { pointerEvents: "auto", }); if (format24) { this.input.value = currentValue; } else if (hourModeActive === null) { this.input.value = `${currentValue} PM`; } else { this.input.value = `${currentValue} ${hourModeActive.textContent}`; } if (this._animations) { this._toggleBackdropAnimation(true); } this._removeModal(); EventHandler.trigger(this.input, "input.te.timepicker"); EventHandler.trigger(this.input, "input"); } ); } _handleHoverInlineBtn() { EventHandlerMulti.on( this._modal, "mouseover mouseleave", `[${ATTR_TIMEPICKER_CURRENT_INLINE}]`, ({ type, target }) => { const allIconsInlineHour = SelectorEngine.find( `[${ATTR_TIMEPICKER_ICON_INLINE_HOUR}]`, this._modal ); const allIconsInlineMinute = SelectorEngine.find( `[${ATTR_TIMEPICKER_ICON_INLINE_MINUTE}]`, this._modal ); const modifyIcons = (elements, shouldAdd) => { return elements.forEach((icon) => { if (shouldAdd) { Manipulator.addClass(icon, this._classes.opacity); icon.setAttribute(ATTR_TIMEPICKER_ACTIVE, ""); return; } Manipulator.removeClass(icon, this._classes.opacity); icon.removeAttribute(ATTR_TIMEPICKER_ACTIVE); }); }; const pickerHasHourAttr = target.hasAttribute(ATTR_TIMEPICKER_HOUR); const iconElements = pickerHasHourAttr ? allIconsInlineHour : allIconsInlineMinute; modifyIcons(iconElements, type === "mouseover"); } ); } _handleDocumentClickInline() { EventHandler.on(document, EVENT_CLICK_DATA_API, ({ target }) => { if ( this._modal && !this._modal.contains(target) && !target.hasAttribute(ATTR_TIMEPICKER_ICON) ) { clearInterval(this._interval); Manipulator.addStyle(this.elementToggle, { pointerEvents: "auto", }); this._removeModal(); if (!this._animations) return; this._toggleBackdropAnimation(true); } }); } _handleSwitchHourMinute() { toggleClassHandler( "click", SELECTOR_ATTR_TIMEPICKER_CURRENT, this._classes ); EventHandler.on( this._modal, "click", SELECTOR_ATTR_TIMEPICKER_CURRENT, () => { const { format24 } = this._options; const current = SelectorEngine.find( SELECTOR_ATTR_TIMEPICKER_CURRENT, this._modal ); const allTipsMinutes = SelectorEngine.find( `[${ATTR_TIMEPICKER_TIPS_MINUTES}]`, this._modal ); const allTipsHours = SelectorEngine.find( `[${ATTR_TIMEPICKER_TIPS_HOURS}]`, this._modal ); const allInnerTips = SelectorEngine.find( `[${ATTR_TIMEPICKER_INNER_HOURS}]`, this._modal ); const hourValue = Number(this._hour.textContent); const minuteValue = Number(this._minutes.textContent); const switchTips = (array, classes) => { allTipsHours.forEach((tip) => tip.remove()); allTipsMinutes.forEach((tip) => tip.remove()); Manipulator.addClass(this._hand, this._classes.transform); setTimeout(() => { Manipulator.removeClass(this._hand, this._classes.transform); }, 401); this._getAppendClock(array, `[${ATTR_TIMEPICKER_CLOCK}]`, classes); const toggleActiveClass = () => { const allTipsHours = SelectorEngine.find( `[${ATTR_TIMEPICKER_TIPS_HOURS}]`, this._modal ); const allTipsMinutes = SelectorEngine.find( `[${ATTR_TIMEPICKER_TIPS_MINUTES}]`, this._modal ); this._addActiveClassToTip(allTipsHours, hourValue); this._addActiveClassToTip(allTipsMinutes, minuteValue); }; if (!format24) { setTimeout(() => { toggleActiveClass(); }, 401); } else { const allTipsInnerHours = SelectorEngine.find( `[${ATTR_TIMEPICKER_INNER_HOURS}]`, this._modal ); setTimeout(() => { this._addActiveClassToTip(allTipsInnerHours, hourValue); toggleActiveClass(); }, 401); } }; current.forEach((e) => { if (e.hasAttribute(ATTR_TIMEPICKER_ACTIVE)) { if (e.hasAttribute(ATTR_TIMEPICKER_MINUTE)) { Manipulator.addClass(this._hand, this._classes.transform); Manipulator.addStyle(this._hand, { transform: `rotateZ(${this._minutes.textContent * 6}deg)`, height: "calc(40% + 1px)", }); if (format24 && allInnerTips.length > 0) { allInnerTips.forEach((innerTip) => innerTip.remove()); } switchTips( this.minutesArray, ATTR_TIMEPICKER_TIPS_MINUTES, allTipsMinutes ); this._hour.style.pointerEvents = ""; this._minutes.style.pointerEvents = "none"; } else if (e.hasAttribute(ATTR_TIMEPICKER_HOUR)) { Manipulator.addStyle(this._hand, { transform: `rotateZ(${this._hour.textContent * 30}deg)`, }); if (Number(this._hour.textContent) > 12) { Manipulator.addStyle(this._hand, { transform: `rotateZ(${this._hour.textContent * 30 - 360}deg)`, height: "21.5%", }); if (Number(this._hour.textContent) > 12) { Manipulator.addStyle(this._hand, { height: "21.5%", }); } } else { Manipulator.addStyle(this._hand, { height: "calc(40% + 1px)", }); } if (format24) { this._getAppendClock( this.innerHours, `[${ATTR_TIMEPICKER_CLOCK_INNER}]`, ATTR_TIMEPICKER_INNER_HOURS ); } if (allInnerTips.length > 0) { allInnerTips.forEach((innerTip) => innerTip.remove()); } switchTips( this.hoursArray, ATTR_TIMEPICKER_TIPS_HOURS, allTipsHours ); Manipulator.addStyle(this._hour, { pointerEvents: "none", }); Manipulator.addStyle(this._minutes, { pointerEvents: "", }); } } }); } ); } _handleDisablingTipsMaxTime( selectedFormat, maxTimeFormat, maxTimeMinutes, maxTimeHour ) { if (!this._options.maxTime && !this._options.disableFuture) { return; } const outerHoursTips = SelectorEngine.find( `[${ATTR_TIMEPICKER_TIPS_HOURS}]` ); const innerHoursTips = SelectorEngine.find( `[${ATTR_TIMEPICKER_INNER_HOURS}]` ); const allTipsMinutes = SelectorEngine.find( `[${ATTR_TIMEPICKER_TIPS_MINUTES}]` ); if (!maxTimeFormat || maxTimeFormat === selectedFormat) { _verifyMaxTimeHourAndAddDisabledClass( innerHoursTips, maxTimeHour, this._classes, this._options.format12 ); _verifyMaxTimeHourAndAddDisabledClass( outerHoursTips, maxTimeHour, this._classes, this._options.format12 ); _verifyMaxTimeMinutesTipsAndAddDisabledClass( allTipsMinutes, maxTimeMinutes, maxTimeHour, this._hour.textContent, this._classes, this._options.format12 ); return; } if (maxTimeFormat === "AM" && selectedFormat === "PM") { outerHoursTips.forEach((tip) => { Manipulator.addClass(tip, this._classes.tipsDisabled); tip.setAttribute(ATTR_TIMEPICKER_DISABLED, ""); }); allTipsMinutes.forEach((tip) => { Manipulator.addClass(tip, this._classes.tipsDisabled); tip.setAttribute(ATTR_TIMEPICKER_DISABLED, ""); }); } } _handleDisablingTipsMinTime( selectedFormat, minTimeFormat, minTimeMinutes, minTimeHour ) { if (!this._options.minTime && !this._options.disablePast) { return; } const outerHoursTips = SelectorEngine.find( `[${ATTR_TIMEPICKER_TIPS_HOURS}]` ); const innerHoursTips = SelectorEngine.find( `[${ATTR_TIMEPICKER_INNER_HOURS}]` ); const allTipsMinutes = SelectorEngine.find( `[${ATTR_TIMEPICKER_TIPS_MINUTES}]` ); if (!minTimeFormat || minTimeFormat === selectedFormat) { _verifyMinTimeHourAndAddDisabledClass( outerHoursTips, minTimeHour, this._classes, this._options.format12 ); _verifyMinTimeHourAndAddDisabledClass( innerHoursTips, minTimeHour, this._classes, this._options.format12 ); _verifyMinTimeMinutesTipsAndAddDisabledClass( allTipsMinutes, minTimeMinutes, minTimeHour, this._hour.textContent, this._classes, this._options.format12 ); } else if (minTimeFormat === "PM" && selectedFormat === "AM") { outerHoursTips.forEach((tip) => { Manipulator.addClass(tip, this._classes.tipsDisabled); tip.setAttribute(ATTR_TIMEPICKER_DISABLED, ""); }); allTipsMinutes.forEach((tip) => { Manipulator.addClass(tip, this._classes.tipsDisabled); tip.setAttribute(ATTR_TIMEPICKER_DISABLED, ""); }); } } _toggleAmPm = (enabled) => { if (enabled === "PM") { this._isPmEnabled = true; this._isAmEnabled = false; } else if (enabled === "AM") { this._isPmEnabled = false; this._isAmEnabled = true; } }; _handleSwitchTimeMode() { EventHandler.on( document, "click", SELECTOR_ATTR_TIMEPICKER_HOUR_MODE, ({ target }) => { let { maxTime, minTime } = this._options; const { disablePast, disableFuture, format12 } = this._options; minTime = setMinTime(minTime, disablePast, format12); maxTime = setMaxTime(maxTime, disableFuture, format12); const [maxTimeHour, maxTimeMinutes, maxTimeFormat] = takeValue( maxTime, false ); const [minTimeHour, minTimeMinutes, minTimeFormat] = takeValue( minTime, false ); const allTipsHour = SelectorEngine.find( `[${ATTR_TIMEPICKER_TIPS_HOURS}]` ); const allTipsMinutes = SelectorEngine.find( `[${ATTR_TIMEPICKER_TIPS_MINUTES}]` ); const clearDisabledClassForAllTips = () => { allTipsHour.forEach((tip) => { Manipulator.removeClass(tip, this._classes.tipsDisabled); tip.removeAttribute(ATTR_TIMEPICKER_DISABLED); }); allTipsMinutes.forEach((tip) => { Manipulator.removeClass(tip, this._classes.tipsDisabled); tip.removeAttribute(ATTR_TIMEPICKER_DISABLED); }); }; clearDisabledClassForAllTips(); this._handleDisablingTipsMinTime( target.textContent, minTimeFormat, minTimeMinutes, minTimeHour ); this._handleDisablingTipsMaxTime( target.textContent, maxTimeFormat, maxTimeMinutes, maxTimeHour ); this._toggleAmPm(target.textContent); if (!target.hasAttribute(ATTR_TIMEPICKER_ACTIVE)) { const allHoursMode = SelectorEngine.find( SELECTOR_ATTR_TIMEPICKER_HOUR_MODE ); allHoursMode.forEach((element) => { if (element.hasAttribute(ATTR_TIMEPICKER_ACTIVE)) { Manipulator.removeClass(element, this._classes.opacity); element.removeAttribute(ATTR_TIMEPICKER_ACTIVE); } }); Manipulator.addClass(target, this._classes.opacity); target.setAttribute(ATTR_TIMEPICKER_ACTIVE, ""); } } ); } _handleClockClick() { let { maxTime, minTime } = this._options; const { disablePast, disableFuture, format12 } = this._options; minTime = setMinTime(minTime, disablePast, format12); maxTime = setMaxTime(maxTime, disableFuture, format12); const maxTimeFormat = takeValue(maxTime, false)[2]; const minTimeFormat = takeValue(minTime, false)[2]; const maxTimeHour = takeValue(maxTime, false)[0]; const minTimeHour = takeValue(minTime, false)[0]; const clockWrapper = SelectorEngine.findOne( `[${ATTR_TIMEPICKER_CLOCK_WRAPPER}]` ); EventHandlerMulti.on( document, `${EVENT_MOUSEDOWN_DATA_API} ${EVENT_MOUSEUP_DATA_API} ${EVENT_MOUSEMOVE_DATA_API} ${EVENT_MOUSELEAVE_DATA_API} ${EVENT_MOUSEOVER_DATA_API} ${EVENT_TOUCHSTART_DATA_API} ${EVENT_TOUCHMOVE_DATA_API} ${EVENT_TOUCHEND_DATA_API}`, "", (e) => { if (!checkBrowser()) { e.preventDefault(); } const { type, target } = e; const { closeModalOnMinutesClick, switchHoursToMinutesOnClick } = this._options; const minutes = SelectorEngine.findOne( `[${ATTR_TIMEPICKER_TIPS_MINUTES}]`, this._modal ) !== null; const hours = SelectorEngine.findOne( `[${ATTR_TIMEPICKER_TIPS_HOURS}]`, this._modal ) !== null; const innerHours = SelectorEngine.findOne( `[${ATTR_TIMEPICKER_INNER_HOURS}]`, this._modal ) !== null; const allTipsMinutes = SelectorEngine.find( `[${ATTR_TIMEPICKER_TIPS_MINUTES}]`, this._modal ); const mouseClick = findMousePosition(e, clockWrapper); const radius = clockWrapper.offsetWidth / 2; let rds = Math.atan2(mouseClick.y - radius, mouseClick.x - radius); if (checkBrowser()) { const touchClick = findMousePosition(e, clockWrapper, true); rds = Math.atan2(touchClick.y - radius, touchClick.x - radius); } let xPos = null; let yPos = null; let elFromPoint = null; if ( type === "mousedown" || type === "mousemove" || type === "touchmove" || type === "touchstart" ) { if ( type === "mousedown" || type === "touchstart" || type === "touchmove" ) { if ( this._hasTargetInnerClass(target) || target.hasAttribute(ATTR_TIMEPICKER_CLOCK_WRAPPER) || target.hasAttribute(ATTR_TIMEPICKER_CLOCK) || target.hasAttribute(ATTR_TIMEPICKER_TIPS_MINUTES) || target.hasAttribute(ATTR_TIMEPICKER_TIPS_HOURS) || target.hasAttribute(ATTR_TIMEPICKER_CIRCLE) || target.hasAttribute(ATTR_TIMEPICKER_HAND_POINTER) || target.hasAttribute(ATTR_TIMEPICKER_MIDDLE_DOT) || target.hasAttribute(ATTR_TIMEPICKER_TIPS_ELEMENT) ) { this._isMouseMove = true; if (checkBrowser() && e.touches) { xPos = e.touches[0].clientX; yPos = e.touches[0].clientY; elFromPoint = document.elementFromPoint(xPos, yPos); } } } } else if (type === "mouseup" || type === "touchend") { this._isMouseMove = false; if ( this._hasTargetInnerClass(target) || target.hasAttribute(ATTR_TIMEPICKER_CLOCK) || target.hasAttribute(ATTR_TIMEPICKER_TIPS_HOURS) || target.hasAttribute(ATTR_TIMEPICKER_CIRCLE) || target.hasAttribute(ATTR_TIMEPICKER_HAND_POINTER) || target.hasAttribute(ATTR_TIMEPICKER_MIDDLE_DOT) || target.hasAttribute(ATTR_TIMEPICKER_TIPS_ELEMENT) ) { if ((hours || innerHours) && switchHoursToMinutesOnClick) { const isHourlessThanMinOrGreaterThanMax = Number(this._hour.textContent) > maxTimeHour || Number(this._hour.textContent) < minTimeHour; if ( this._options.format24 && maxTimeHour !== "" && minTimeHour !== "" && isHourlessThanMinOrGreaterThanMax ) { return; } else if ( this._options.format24 && minTimeHour !== "" && Number(this._hour.textContent) < minTimeHour ) { return; } } EventHandler.trigger(this._minutes, "click"); } if (minutes && closeModalOnMinutesClick) { const submitBtn = SelectorEngine.findOne( `[${ATTR_TIMEPICKER_BUTTON_SUBMIT}]`, this._modal ); EventHandler.trigger(submitBtn, "click"); } } if (minutes) { let minute; const degrees = Math.trunc((rds * 180) / Math.PI) + 90; const { degrees: minDegrees, minute: minTimeObj } = this._makeMinutesDegrees(degrees, minute); if ( this._handlerMaxMinMinutesOptions(minDegrees, minTimeObj) === undefined ) { return; } const { degrees: _degrees, minute: minuteTimes } = this._handlerMaxMinMinutesOptions(minDegrees, minTimeObj); if (this._isMouseMove) { Manipulator.addStyle(this._hand, { transform: `rotateZ(${_degrees}deg)`, }); if (minuteTimes === undefined) { return; } const changeMinutes = () => { return minuteTimes >= 10 || minuteTimes === "00" ? minuteTimes : `0${minuteTimes}`; }; this._minutes.textContent = changeMinutes(); this._toggleClassActive( this.minutesArray, this._minutes, allTipsMinutes ); this._toggleBackgroundColorCircle( `[${ATTR_TIMEPICKER_TIPS_MINUTES}]` ); this._objWithDataOnChange.degreesMinutes = _degrees; this._objWithDataOnChange.minutes = minuteTimes; } } if (hours || innerHours) { let hour; let degrees = Math.trunc((rds * 180) / Math.PI) + 90; degrees = Math.round(degrees / 30) * 30; Manipulator.addStyle(this._circle, { backgroundColor: "#1976d2", }); if (this._makeHourDegrees(target, degrees, hour) === undefined) { return; } const makeDegrees = () => { if (checkBrowser() && degrees && elFromPoint) { const { degrees: touchDegrees, hour: touchHours } = this._makeHourDegrees(elFromPoint, degrees, hour); return this._handleMoveHand( elFromPoint, touchHours, touchDegrees ); } else { const { degrees: movedDegrees, hour: movedHours } = this._makeHourDegrees(target, degrees, hour); return this._handleMoveHand(target, movedHours, movedDegrees); } }; this._objWithDataOnChange.degreesHours = degrees; if ( this._handlerMaxMinHoursOptions( degrees, maxTimeHour, minTimeHour, maxTimeFormat, minTimeFormat, e ) ) { makeDegrees(); } } e.stopPropagation(); } ); } _hasTargetInnerClass(target) { return ( target.hasAttribute(ATTR_TIMEPICKER_CLOCK_INNER) || target.hasAttribute(ATTR_TIMEPICKER_INNER_HOURS) || target.hasAttribute(ATTR_TIMEPICKER_TIPS_INNER_ELEMENT) ); } _handleMoveHand(target, hour, degrees) { const allTipsHours = SelectorEngine.find( `[${ATTR_TIMEPICKER_TIPS_HOURS}]`, this._modal ); const allTipsInner = SelectorEngine.find( `[${ATTR_TIMEPICKER_INNER_HOURS}]`, this._modal ); if (!this._isMouseMove) return; if (this._hasTargetInnerClass(target)) { Manipulator.addStyle(this._hand, { height: "21.5%", }); } else { Manipulator.addStyle(this._hand, { height: "calc(40% + 1px)", }); } Manipulator.addStyle(this._hand, { transform: `rotateZ(${degrees}deg)`, }); this._hour.textContent = hour >= 10 || hour === "00" ? hour : `0${hour}`; this._toggleClassActive(this.hoursArray, this._hour, allTipsHours); this._toggleClassActive(this.innerHours, this._hour, allTipsInner); this._objWithDataOnChange.hour = hour >= 10 || hour === "00" ? hour : `0${hour}`; } _handlerMaxMinMinutesOptions(degrees, minute) { let { maxTime, minTime } = this._options; const { format12, increment, disablePast, disableFuture } = this._options; minTime = setMinTime(minTime, disablePast, format12); maxTime = setMaxTime(maxTime, disableFuture, format12); const maxMin = takeValue(maxTime, false)[1]; const minMin = takeValue(minTime, false)[1]; const maxHourTimeValue = takeValue(maxTime, false)[0]; const minHourTimeValue = takeValue(minTime, false)[0]; const minHourTime = minHourTimeValue === "12" && format12 ? "0" : minHourTimeValue; const maxHourTime = maxHourTimeValue === "12" && format12 ? "0" : maxHourTimeValue; const maxTimeFormat = takeValue(maxTime, false)[2]; const minTimeFormat = takeValue(minTime, false)[2]; const maxMinDegrees = maxMin !== "" ? maxMin * 6 : ""; const minMinDegrees = minMin !== "" ? minMin * 6 : ""; const selectedHourContent = Number(this._hour.textContent); const selectedHour = selectedHourContent === 12 && format12 ? 0 : selectedHourContent; if (!maxTimeFormat && !minTimeFormat) { if (maxTime !== "" && minTime !== "") { if ( (Number(maxHourTime) === selectedHour && degrees > maxMinDegrees) || (Number(minHourTime) === selectedHour && degrees < minMinDegrees) ) { return degrees; } } else if (minTime !== "" && selectedHour <= Number(minHourTime)) { if (degrees <= minMinDegrees - 6) { return degrees; } } else if (maxTime !== "" && selectedHour >= Number(maxHourTime)) { if (degrees >= maxMinDegrees + 6) { return degrees; } } } else { // eslint-disable-next-line no-lonely-if if (minTime !== "") { if (minTimeFormat === "PM" && this._isAmEnabled) { return; } if (minTimeFormat === "PM" && this._isPmEnabled) { if (selectedHour < Number(minHourTime)) { return; } if (selectedHour <= Number(minHourTime)) { if (degrees <= minMinDegrees - 6) { return degrees; } } } else if (minTimeFormat === "AM" && this._isAmEnabled) { if (selectedHour < Number(minHourTime)) { return; } if (selectedHour <= Number(minHourTime)) { if (degrees <= minMinDegrees - 6) { return degrees; } } } } if (maxTime !== "") { if (maxTimeFormat === "AM" && this._isPmEnabled) { return; } if (maxTimeFormat === "PM" && this._isPmEnabled) { if (selectedHour >= Number(maxHourTime)) { if (degrees >= maxMinDegrees + 6) { return degrees; } } } else if (maxTimeFormat === "AM" && this._isAmEnabled) { if (selectedHour >= Number(maxHourTime)) { if (degrees >= maxMinDegrees + 6) { return degrees; } } } } } if (increment) { degrees = Math.round(degrees / 30) * 30; } if (degrees < 0) { degrees = 360 + degrees; } else if (degrees >= 360) { degrees = 0; } return { degrees, minute, }; } _removeModal() { if (this._animations) { setTimeout(() => { this._removeModalElements(); this._scrollBar.reset(); }, 300); } else { this._removeModalElements(); this._scrollBar.reset(); } EventHandlerMulti.off( this._document, `${EVENT_CLICK_DATA_API} ${EVENT_KEYDOWN_DATA_API} ${EVENT_MOUSEDOWN_DATA_API} ${EVENT_MOUSEUP_DATA_API} ${EVENT_MOUSEMOVE_DATA_API} ${EVENT_MOUSELEAVE_DATA_API} ${EVENT_MOUSEOVER_DATA_API} ${EVENT_TOUCHSTART_DATA_API} ${EVENT_TOUCHMOVE_DATA_API} ${EVENT_TOUCHEND_DATA_API}` ); EventHandler.off(window, EVENT_KEYDOWN_DATA_API); } _removeModalElements() { if (this._modal) this._modal.remove(); } _toggleBackdropAnimation(isToRemove = false) { if (isToRemove) { this._wrapper.classList.add("animate-[fade-out_350ms_ease-in-out]"); } else { this._wrapper.classList.add("animate-[fade-in_350ms_ease-in-out]"); if (!this._options.inline) Manipulator.addClass(this._clock, this._classes.clockAnimation); } setTimeout(() => { this._wrapper.classList.remove( "animate-[fade-out_350ms_ease-in-out]", "animate-[fade-in_350ms_ease-in-out]" ); }, 351); } _toggleBackgroundColorCircle = (classes) => { const tips = this._modal.querySelector(`${classes}[${ATTR_TIMEPICKER_ACTIVE}]`) !== null; if (tips) { Manipulator.addStyle(this._circle, { backgroundColor: "#1976d2", }); return; } Manipulator.addStyle(this._circle, { backgroundColor: "transparent", }); }; _toggleClassActive = (array, { textContent }, tips) => { const findInArray = [...array].find( (e) => Number(e) === Number(textContent) ); return tips.forEach((e) => { if (e.hasAttribute(ATTR_TIMEPICKER_DISABLED)) return; if (e.textContent === findInArray) { Manipulator.addClass(e, this._classes.tipsActive); e.setAttribute(ATTR_TIMEPICKER_ACTIVE, ""); return; } Manipulator.removeClass(e, this._classes.tipsActive); e.removeAttribute(ATTR_TIMEPICKER_ACTIVE); }); }; _addActiveClassToTip(tips, value) { tips.forEach((tip) => { if (Number(tip.textContent) === Number(value)) { Manipulator.addClass(tip, this._classes.tipsActive); tip.setAttribute(ATTR_TIMEPICKER_ACTIVE, ""); } }); } _makeMinutesDegrees = (degrees, minute) => { const { increment } = this._options; if (degrees < 0) { minute = Math.round(360 + degrees / 6) % 60; degrees = 360 + Math.round(degrees / 6) * 6; } else { minute = Math.round(degrees / 6) % 60; degrees = Math.round(degrees / 6) * 6; } if (increment) { degrees = Math.round(degrees / 30) * 30; minute = (Math.round(degrees / 6) * 6) / 6; if (minute === 60) { minute = "00"; } } if (degrees >= 360) { degrees = 0; } return { degrees, minute, addDegrees: increment ? 30 : 6, }; }; _makeHourDegrees = (target, degrees, hour) => { if (!target) { return; } if (this._hasTargetInnerClass(target)) { if (degrees < 0) { hour = Math.round(360 + degrees / 30) % 24; degrees = 360 + degrees; } else { hour = Math.round(degrees / 30) + 12; if (hour === 12) { hour = "00"; } } } else if (degrees < 0) { hour = Math.round(360 + degrees / 30) % 12; degrees = 360 + degrees; } else { hour = Math.round(degrees / 30) % 12; if (hour === 0 || hour > 12) { hour = 12; } } if (degrees >= 360) { degrees = 0; } return { degrees, hour, addDegrees: 30, }; }; _makeInnerHoursDegrees = (degrees, hour) => { if (degrees < 0) { hour = Math.round(360 + degrees / 30) % 24; degrees = 360 + degrees; } else { hour = Math.round(degrees / 30) + 12; if (hour === 12) { hour = "00"; } } return { degrees, hour, addDegrees: 30, }; }; _setHourOrMinute(number) { return number < 10 ? `0${number}` : number; } _appendTimes() { const { format24 } = this._options; if (format24) { this._getAppendClock( this.hoursArray, `[${ATTR_TIMEPICKER_CLOCK}]`, ATTR_TIMEPICKER_TIPS_HOURS ); this._getAppendClock( this.innerHours, `[${ATTR_TIMEPICKER_CLOCK_INNER}]`, ATTR_TIMEPICKER_INNER_HOURS ); return; } this._getAppendClock( this.hoursArray, `[${ATTR_TIMEPICKER_CLOCK}]`, ATTR_TIMEPICKER_TIPS_HOURS ); } _getAppendClock = ( array = [], clockClass = `[${ATTR_TIMEPICKER_CLOCK}]`, tipsClass ) => { let { minTime, maxTime } = this._options; const { inline, format12, disablePast, disableFuture } = this._options; minTime = setMinTime(minTime, disablePast, format12); maxTime = setMaxTime(maxTime, disableFuture, format12); const [maxTimeHour, maxTimeMinutes, maxTimeFormat] = takeValue( maxTime, false ); const [minTimeHour, minTimeMinutes, minTimeFormat] = takeValue( minTime, false ); // fix for append clock for max/min if input has invalid value if ( !inline && format12 && this._isInvalidTimeFormat && !this._AM.hasAttribute(ATTR_TIMEPICKER_ACTIVE) ) { Manipulator.addClass(this._PM, this._classes.opacity); this._PM.setAttribute(ATTR_TIMEPICKER_ACTIVE, ""); } const clock = SelectorEngine.findOne(clockClass); const elements = 360 / array.length; function rad(el) { return el * (Math.PI / 180); } if (clock === null) return; const clockWidth = (clock.offsetWidth - 32) / 2; const clockHeight = (clock.offsetHeight - 32) / 2; const radius = clockWidth - 4; setTimeout(() => { let currentFormat; if (format12) { currentFormat = SelectorEngine.findOne( `${SELECTOR_ATTR_TIMEPICKER_HOUR_MODE}[${ATTR_TIMEPICKER_ACTIVE}]` ).textContent; } this._handleDisablingTipsMinTime( currentFormat, minTimeFormat, minTimeMinutes, minTimeHour ); this._handleDisablingTipsMaxTime( currentFormat, maxTimeFormat, maxTimeMinutes, maxTimeHour ); }, 0); [...array].forEach((e, i) => { const angle = rad(i * elements); const span = element("span"); const spanToTips = element("span"); spanToTips.innerHTML = e; Manipulator.addClass(span, this._classes.tips); span.setAttribute(tipsClass, ""); const itemWidth = span.offsetWidth; const itemHeight = span.offsetHeight; Manipulator.addStyle(span, { left: `${clockWidth + Math.sin(angle) * radius - itemWidth}px`, bottom: `${clockHeight + Math.cos(angle) * radius - itemHeight}px`, }); if (array.includes("05")) { span.setAttribute(ATTR_TIMEPICKER_TIPS_MINUTES, ""); } if (array.includes("13")) { spanToTips.setAttribute(ATTR_TIMEPICKER_TIPS_INNER_ELEMENT, ""); } else { spanToTips.setAttribute(ATTR_TIMEPICKER_TIPS_ELEMENT, ""); } span.appendChild(spanToTips); return clock.appendChild(span); }); }; _getConfig(config) { const dataAttributes = Manipulator.getDataAttributes(this._element); config = { ...Default, ...dataAttributes, ...config, }; typeCheckConfig(NAME, config, DefaultType); return config; } _getClasses(classes) { const dataAttributes = Manipulator.getDataClassAttributes(this._element); classes = { ...DefaultClasses, ...dataAttributes, ...classes, }; typeCheckConfig(NAME, classes, DefaultClassesType); return classes; } _getContainer() { return SelectorEngine.findOne(this._options.container); } _getValidate(event) { const { invalidLabel, format24, format12, appendValidationInfo } = this._options; let inValidDiv; if (appendValidationInfo) { inValidDiv = element("div"); inValidDiv.setAttribute(ATTR_TIMEPICKER_INVALID_FEEDBACK, ""); inValidDiv.innerHTML = invalidLabel; } EventHandlerMulti.on(this.input, event, ({ target }) => { if (this._options === null || this.input.value === "") return; const regexAMFormat = /^(0?[1-9]|1[012])(:[0-5]\d) [APap][mM]$/; const regexNormalFormat = /^([01]\d|2[0-3])(:[0-5]\d)$/; const testedAMRegex = regexAMFormat.test(target.value); const testedNormalRegex = regexNormalFormat.test(target.value); if ( (testedNormalRegex !== true && format24) || (testedAMRegex !== true && format12) ) { if (appendValidationInfo) { this.input.setAttribute(ATTR_TIMEPICKER_IS_INVALID, ""); this.input.parentNode.insertBefore( inValidDiv, this.input.nextSibling ); } Manipulator.addStyle(target, { marginBottom: 0 }); Manipulator.addStyle(inValidDiv, { bottom: "-23px" }); this._isInvalidTimeFormat = true; return; } this.input.removeAttribute(ATTR_TIMEPICKER_IS_INVALID); this._isInvalidTimeFormat = false; const allInvalid = SelectorEngine.findOne( `[${ATTR_TIMEPICKER_INVALID_FEEDBACK}]` ); if (allInvalid === null) return; allInvalid.remove(); }); } // Static static getInstance(element) { return Data.getData(element, DATA_KEY); } static getOrCreateInstance(element, config = {}) { return ( this.getInstance(element) || new this(element, typeof config === "object" ? config : null) ); } } export default Timepicker; ",
  "/*! * perfect-scrollbar v1.5.3 * Copyright 2021 Hyunje Jun, MDBootstrap and Contributors * Licensed under MIT */ function get(element) { return getComputedStyle(element); } function set(element, obj) { for (var key in obj) { var val = obj[key]; if (typeof val === 'number') { val = val + "px"; } element.style[key] = val; } return element; } function div(className) { var div = document.createElement('div'); div.className = className; return div; } var elMatches = typeof Element !== 'undefined' && (Element.prototype.matches || Element.prototype.webkitMatchesSelector || Element.prototype.mozMatchesSelector || Element.prototype.msMatchesSelector); function matches(element, query) { if (!elMatches) { throw new Error('No element matching method supported'); } return elMatches.call(element, query); } function remove(element) { if (element.remove) { element.remove(); } else { if (element.parentNode) { element.parentNode.removeChild(element); } } } function queryChildren(element, selector) { return Array.prototype.filter.call(element.children, function (child) { return matches(child, selector); } ); } var cls = { main: 'ps', rtl: 'ps__rtl', element: { thumb: function (x) { return ("ps__thumb-" + x); }, rail: function (x) { return ("ps__rail-" + x); }, consuming: 'ps__child--consume', }, state: { focus: 'ps--focus', clicking: 'ps--clicking', active: function (x) { return ("ps--active-" + x); }, scrolling: function (x) { return ("ps--scrolling-" + x); }, }, }; /* * Helper methods */ var scrollingClassTimeout = { x: null, y: null }; function addScrollingClass(i, x) { var classList = i.element.classList; var className = cls.state.scrolling(x); if (classList.contains(className)) { clearTimeout(scrollingClassTimeout[x]); } else { classList.add(className); } } function removeScrollingClass(i, x) { scrollingClassTimeout[x] = setTimeout( function () { return i.isAlive && i.element.classList.remove(cls.state.scrolling(x)); }, i.settings.scrollingThreshold ); } function setScrollingClassInstantly(i, x) { addScrollingClass(i, x); removeScrollingClass(i, x); } var EventElement = function EventElement(element) { this.element = element; this.handlers = {}; }; var prototypeAccessors = { isEmpty: { configurable: true } }; EventElement.prototype.bind = function bind (eventName, handler) { if (typeof this.handlers[eventName] === 'undefined') { this.handlers[eventName] = []; } this.handlers[eventName].push(handler); this.element.addEventListener(eventName, handler, false); }; EventElement.prototype.unbind = function unbind (eventName, target) { var this$1 = this; this.handlers[eventName] = this.handlers[eventName].filter(function (handler) { if (target && handler !== target) { return true; } this$1.element.removeEventListener(eventName, handler, false); return false; }); }; EventElement.prototype.unbindAll = function unbindAll () { for (var name in this.handlers) { this.unbind(name); } }; prototypeAccessors.isEmpty.get = function () { var this$1 = this; return Object.keys(this.handlers).every( function (key) { return this$1.handlers[key].length === 0; } ); }; Object.defineProperties( EventElement.prototype, prototypeAccessors ); var EventManager = function EventManager() { this.eventElements = []; }; EventManager.prototype.eventElement = function eventElement (element) { var ee = this.eventElements.filter(function (ee) { return ee.element === element; })[0]; if (!ee) { ee = new EventElement(element); this.eventElements.push(ee); } return ee; }; EventManager.prototype.bind = function bind (element, eventName, handler) { this.eventElement(element).bind(eventName, handler); }; EventManager.prototype.unbind = function unbind (element, eventName, handler) { var ee = this.eventElement(element); ee.unbind(eventName, handler); if (ee.isEmpty) { // remove this.eventElements.splice(this.eventElements.indexOf(ee), 1); } }; EventManager.prototype.unbindAll = function unbindAll () { this.eventElements.forEach(function (e) { return e.unbindAll(); }); this.eventElements = []; }; EventManager.prototype.once = function once (element, eventName, handler) { var ee = this.eventElement(element); var onceHandler = function (evt) { ee.unbind(eventName, onceHandler); handler(evt); }; ee.bind(eventName, onceHandler); }; function createEvent(name) { if (typeof window.CustomEvent === 'function') { return new CustomEvent(name); } else { var evt = document.createEvent('CustomEvent'); evt.initCustomEvent(name, false, false, undefined); return evt; } } function processScrollDiff( i, axis, diff, useScrollingClass, forceFireReachEvent ) { if ( useScrollingClass === void 0 ) useScrollingClass = true; if ( forceFireReachEvent === void 0 ) forceFireReachEvent = false; var fields; if (axis === 'top') { fields = [ 'contentHeight', 'containerHeight', 'scrollTop', 'y', 'up', 'down' ]; } else if (axis === 'left') { fields = [ 'contentWidth', 'containerWidth', 'scrollLeft', 'x', 'left', 'right' ]; } else { throw new Error('A proper axis should be provided'); } processScrollDiff$1(i, diff, fields, useScrollingClass, forceFireReachEvent); } function processScrollDiff$1( i, diff, ref, useScrollingClass, forceFireReachEvent ) { var contentHeight = ref[0]; var containerHeight = ref[1]; var scrollTop = ref[2]; var y = ref[3]; var up = ref[4]; var down = ref[5]; if ( useScrollingClass === void 0 ) useScrollingClass = true; if ( forceFireReachEvent === void 0 ) forceFireReachEvent = false; var element = i.element; // reset reach i.reach[y] = null; // 1 for subpixel rounding if (element[scrollTop] < 1) { i.reach[y] = 'start'; } // 1 for subpixel rounding if (element[scrollTop] > i[contentHeight] - i[containerHeight] - 1) { i.reach[y] = 'end'; } if (diff) { element.dispatchEvent(createEvent(("ps-scroll-" + y))); if (diff < 0) { element.dispatchEvent(createEvent(("ps-scroll-" + up))); } else if (diff > 0) { element.dispatchEvent(createEvent(("ps-scroll-" + down))); } if (useScrollingClass) { setScrollingClassInstantly(i, y); } } if (i.reach[y] && (diff || forceFireReachEvent)) { element.dispatchEvent(createEvent(("ps-" + y + "-reach-" + (i.reach[y])))); } } function toInt(x) { return parseInt(x, 10) || 0; } function isEditable(el) { return ( matches(el, 'input,[contenteditable]') || matches(el, 'select,[contenteditable]') || matches(el, 'textarea,[contenteditable]') || matches(el, 'button,[contenteditable]') ); } function outerWidth(element) { var styles = get(element); return ( toInt(styles.width) + toInt(styles.paddingLeft) + toInt(styles.paddingRight) + toInt(styles.borderLeftWidth) + toInt(styles.borderRightWidth) ); } var env = { isWebKit: typeof document !== 'undefined' && 'WebkitAppearance' in document.documentElement.style, supportsTouch: typeof window !== 'undefined' && ('ontouchstart' in window || ('maxTouchPoints' in window.navigator && window.navigator.maxTouchPoints > 0) || (window.DocumentTouch && document instanceof window.DocumentTouch)), supportsIePointer: typeof navigator !== 'undefined' && navigator.msMaxTouchPoints, isChrome: typeof navigator !== 'undefined' && /Chrome/i.test(navigator && navigator.userAgent), }; function updateGeometry(i) { var element = i.element; var roundedScrollTop = Math.floor(element.scrollTop); var rect = element.getBoundingClientRect(); i.containerWidth = Math.round(rect.width); i.containerHeight = Math.round(rect.height); i.contentWidth = element.scrollWidth; i.contentHeight = element.scrollHeight; if (!element.contains(i.scrollbarXRail)) { // clean up and append queryChildren(element, cls.element.rail('x')).forEach(function (el) { return remove(el); } ); element.appendChild(i.scrollbarXRail); } if (!element.contains(i.scrollbarYRail)) { // clean up and append queryChildren(element, cls.element.rail('y')).forEach(function (el) { return remove(el); } ); element.appendChild(i.scrollbarYRail); } if ( !i.settings.suppressScrollX && i.containerWidth + i.settings.scrollXMarginOffset < i.contentWidth ) { i.scrollbarXActive = true; i.railXWidth = i.containerWidth - i.railXMarginWidth; i.railXRatio = i.containerWidth / i.railXWidth; i.scrollbarXWidth = getThumbSize( i, toInt((i.railXWidth * i.containerWidth) / i.contentWidth) ); i.scrollbarXLeft = toInt( ((i.negativeScrollAdjustment + element.scrollLeft) * (i.railXWidth - i.scrollbarXWidth)) / (i.contentWidth - i.containerWidth) ); } else { i.scrollbarXActive = false; } if ( !i.settings.suppressScrollY && i.containerHeight + i.settings.scrollYMarginOffset < i.contentHeight ) { i.scrollbarYActive = true; i.railYHeight = i.containerHeight - i.railYMarginHeight; i.railYRatio = i.containerHeight / i.railYHeight; i.scrollbarYHeight = getThumbSize( i, toInt((i.railYHeight * i.containerHeight) / i.contentHeight) ); i.scrollbarYTop = toInt( (roundedScrollTop * (i.railYHeight - i.scrollbarYHeight)) / (i.contentHeight - i.containerHeight) ); } else { i.scrollbarYActive = false; } if (i.scrollbarXLeft >= i.railXWidth - i.scrollbarXWidth) { i.scrollbarXLeft = i.railXWidth - i.scrollbarXWidth; } if (i.scrollbarYTop >= i.railYHeight - i.scrollbarYHeight) { i.scrollbarYTop = i.railYHeight - i.scrollbarYHeight; } updateCss(element, i); if (i.scrollbarXActive) { element.classList.add(cls.state.active('x')); } else { element.classList.remove(cls.state.active('x')); i.scrollbarXWidth = 0; i.scrollbarXLeft = 0; element.scrollLeft = i.isRtl === true ? i.contentWidth : 0; } if (i.scrollbarYActive) { element.classList.add(cls.state.active('y')); } else { element.classList.remove(cls.state.active('y')); i.scrollbarYHeight = 0; i.scrollbarYTop = 0; element.scrollTop = 0; } } function getThumbSize(i, thumbSize) { if (i.settings.minScrollbarLength) { thumbSize = Math.max(thumbSize, i.settings.minScrollbarLength); } if (i.settings.maxScrollbarLength) { thumbSize = Math.min(thumbSize, i.settings.maxScrollbarLength); } return thumbSize; } function updateCss(element, i) { var xRailOffset = { width: i.railXWidth }; var roundedScrollTop = Math.floor(element.scrollTop); if (i.isRtl) { xRailOffset.left = i.negativeScrollAdjustment + element.scrollLeft + i.containerWidth - i.contentWidth; } else { xRailOffset.left = element.scrollLeft; } if (i.isScrollbarXUsingBottom) { xRailOffset.bottom = i.scrollbarXBottom - roundedScrollTop; } else { xRailOffset.top = i.scrollbarXTop + roundedScrollTop; } set(i.scrollbarXRail, xRailOffset); var yRailOffset = { top: roundedScrollTop, height: i.railYHeight }; if (i.isScrollbarYUsingRight) { if (i.isRtl) { yRailOffset.right = i.contentWidth - (i.negativeScrollAdjustment + element.scrollLeft) - i.scrollbarYRight - i.scrollbarYOuterWidth - 9; } else { yRailOffset.right = i.scrollbarYRight - element.scrollLeft; } } else { if (i.isRtl) { yRailOffset.left = i.negativeScrollAdjustment + element.scrollLeft + i.containerWidth * 2 - i.contentWidth - i.scrollbarYLeft - i.scrollbarYOuterWidth; } else { yRailOffset.left = i.scrollbarYLeft + element.scrollLeft; } } set(i.scrollbarYRail, yRailOffset); set(i.scrollbarX, { left: i.scrollbarXLeft, width: i.scrollbarXWidth - i.railBorderXWidth, }); set(i.scrollbarY, { top: i.scrollbarYTop, height: i.scrollbarYHeight - i.railBorderYWidth, }); } function clickRail(i) { var element = i.element; i.event.bind(i.scrollbarY, 'mousedown', function (e) { return e.stopPropagation(); }); i.event.bind(i.scrollbarYRail, 'mousedown', function (e) { var positionTop = e.pageY - window.pageYOffset - i.scrollbarYRail.getBoundingClientRect().top; var direction = positionTop > i.scrollbarYTop ? 1 : -1; i.element.scrollTop += direction * i.containerHeight; updateGeometry(i); e.stopPropagation(); }); i.event.bind(i.scrollbarX, 'mousedown', function (e) { return e.stopPropagation(); }); i.event.bind(i.scrollbarXRail, 'mousedown', function (e) { var positionLeft = e.pageX - window.pageXOffset - i.scrollbarXRail.getBoundingClientRect().left; var direction = positionLeft > i.scrollbarXLeft ? 1 : -1; i.element.scrollLeft += direction * i.containerWidth; updateGeometry(i); e.stopPropagation(); }); } function dragThumb(i) { bindMouseScrollHandler(i, [ 'containerWidth', 'contentWidth', 'pageX', 'railXWidth', 'scrollbarX', 'scrollbarXWidth', 'scrollLeft', 'x', 'scrollbarXRail' ]); bindMouseScrollHandler(i, [ 'containerHeight', 'contentHeight', 'pageY', 'railYHeight', 'scrollbarY', 'scrollbarYHeight', 'scrollTop', 'y', 'scrollbarYRail' ]); } function bindMouseScrollHandler( i, ref ) { var containerHeight = ref[0]; var contentHeight = ref[1]; var pageY = ref[2]; var railYHeight = ref[3]; var scrollbarY = ref[4]; var scrollbarYHeight = ref[5]; var scrollTop = ref[6]; var y = ref[7]; var scrollbarYRail = ref[8]; var element = i.element; var startingScrollTop = null; var startingMousePageY = null; var scrollBy = null; function mouseMoveHandler(e) { if (e.touches && e.touches[0]) { e[pageY] = e.touches[0].pageY; } element[scrollTop] = startingScrollTop + scrollBy * (e[pageY] - startingMousePageY); addScrollingClass(i, y); updateGeometry(i); e.stopPropagation(); if (e.type.startsWith('touch') && e.changedTouches.length > 1) { e.preventDefault(); } } function mouseUpHandler() { removeScrollingClass(i, y); i[scrollbarYRail].classList.remove(cls.state.clicking); i.event.unbind(i.ownerDocument, 'mousemove', mouseMoveHandler); } function bindMoves(e, touchMode) { startingScrollTop = element[scrollTop]; if (touchMode && e.touches) { e[pageY] = e.touches[0].pageY; } startingMousePageY = e[pageY]; scrollBy = (i[contentHeight] - i[containerHeight]) / (i[railYHeight] - i[scrollbarYHeight]); if (!touchMode) { i.event.bind(i.ownerDocument, 'mousemove', mouseMoveHandler); i.event.once(i.ownerDocument, 'mouseup', mouseUpHandler); e.preventDefault(); } else { i.event.bind(i.ownerDocument, 'touchmove', mouseMoveHandler); } i[scrollbarYRail].classList.add(cls.state.clicking); e.stopPropagation(); } i.event.bind(i[scrollbarY], 'mousedown', function (e) { bindMoves(e); }); i.event.bind(i[scrollbarY], 'touchstart', function (e) { bindMoves(e, true); }); } function keyboard(i) { var element = i.element; var elementHovered = function () { return matches(element, ':hover'); }; var scrollbarFocused = function () { return matches(i.scrollbarX, ':focus') || matches(i.scrollbarY, ':focus'); }; function shouldPreventDefault(deltaX, deltaY) { var scrollTop = Math.floor(element.scrollTop); if (deltaX === 0) { if (!i.scrollbarYActive) { return false; } if ( (scrollTop === 0 && deltaY > 0) || (scrollTop >= i.contentHeight - i.containerHeight && deltaY < 0) ) { return !i.settings.wheelPropagation; } } var scrollLeft = element.scrollLeft; if (deltaY === 0) { if (!i.scrollbarXActive) { return false; } if ( (scrollLeft === 0 && deltaX < 0) || (scrollLeft >= i.contentWidth - i.containerWidth && deltaX > 0) ) { return !i.settings.wheelPropagation; } } return true; } i.event.bind(i.ownerDocument, 'keydown', function (e) { if ( (e.isDefaultPrevented && e.isDefaultPrevented()) || e.defaultPrevented ) { return; } if (!elementHovered() && !scrollbarFocused()) { return; } var activeElement = document.activeElement ? document.activeElement : i.ownerDocument.activeElement; if (activeElement) { if (activeElement.tagName === 'IFRAME') { activeElement = activeElement.contentDocument.activeElement; } else { // go deeper if element is a webcomponent while (activeElement.shadowRoot) { activeElement = activeElement.shadowRoot.activeElement; } } if (isEditable(activeElement)) { return; } } var deltaX = 0; var deltaY = 0; switch (e.which) { case 37: // left if (e.metaKey) { deltaX = -i.contentWidth; } else if (e.altKey) { deltaX = -i.containerWidth; } else { deltaX = -30; } break; case 38: // up if (e.metaKey) { deltaY = i.contentHeight; } else if (e.altKey) { deltaY = i.containerHeight; } else { deltaY = 30; } break; case 39: // right if (e.metaKey) { deltaX = i.contentWidth; } else if (e.altKey) { deltaX = i.containerWidth; } else { deltaX = 30; } break; case 40: // down if (e.metaKey) { deltaY = -i.contentHeight; } else if (e.altKey) { deltaY = -i.containerHeight; } else { deltaY = -30; } break; case 32: // space bar if (e.shiftKey) { deltaY = i.containerHeight; } else { deltaY = -i.containerHeight; } break; case 33: // page up deltaY = i.containerHeight; break; case 34: // page down deltaY = -i.containerHeight; break; case 36: // home deltaY = i.contentHeight; break; case 35: // end deltaY = -i.contentHeight; break; default: return; } if (i.settings.suppressScrollX && deltaX !== 0) { return; } if (i.settings.suppressScrollY && deltaY !== 0) { return; } element.scrollTop -= deltaY; element.scrollLeft += deltaX; updateGeometry(i); if (shouldPreventDefault(deltaX, deltaY)) { e.preventDefault(); } }); } function wheel(i) { var element = i.element; function shouldPreventDefault(deltaX, deltaY) { var roundedScrollTop = Math.floor(element.scrollTop); var isTop = element.scrollTop === 0; var isBottom = roundedScrollTop + element.offsetHeight === element.scrollHeight; var isLeft = element.scrollLeft === 0; var isRight = element.scrollLeft + element.offsetWidth === element.scrollWidth; var hitsBound; // pick axis with primary direction if (Math.abs(deltaY) > Math.abs(deltaX)) { hitsBound = isTop || isBottom; } else { hitsBound = isLeft || isRight; } return hitsBound ? !i.settings.wheelPropagation : true; } function getDeltaFromEvent(e) { var deltaX = e.deltaX; var deltaY = -1 * e.deltaY; if (typeof deltaX === 'undefined' || typeof deltaY === 'undefined') { // OS X Safari deltaX = (-1 * e.wheelDeltaX) / 6; deltaY = e.wheelDeltaY / 6; } if (e.deltaMode && e.deltaMode === 1) { // Firefox in deltaMode 1: Line scrolling deltaX *= 10; deltaY *= 10; } if (deltaX !== deltaX && deltaY !== deltaY /* NaN checks */) { // IE in some mouse drivers deltaX = 0; deltaY = e.wheelDelta; } if (e.shiftKey) { // reverse axis with shift key return [-deltaY, -deltaX]; } return [deltaX, deltaY]; } function shouldBeConsumedByChild(target, deltaX, deltaY) { // FIXME: this is a workaround for <select> issue in FF and IE #571 if (!env.isWebKit && element.querySelector('select:focus')) { return true; } if (!element.contains(target)) { return false; } var cursor = target; while (cursor && cursor !== element) { if (cursor.classList.contains(cls.element.consuming)) { return true; } var style = get(cursor); // if deltaY && vertical scrollable if (deltaY && style.overflowY.match(/(scroll|auto)/)) { var maxScrollTop = cursor.scrollHeight - cursor.clientHeight; if (maxScrollTop > 0) { if ( (cursor.scrollTop > 0 && deltaY < 0) || (cursor.scrollTop < maxScrollTop && deltaY > 0) ) { return true; } } } // if deltaX && horizontal scrollable if (deltaX && style.overflowX.match(/(scroll|auto)/)) { var maxScrollLeft = cursor.scrollWidth - cursor.clientWidth; if (maxScrollLeft > 0) { if ( (cursor.scrollLeft > 0 && deltaX < 0) || (cursor.scrollLeft < maxScrollLeft && deltaX > 0) ) { return true; } } } cursor = cursor.parentNode; } return false; } function mousewheelHandler(e) { var ref = getDeltaFromEvent(e); var deltaX = ref[0]; var deltaY = ref[1]; if (shouldBeConsumedByChild(e.target, deltaX, deltaY)) { return; } var shouldPrevent = false; if (!i.settings.useBothWheelAxes) { // deltaX will only be used for horizontal scrolling and deltaY will // only be used for vertical scrolling - this is the default element.scrollTop -= deltaY * i.settings.wheelSpeed; element.scrollLeft += deltaX * i.settings.wheelSpeed; } else if (i.scrollbarYActive && !i.scrollbarXActive) { // only vertical scrollbar is active and useBothWheelAxes option is // active, so let's scroll vertical bar using both mouse wheel axes if (deltaY) { element.scrollTop -= deltaY * i.settings.wheelSpeed; } else { element.scrollTop += deltaX * i.settings.wheelSpeed; } shouldPrevent = true; } else if (i.scrollbarXActive && !i.scrollbarYActive) { // useBothWheelAxes and only horizontal bar is active, so use both // wheel axes for horizontal bar if (deltaX) { element.scrollLeft += deltaX * i.settings.wheelSpeed; } else { element.scrollLeft -= deltaY * i.settings.wheelSpeed; } shouldPrevent = true; } updateGeometry(i); shouldPrevent = shouldPrevent || shouldPreventDefault(deltaX, deltaY); if (shouldPrevent && !e.ctrlKey) { e.stopPropagation(); e.preventDefault(); } } if (typeof window.onwheel !== 'undefined') { i.event.bind(element, 'wheel', mousewheelHandler); } else if (typeof window.onmousewheel !== 'undefined') { i.event.bind(element, 'mousewheel', mousewheelHandler); } } function touch(i) { if (!env.supportsTouch && !env.supportsIePointer) { return; } var element = i.element; function shouldPrevent(deltaX, deltaY) { var scrollTop = Math.floor(element.scrollTop); var scrollLeft = element.scrollLeft; var magnitudeX = Math.abs(deltaX); var magnitudeY = Math.abs(deltaY); if (magnitudeY > magnitudeX) { // user is perhaps trying to swipe up/down the page if ( (deltaY < 0 && scrollTop === i.contentHeight - i.containerHeight) || (deltaY > 0 && scrollTop === 0) ) { // set prevent for mobile Chrome refresh return window.scrollY === 0 && deltaY > 0 && env.isChrome; } } else if (magnitudeX > magnitudeY) { // user is perhaps trying to swipe left/right across the page if ( (deltaX < 0 && scrollLeft === i.contentWidth - i.containerWidth) || (deltaX > 0 && scrollLeft === 0) ) { return true; } } return true; } function applyTouchMove(differenceX, differenceY) { element.scrollTop -= differenceY; element.scrollLeft -= differenceX; updateGeometry(i); } var startOffset = {}; var startTime = 0; var speed = {}; var easingLoop = null; function getTouch(e) { if (e.targetTouches) { return e.targetTouches[0]; } else { // Maybe IE pointer return e; } } function shouldHandle(e) { if (e.pointerType && e.pointerType === 'pen' && e.buttons === 0) { return false; } if (e.targetTouches && e.targetTouches.length === 1) { return true; } if ( e.pointerType && e.pointerType !== 'mouse' && e.pointerType !== e.MSPOINTER_TYPE_MOUSE ) { return true; } return false; } function touchStart(e) { if (!shouldHandle(e)) { return; } var touch = getTouch(e); startOffset.pageX = touch.pageX; startOffset.pageY = touch.pageY; startTime = new Date().getTime(); if (easingLoop !== null) { clearInterval(easingLoop); } } function shouldBeConsumedByChild(target, deltaX, deltaY) { if (!element.contains(target)) { return false; } var cursor = target; while (cursor && cursor !== element) { if (cursor.classList.contains(cls.element.consuming)) { return true; } var style = get(cursor); // if deltaY && vertical scrollable if (deltaY && style.overflowY.match(/(scroll|auto)/)) { var maxScrollTop = cursor.scrollHeight - cursor.clientHeight; if (maxScrollTop > 0) { if ( (cursor.scrollTop > 0 && deltaY < 0) || (cursor.scrollTop < maxScrollTop && deltaY > 0) ) { return true; } } } // if deltaX && horizontal scrollable if (deltaX && style.overflowX.match(/(scroll|auto)/)) { var maxScrollLeft = cursor.scrollWidth - cursor.clientWidth; if (maxScrollLeft > 0) { if ( (cursor.scrollLeft > 0 && deltaX < 0) || (cursor.scrollLeft < maxScrollLeft && deltaX > 0) ) { return true; } } } cursor = cursor.parentNode; } return false; } function touchMove(e) { if (shouldHandle(e)) { var touch = getTouch(e); var currentOffset = { pageX: touch.pageX, pageY: touch.pageY }; var differenceX = currentOffset.pageX - startOffset.pageX; var differenceY = currentOffset.pageY - startOffset.pageY; if (shouldBeConsumedByChild(e.target, differenceX, differenceY)) { return; } applyTouchMove(differenceX, differenceY); startOffset = currentOffset; var currentTime = new Date().getTime(); var timeGap = currentTime - startTime; if (timeGap > 0) { speed.x = differenceX / timeGap; speed.y = differenceY / timeGap; startTime = currentTime; } if (shouldPrevent(differenceX, differenceY)) { e.preventDefault(); } } } function touchEnd() { if (i.settings.swipeEasing) { clearInterval(easingLoop); easingLoop = setInterval(function() { if (i.isInitialized) { clearInterval(easingLoop); return; } if (!speed.x && !speed.y) { clearInterval(easingLoop); return; } if (Math.abs(speed.x) < 0.01 && Math.abs(speed.y) < 0.01) { clearInterval(easingLoop); return; } if (!i.element) { clearInterval(easingLoop); return; } applyTouchMove(speed.x * 30, speed.y * 30); speed.x *= 0.8; speed.y *= 0.8; }, 10); } } if (env.supportsTouch) { i.event.bind(element, 'touchstart', touchStart); i.event.bind(element, 'touchmove', touchMove); i.event.bind(element, 'touchend', touchEnd); } else if (env.supportsIePointer) { if (window.PointerEvent) { i.event.bind(element, 'pointerdown', touchStart); i.event.bind(element, 'pointermove', touchMove); i.event.bind(element, 'pointerup', touchEnd); } else if (window.MSPointerEvent) { i.event.bind(element, 'MSPointerDown', touchStart); i.event.bind(element, 'MSPointerMove', touchMove); i.event.bind(element, 'MSPointerUp', touchEnd); } } } var defaultSettings = function () { return ({ handlers: ['click-rail', 'drag-thumb', 'keyboard', 'wheel', 'touch'], maxScrollbarLength: null, minScrollbarLength: null, scrollingThreshold: 1000, scrollXMarginOffset: 0, scrollYMarginOffset: 0, suppressScrollX: false, suppressScrollY: false, swipeEasing: true, useBothWheelAxes: false, wheelPropagation: true, wheelSpeed: 1, }); }; var handlers = { 'click-rail': clickRail, 'drag-thumb': dragThumb, keyboard: keyboard, wheel: wheel, touch: touch, }; var PerfectScrollbar = function PerfectScrollbar(element, userSettings) { var this$1 = this; if ( userSettings === void 0 ) userSettings = {}; if (typeof element === 'string') { element = document.querySelector(element); } if (!element || !element.nodeName) { throw new Error('no element is specified to initialize PerfectScrollbar'); } this.element = element; element.classList.add(cls.main); this.settings = defaultSettings(); for (var key in userSettings) { this.settings[key] = userSettings[key]; } this.containerWidth = null; this.containerHeight = null; this.contentWidth = null; this.contentHeight = null; var focus = function () { return element.classList.add(cls.state.focus); }; var blur = function () { return element.classList.remove(cls.state.focus); }; this.isRtl = get(element).direction === 'rtl'; if (this.isRtl === true) { element.classList.add(cls.rtl); } this.isNegativeScroll = (function () { var originalScrollLeft = element.scrollLeft; var result = null; element.scrollLeft = -1; result = element.scrollLeft < 0; element.scrollLeft = originalScrollLeft; return result; })(); this.negativeScrollAdjustment = this.isNegativeScroll ? element.scrollWidth - element.clientWidth : 0; this.event = new EventManager(); this.ownerDocument = element.ownerDocument || document; this.scrollbarXRail = div(cls.element.rail('x')); element.appendChild(this.scrollbarXRail); this.scrollbarX = div(cls.element.thumb('x')); this.scrollbarXRail.appendChild(this.scrollbarX); this.scrollbarX.setAttribute('tabindex', 0); this.event.bind(this.scrollbarX, 'focus', focus); this.event.bind(this.scrollbarX, 'blur', blur); this.scrollbarXActive = null; this.scrollbarXWidth = null; this.scrollbarXLeft = null; var railXStyle = get(this.scrollbarXRail); this.scrollbarXBottom = parseInt(railXStyle.bottom, 10); if (isNaN(this.scrollbarXBottom)) { this.isScrollbarXUsingBottom = false; this.scrollbarXTop = toInt(railXStyle.top); } else { this.isScrollbarXUsingBottom = true; } this.railBorderXWidth = toInt(railXStyle.borderLeftWidth) + toInt(railXStyle.borderRightWidth); // Set rail to display:block to calculate margins set(this.scrollbarXRail, { display: 'block' }); this.railXMarginWidth = toInt(railXStyle.marginLeft) + toInt(railXStyle.marginRight); set(this.scrollbarXRail, { display: '' }); this.railXWidth = null; this.railXRatio = null; this.scrollbarYRail = div(cls.element.rail('y')); element.appendChild(this.scrollbarYRail); this.scrollbarY = div(cls.element.thumb('y')); this.scrollbarYRail.appendChild(this.scrollbarY); this.scrollbarY.setAttribute('tabindex', 0); this.event.bind(this.scrollbarY, 'focus', focus); this.event.bind(this.scrollbarY, 'blur', blur); this.scrollbarYActive = null; this.scrollbarYHeight = null; this.scrollbarYTop = null; var railYStyle = get(this.scrollbarYRail); this.scrollbarYRight = parseInt(railYStyle.right, 10); if (isNaN(this.scrollbarYRight)) { this.isScrollbarYUsingRight = false; this.scrollbarYLeft = toInt(railYStyle.left); } else { this.isScrollbarYUsingRight = true; } this.scrollbarYOuterWidth = this.isRtl ? outerWidth(this.scrollbarY) : null; this.railBorderYWidth = toInt(railYStyle.borderTopWidth) + toInt(railYStyle.borderBottomWidth); set(this.scrollbarYRail, { display: 'block' }); this.railYMarginHeight = toInt(railYStyle.marginTop) + toInt(railYStyle.marginBottom); set(this.scrollbarYRail, { display: '' }); this.railYHeight = null; this.railYRatio = null; this.reach = { x: element.scrollLeft <= 0 ? 'start' : element.scrollLeft >= this.contentWidth - this.containerWidth ? 'end' : null, y: element.scrollTop <= 0 ? 'start' : element.scrollTop >= this.contentHeight - this.containerHeight ? 'end' : null, }; this.isAlive = true; this.settings.handlers.forEach(function (handlerName) { return handlers[handlerName](this$1); }); this.lastScrollTop = Math.floor(element.scrollTop); // for onScroll only this.lastScrollLeft = element.scrollLeft; // for onScroll only this.event.bind(this.element, 'scroll', function (e) { return this$1.onScroll(e); }); updateGeometry(this); }; PerfectScrollbar.prototype.update = function update () { if (!this.isAlive) { return; } // Recalcuate negative scrollLeft adjustment this.negativeScrollAdjustment = this.isNegativeScroll ? this.element.scrollWidth - this.element.clientWidth : 0; // Recalculate rail margins set(this.scrollbarXRail, { display: 'block' }); set(this.scrollbarYRail, { display: 'block' }); this.railXMarginWidth = toInt(get(this.scrollbarXRail).marginLeft) + toInt(get(this.scrollbarXRail).marginRight); this.railYMarginHeight = toInt(get(this.scrollbarYRail).marginTop) + toInt(get(this.scrollbarYRail).marginBottom); // Hide scrollbars not to affect scrollWidth and scrollHeight set(this.scrollbarXRail, { display: 'none' }); set(this.scrollbarYRail, { display: 'none' }); updateGeometry(this); processScrollDiff(this, 'top', 0, false, true); processScrollDiff(this, 'left', 0, false, true); set(this.scrollbarXRail, { display: '' }); set(this.scrollbarYRail, { display: '' }); }; PerfectScrollbar.prototype.onScroll = function onScroll (e) { if (!this.isAlive) { return; } updateGeometry(this); processScrollDiff(this, 'top', this.element.scrollTop - this.lastScrollTop); processScrollDiff( this, 'left', this.element.scrollLeft - this.lastScrollLeft ); this.lastScrollTop = Math.floor(this.element.scrollTop); this.lastScrollLeft = this.element.scrollLeft; }; PerfectScrollbar.prototype.destroy = function destroy () { if (!this.isAlive) { return; } this.event.unbindAll(); remove(this.scrollbarX); remove(this.scrollbarY); remove(this.scrollbarXRail); remove(this.scrollbarYRail); this.removePsClasses(); // unset elements this.element = null; this.scrollbarX = null; this.scrollbarY = null; this.scrollbarXRail = null; this.scrollbarYRail = null; this.isAlive = false; }; PerfectScrollbar.prototype.removePsClasses = function removePsClasses () { this.element.className = this.element.className .split(' ') .filter(function (name) { return !name.match(/^ps([-_].+|)$/); }) .join(' '); }; export default PerfectScrollbar; //# sourceMappingURL=perfect-scrollbar.esm.js.map ",
  "/* -------------------------------------------------------------------------- Tailwind Elements is an open-source UI kit of advanced components for TailwindCSS. Copyright © 2023 MDBootstrap.com Unless a custom, individually assigned license has been granted, this program is free software: you can redistribute it and/or modify it under the terms of the GNU Affero General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. In addition, a custom license may be available upon request, subject to the terms and conditions of that license. Please contact tailwind@mdbootstrap.com for more information on obtaining a custom license. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero General Public License for more details. -------------------------------------------------------------------------- */ import EventHandler from "../../dom/event-handler"; const DEFAULT_OPTIONS = { threshold: 10, direction: "all", }; class Swipe { constructor(element, options) { this._element = element; this._startPosition = null; this._options = { ...DEFAULT_OPTIONS, ...options, }; } handleTouchStart(e) { this._startPosition = this._getCoordinates(e); } handleTouchMove(e) { if (!this._startPosition) return; const position = this._getCoordinates(e); const displacement = { x: position.x - this._startPosition.x, y: position.y - this._startPosition.y, }; const swipe = this._getDirection(displacement); if (this._options.direction === "all") { if ( swipe.y.value < this._options.threshold && swipe.x.value < this._options.threshold ) { return; } const direction = swipe.y.value > swipe.x.value ? swipe.y.direction : swipe.x.direction; EventHandler.trigger(this._element, `swipe${direction}`); EventHandler.trigger(this._element, "swipe", { direction }); this._startPosition = null; return; } const axis = this._options.direction === "left" || this._options === "right" ? "x" : "y"; if ( swipe[axis].direction === this._options.direction && swipe[axis].value > this._options.threshold ) { EventHandler.trigger(this._element, `swipe${swipe[axis].direction}`); this._startPosition = null; } } handleTouchEnd() { this._startPosition = null; } _getCoordinates(e) { const [touch] = e.touches; return { x: touch.clientX, y: touch.clientY, }; } _getDirection(displacement) { return { x: { direction: displacement.x < 0 ? "left" : "right", value: Math.abs(displacement.x), }, y: { direction: displacement.y < 0 ? "up" : "down", value: Math.abs(displacement.y), }, }; } } export default Swipe; ",
  "/* -------------------------------------------------------------------------- Tailwind Elements is an open-source UI kit of advanced components for TailwindCSS. Copyright © 2023 MDBootstrap.com Unless a custom, individually assigned license has been granted, this program is free software: you can redistribute it and/or modify it under the terms of the GNU Affero General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. In addition, a custom license may be available upon request, subject to the terms and conditions of that license. Please contact tailwind@mdbootstrap.com for more information on obtaining a custom license. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero General Public License for more details. -------------------------------------------------------------------------- */ import Swipe from "./swipe"; class Touch { constructor(element, event = "swipe", options = {}) { this._element = element; this._event = event; // events this.swipe = new Swipe(element, options); // handlers this._touchStartHandler = this._handleTouchStart.bind(this); this._touchMoveHandler = this._handleTouchMove.bind(this); this._touchEndHandler = this._handleTouchEnd.bind(this); } dispose() { this._element.removeEventListener("touchstart", this._touchStartHandler); this._element.removeEventListener("touchmove", this._touchMoveHandler); window.removeEventListener("touchend", this._touchEndHandler); } init() { // istanbul ignore next this._element.addEventListener("touchstart", (e) => this._handleTouchStart(e) ); // istanbul ignore next this._element.addEventListener("touchmove", (e) => this._handleTouchMove(e) ); // istanbul ignore next window.addEventListener("touchend", (e) => this._handleTouchEnd(e)); } _handleTouchStart(e) { this[this._event].handleTouchStart(e); } _handleTouchMove(e) { this[this._event].handleTouchMove(e); } _handleTouchEnd(e) { this[this._event].handleTouchEnd(e); } } export default Touch; ",
  "/* -------------------------------------------------------------------------- Tailwind Elements is an open-source UI kit of advanced components for TailwindCSS. Copyright © 2023 MDBootstrap.com Unless a custom, individually assigned license has been granted, this program is free software: you can redistribute it and/or modify it under the terms of the GNU Affero General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. In addition, a custom license may be available upon request, subject to the terms and conditions of that license. Please contact tailwind@mdbootstrap.com for more information on obtaining a custom license. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero General Public License for more details. -------------------------------------------------------------------------- */ import Manipulator from "../dom/manipulator"; import SelectorEngine from "../dom/selector-engine"; const psClasses = "group/ps overflow-hidden [overflow-anchor:none] [overflow-style:none] touch-none"; const railXClasses = "group/x absolute bottom-0 !top-auto h-[15px] hidden opacity-0 [transition:background-color_.2s_linear,_opacity_.2s_linear] motion-reduce:transition-none group-[&.ps--active-x]/ps:block group-[&.ps--active-x]/ps:bg-transparent group-hover/ps:opacity-60 group-focus/ps:opacity-60 group-[&.ps--scrolling-x]/ps:opacity-60 hover:!opacity-90 hover:bg-[#eee] focus:!opacity-90 focus:bg-[#eee] [&.ps--clicking]:!opacity-90 [&.ps--clicking]:bg-[#eee] outline-none"; const railXThumbClasses = "absolute bottom-[2px] rounded-md h-1.5 opacity-0 group-hover/ps:opacity-100 group-focus/ps:opacity-100 group-active/ps:opacity-100 bg-[#aaa] [transition:background-color_.2s_linear,_height_.2s_ease-in-out] group-hover/x:bg-[#999] group-hover/x:h-[11px] group-focus/x:bg-[#999] group-focus/x:h-[11px] group-[&.ps--clicking]/x:bg-[#999] group-[&.ps--clicking]/x:h-[11px] outline-none"; const railYClasses = "group/y absolute right-0 !left-auto w-[15px] hidden opacity-0 [transition:background-color_.2s_linear,_opacity_.2s_linear] motion-reduce:transition-none group-[&.ps--active-y]/ps:block group-[&.ps--active-y]/ps:bg-transparent group-hover/ps:opacity-60 group-focus/ps:opacity-60 group-[&.ps--scrolling-y]/ps:opacity-60 hover:!opacity-90 hover:bg-[#eee] focus:!opacity-90 focus:bg-[#eee] [&.ps--clicking]:!opacity-90 [&.ps--clicking]:bg-[#eee] outline-none"; const railYThumbClasses = "absolute right-[2px] rounded-md w-1.5 opacity-0 group-hover/ps:opacity-100 group-focus/ps:opacity-100 group-active/ps:opacity-100 bg-[#aaa] [transition:background-color_.2s_linear,_width_.2s_ease-in-out] group-hover/y:bg-[#999] group-hover/y:w-[11px] group-focus/y:bg-[#999] group-focus/y:w-[11px] group-[&.ps--clicking]/y:bg-[#999] group-[&.ps--clicking]/y:w-[11px] outline-none"; const addPerfectScrollbarStyles = (container = document) => { const classes = [ { ps: "ps__rail-x", te: railXClasses }, { ps: "ps__rail-y", te: railYClasses }, { ps: "ps__thumb-x", te: railXThumbClasses }, { ps: "ps__thumb-y", te: railYThumbClasses }, ]; classes.forEach((item) => { Manipulator.addClass( SelectorEngine.findOne(`.${item.ps}`, container), item.te ); Manipulator.removeClass( SelectorEngine.findOne(`.${item.ps}`, container), item.ps ); }); Manipulator.addClass(container, psClasses); Manipulator.removeClass(container, "ps"); }; export default addPerfectScrollbarStyles; ",
  "/* -------------------------------------------------------------------------- Tailwind Elements is an open-source UI kit of advanced components for TailwindCSS. Copyright © 2023 MDBootstrap.com Unless a custom, individually assigned license has been granted, this program is free software: you can redistribute it and/or modify it under the terms of the GNU Affero General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. In addition, a custom license may be available upon request, subject to the terms and conditions of that license. Please contact tailwind@mdbootstrap.com for more information on obtaining a custom license. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero General Public License for more details. -------------------------------------------------------------------------- */ import PerfectScrollbar from "perfect-scrollbar"; import { array, isVisible, typeCheckConfig, isRTL, getUID, } from "../util/index"; import FocusTrap from "../util/focusTrap"; import { ENTER, TAB, ESCAPE } from "../util/keycodes"; import Touch from "../util/touch/index"; import Collapse from "../components/collapse"; import Data from "../dom/data"; import EventHandler from "../dom/event-handler"; import Manipulator from "../dom/manipulator"; import SelectorEngine from "../dom/selector-engine"; import Ripple from "../methods/ripple"; import Backdrop from "../util/backdrop"; import addPerfectScrollbarStyles from "../util/add-perfect-scrollbar-styles"; /* ------------------------------------------------------------------------ Constants ------------------------------------------------------------------------ */ const NAME = "sidenav"; const DATA_KEY = "te.sidenav"; const ARROW_DATA = "data-te-sidenav-rotate-icon-ref"; const SELECTOR_TOGGLE = "[data-te-sidenav-toggle-ref]"; const SELECTOR_TOGGLE_COLLAPSE = "[data-te-collapse-init]"; const SELECTOR_SHOW_SLIM = '[data-te-sidenav-slim="true"]'; const SELECTOR_HIDE_SLIM = '[data-te-sidenav-slim="false"]'; const SELECTOR_NAVIGATION = "[data-te-sidenav-menu-ref]"; const SELECTOR_COLLAPSE = "[data-te-sidenav-collapse-ref]"; const SELECTOR_LINK = "[data-te-sidenav-link-ref]"; const TRANSLATION_LEFT = isRTL() ? 100 : -100; const TRANSLATION_RIGHT = isRTL() ? -100 : 100; const OPTIONS_TYPE = { sidenavAccordion: "(boolean)", sidenavBackdrop: "(boolean)", sidenavBackdropClass: "(null|string)", sidenavCloseOnEsc: "(boolean)", sidenavColor: "(string)", sidenavContent: "(null|string)", sidenavExpandable: "(boolean)", sidenavExpandOnHover: "(boolean)", sidenavFocusTrap: "(boolean)", sidenavHidden: "(boolean)", sidenavMode: "(string)", sidenavModeBreakpointOver: "(null|string|number)", sidenavModeBreakpointSide: "(null|string|number)", sidenavModeBreakpointPush: "(null|string|number)", sidenavBreakpointSm: "(number)", sidenavBreakpointMd: "(number)", sidenavBreakpointLg: "(number)", sidenavBreakpointXl: "(number)", sidenavBreakpoint2xl: "(number)", sidenavScrollContainer: "(null|string)", sidenavSlim: "(boolean)", sidenavSlimCollapsed: "(boolean)", sidenavSlimWidth: "(number)", sidenavPosition: "(string)", sidenavRight: "(boolean)", sidenavTransitionDuration: "(number)", sidenavWidth: "(number)", }; const DEFAULT_OPTIONS = { sidenavAccordion: false, sidenavBackdrop: true, sidenavBackdropClass: null, sidenavCloseOnEsc: true, sidenavColor: "primary", sidenavContent: null, sidenavExpandable: true, sidenavExpandOnHover: false, sidenavFocusTrap: true, sidenavHidden: true, sidenavMode: "over", sidenavModeBreakpointOver: null, sidenavModeBreakpointSide: null, sidenavModeBreakpointPush: null, sidenavBreakpointSm: 640, sidenavBreakpointMd: 768, sidenavBreakpointLg: 1024, sidenavBreakpointXl: 1280, sidenavBreakpoint2xl: 1536, sidenavScrollContainer: null, sidenavSlim: false, sidenavSlimCollapsed: false, sidenavSlimWidth: 77, sidenavPosition: "fixed", sidenavRight: false, sidenavTransitionDuration: 300, sidenavWidth: 240, }; /* ------------------------------------------------------------------------ Class Definition ------------------------------------------------------------------------ */ class Sidenav { constructor(node, options = {}) { this._element = node; this._options = options; this._ID = getUID(""); this._content = null; this._initialContentStyle = null; this._slimCollapsed = false; this._activeNode = null; this._tempSlim = false; this._backdrop = this._initializeBackDrop(); this._focusTrap = null; this._perfectScrollbar = null; this._touch = null; this._setModeFromBreakpoints(); this.escHandler = (e) => { if (e.keyCode === ESCAPE && this.toggler && isVisible(this.toggler)) { this._update(false); EventHandler.off(window, "keydown", this.escHandler); } }; this.hashHandler = () => { this._setActiveElements(); }; if (node) { Data.setData(node, DATA_KEY, this); this._setup(); } if ( this.options.sidenavBackdrop && !this.options.sidenavHidden && this.options.sidenavMode === "over" ) { EventHandler.on(this._element, "transitionend", this._addBackdropOnInit); } this._didInit = false; this._init(); } // Getters static get NAME() { return NAME; } get container() { if (this.options.sidenavPosition === "fixed") { return SelectorEngine.findOne("body"); } const findContainer = (el) => { if (!el.parentNode || el.parentNode === document) { return el; } if ( el.parentNode.style.position === "relative" || el.parentNode.classList.contains("relative") ) { return el.parentNode; } return findContainer(el.parentNode); }; return findContainer(this._element); } get isVisible() { let containerStart = 0; let containerEnd = window.innerWidth; if (this.options.sidenavPosition !== "fixed") { const boundry = this.container.getBoundingClientRect(); containerStart = boundry.x; containerEnd = boundry.x + boundry.width; } const { x } = this._element.getBoundingClientRect(); if (this.options.sidenavRight) { return Math.abs(x - containerEnd) > 10; } return Math.abs(x - containerStart) < 10; } get links() { return SelectorEngine.find(SELECTOR_LINK, this._element); } get navigation() { return SelectorEngine.find(SELECTOR_NAVIGATION, this._element); } get options() { const config = { ...DEFAULT_OPTIONS, ...Manipulator.getDataAttributes(this._element), ...this._options, }; typeCheckConfig(NAME, config, OPTIONS_TYPE); return config; } get sidenavStyle() { return { width: `${this.width}px`, height: this.options.sidenavPosition === "fixed" ? "100vh" : "100%", position: this.options.sidenavPosition, transition: `all ${this.transitionDuration} linear`, }; } get toggler() { const toggleElement = SelectorEngine.find(SELECTOR_TOGGLE).find( (toggler) => { const target = Manipulator.getDataAttribute(toggler, "target"); return SelectorEngine.findOne(target) === this._element; } ); return toggleElement; } get transitionDuration() { return `${this.options.sidenavTransitionDuration / 1000}s`; } get translation() { return this.options.sidenavRight ? TRANSLATION_RIGHT : TRANSLATION_LEFT; } get width() { return this._slimCollapsed ? this.options.sidenavSlimWidth : this.options.sidenavWidth; } get isBackdropVisible() { return Boolean(this._backdrop._element); } // Public changeMode(mode) { this._setMode(mode); } dispose() { EventHandler.off(window, "keydown", this.escHandler); this.options.sidenavBackdrop && this._backdrop.dispose(); EventHandler.off(window, "hashchange", this.hashHandler); this._touch.dispose(); Data.removeData(this._element, DATA_KEY); this._element = null; } hide() { this._emitEvents(false); this._update(false); this._options.sidenavBackdrop && this.isBackdropVisible && this._backdrop.hide(); } show() { this._emitEvents(true); this._update(true); this._options.sidenavBackdrop && this._options.sidenavMode === "over" && this._backdrop.show(); } toggle() { this._emitEvents(!this.isVisible); this._update(!this.isVisible); } toggleSlim() { this._setSlim(!this._slimCollapsed); } update(options) { this._options = options; this._setup(); } getBreakpoint(prefix) { return this._transformBreakpointValuesToObject()[prefix]; } // Private _init() { if (this._didInit) { return; } EventHandler.on( document, "click", SELECTOR_TOGGLE, Sidenav.toggleSidenav() ); this._didInit = true; } _transformBreakpointValuesToObject() { return { sm: this.options.sidenavBreakpointSm, md: this.options.sidenavBreakpointMd, lg: this.options.sidenavBreakpointLg, xl: this.options.sidenavBreakpointXl, "2xl": this.options.sidenavBreakpoint2xl, }; } _setModeFromBreakpoints() { const innerWidth = window.innerWidth; const breakpointsList = this._transformBreakpointValuesToObject(); if (innerWidth === undefined || !breakpointsList) { return; } const overCalculated = typeof this.options.sidenavModeBreakpointOver === "number" ? innerWidth - this.options.sidenavModeBreakpointOver : innerWidth - breakpointsList[this.options.sidenavModeBreakpointOver]; const sideCalculated = typeof this.options.sidenavModeBreakpointSide === "number" ? innerWidth - this.options.sidenavModeBreakpointSide : innerWidth - breakpointsList[this.options.sidenavModeBreakpointSide]; const pushCalculated = typeof this.options.sidenavModeBreakpointPush === "number" ? innerWidth - this.options.sidenavModeBreakpointPush : innerWidth - breakpointsList[this.options.sidenavModeBreakpointPush]; const sortAsc = (a, b) => { if (a - b < 0) return -1; if (b - a < 0) return 1; return 0; }; const closestPositive = [overCalculated, sideCalculated, pushCalculated] .filter((value) => value != null && value >= 0) .sort(sortAsc)[0]; if (overCalculated > 0 && overCalculated === closestPositive) { this._options.sidenavMode = "over"; this._options.sidenavHidden = true; } else if (sideCalculated > 0 && sideCalculated === closestPositive) { this._options.sidenavMode = "side"; } else if (pushCalculated > 0 && pushCalculated === closestPositive) { this._options.sidenavMode = "push"; } } _collapseItems() { this.navigation.forEach((menu) => { const collapseElements = SelectorEngine.find(SELECTOR_COLLAPSE, menu); collapseElements.forEach((el) => { Collapse.getInstance(el).hide(); }); }); } _getOffsetValue(show, { index, property, offsets }) { const initialValue = this._getPxValue( this._initialContentStyle[index][offsets[property].property] ); const offset = show ? offsets[property].value : 0; return initialValue + offset; } _getProperty(...args) { return args .map((arg, i) => { if (i === 0) { return arg; } return arg[0].toUpperCase().concat(arg.slice(1)); }) .join(""); } _getPxValue(property) { if (!property) { return 0; } return parseFloat(property); } _handleSwipe(e, inverseDirecion) { if ( inverseDirecion && this._slimCollapsed && this.options.sidenavSlim && this.options.sidenavExpandable ) { this.toggleSlim(); } else if (!inverseDirecion) { if ( this._slimCollapsed || !this.options.sidenavSlim || !this.options.sidenavExpandable ) { if (this.toggler && isVisible(this.toggler)) { this.toggle(); } } else { this.toggleSlim(); } } } _isActive(link, reference) { if (reference) { return reference === link; } if (link.attributes.href) { return new URL(link, window.location.href).href === window.location.href; } return false; } _isAllToBeCollapsed() { const collapseElements = SelectorEngine.find( SELECTOR_TOGGLE_COLLAPSE, this._element ); const collapseElementsExpanded = collapseElements.filter( (collapsible) => collapsible.getAttribute("aria-expanded") === "true" ); return collapseElementsExpanded.length === 0; } _isAllCollapsed() { return ( SelectorEngine.find(SELECTOR_COLLAPSE, this._element).filter((el) => isVisible(el) ).length === 0 ); } _initializeBackDrop() { if (!this.options.sidenavBackdrop) { return; } const backdropClasses = this.options.sidenavBackdropClass ? this.options.sidenavBackdropClass.split(" ") : this.options.sidenavPosition ? [ "opacity-50", "transition-all", "duration-300", "ease-in-out", this.options.sidenavPosition, "top-0", "left-0", "z-50", "bg-black/10", "dark:bg-black-60", "w-full", "h-full", this._element.id, ] : null; return new Backdrop({ isVisible: this.options.sidenavBackdrop, isAnimated: true, rootElement: this._element.parentNode, backdropClasses, clickCallback: () => this.hide(), }); } _updateBackdrop(show) { if (this.options.sidenavMode === "over") { show ? this._backdrop.show() : this.isBackdropVisible && this._backdrop.hide(); return; } this.isBackdropVisible && this._backdrop.hide(); } _setup() { // Touch events this._setupTouch(); // Focus trap if (this.options.sidenavFocusTrap) { this._setupFocusTrap(); } // Collapse this._setupCollapse(); // Slim if (this.options.sidenavSlim) { this._setupSlim(); } // Initial position this._setupInitialStyling(); // Perfect Scrollbar this._setupScrolling(); // Content if (this.options.sidenavContent) { this._setupContent(); } // Active link this._setupActiveState(); // Ripple this._setupRippleEffect(); // Shown on init if (!this.options.sidenavHidden) { this._updateOffsets(true, true); } if (this.options.sidenavMode === "over") { this._setTabindex(true); } } _setupActiveState() { this._setActiveElements(); this.links.forEach((link) => { EventHandler.on(link, "click", () => this._setActiveElements(link)); EventHandler.on(link, "keydown", (e) => { if (e.keyCode === ENTER) { this._setActiveElements(link); } }); }); EventHandler.on(window, "hashchange", this.hashHandler); } _setupCollapse() { this.navigation.forEach((menu, menuIndex) => { const categories = SelectorEngine.find(SELECTOR_COLLAPSE, menu); categories.forEach((list, index) => this._setupCollapseList({ list, index, menu, menuIndex }) ); }); } _generateCollpaseID(index, menuIndex) { return `sidenav-collapse-${this._ID}-${menuIndex}-${index}`; } _setupCollapseList({ list, index, menu, menuIndex }) { const ID = this._generateCollpaseID(index, menuIndex); list.setAttribute("id", ID); list.setAttribute("data-te-collapse-item", ""); const [toggler] = SelectorEngine.prev(list, SELECTOR_LINK); Manipulator.setDataAttribute(toggler, "collapse-init", ""); toggler.setAttribute("href", `#${ID}`); toggler.setAttribute("role", "button"); const instance = Collapse.getInstance(list) || new Collapse(list, { toggle: false, parent: this.options.sidenavAccordion ? menu : list, }); // Arrow if ( list.dataset.teSidenavStateShow === "" || list.dataset.teCollapseShow === "" ) { this._rotateArrow(toggler, false); } // Event listeners EventHandler.on(toggler, "click", (e) => { this._toggleCategory(e, instance, list); if (this._tempSlim && this._isAllToBeCollapsed()) { this._setSlim(true); this._tempSlim = false; } if (this.options.sidenavMode === "over" && this._focusTrap) { this._focusTrap.update(); } }); EventHandler.on(list, "show.te.collapse", () => this._rotateArrow(toggler, false) ); EventHandler.on(list, "hide.te.collapse", () => this._rotateArrow(toggler, true) ); EventHandler.on(list, "shown.te.collapse", () => { if (this.options.sidenavMode === "over" && this._focusTrap) { this._focusTrap.update(); } }); EventHandler.on(list, "hidden.te.collapse", () => { if (this._tempSlim && this._isAllCollapsed()) { this._setSlim(true); this._tempSlim = false; } if (this.options.sidenavMode === "over" && this._focusTrap) { this._focusTrap.update(); } }); } _setupContent() { this._content = SelectorEngine.find(this.options.sidenavContent); this._content.forEach((el) => { const searchFor = [ "!p", "!m", "!px", "!pl", "!pr", "!mx", "!ml", "!mr", "!-p", "!-m", "!-px", "!-pl", "!-pr", "!-mx", "!-ml", "!-mr", ]; const classesToRemove = [...el.classList].filter( (singleClass) => searchFor.findIndex((el) => singleClass.includes(el)) >= 0 ); classesToRemove.forEach((remove) => el.classList.remove(remove)); }); this._initialContentStyle = this._content.map((el) => { const { paddingLeft, paddingRight, marginLeft, marginRight, transition } = window.getComputedStyle(el); return { paddingLeft, paddingRight, marginLeft, marginRight, transition }; }); } _setupFocusTrap() { this._focusTrap = new FocusTrap( this._element, { event: "keydown", condition: (e) => e.keyCode === TAB, onlyVisible: true, }, this.toggler ); } _setupInitialStyling() { this._setColor(); Manipulator.style(this._element, this.sidenavStyle); } _setupScrolling() { let container = this._element; if (this.options.sidenavScrollContainer) { container = SelectorEngine.findOne( this.options.sidenavScrollContainer, this._element ); const siblings = array(container.parentNode.children).filter( (el) => el !== container ); const siblingsHeight = siblings.reduce((a, b) => { return a + b.clientHeight; }, 0); Manipulator.style(container, { maxHeight: `calc(100% - ${siblingsHeight}px)`, position: "relative", }); } this._perfectScrollbar = new PerfectScrollbar(container, { suppressScrollX: true, handlers: ["click-rail", "drag-thumb", "wheel", "touch"], }); addPerfectScrollbarStyles(container); } _setupSlim() { this._slimCollapsed = this.options.sidenavSlimCollapsed; this._toggleSlimDisplay(this._slimCollapsed); if (this.options.sidenavExpandOnHover) { this._element.addEventListener("mouseenter", () => { if (this._slimCollapsed) { this._setSlim(false); } }); this._element.addEventListener("mouseleave", () => { if (!this._slimCollapsed) { this._setSlim(true); } }); } } _setupRippleEffect() { this.links.forEach((link) => { let wave = Ripple.getInstance(link); let color = this.options.sidenavColor; if (wave && wave._options.sidenavColor !== this.options.sidenavColor) { wave.dispose(); } else if (wave) { return; } if ( localStorage.theme === "dark" || (!("theme" in localStorage) && window.matchMedia("(prefers-color-scheme: dark)").matches) ) { color = "white"; } wave = new Ripple(link, { rippleColor: color }); }); } _setupTouch() { this._touch = new Touch(this._element, "swipe", { threshold: 20 }); this._touch.init(); EventHandler.on(this._element, "swipeleft", (e) => this._handleSwipe(e, this.options.sidenavRight) ); EventHandler.on(this._element, "swiperight", (e) => this._handleSwipe(e, !this.options.sidenavRight) ); } _setActive(link, reference) { // Link link.setAttribute("data-te-sidebar-state-active", ""); if (this._activeNode) { link.removeAttribute("data-te-sidebar-state-active"); } this._activeNode = link; // Collapse const [collapse] = SelectorEngine.parents( this._activeNode, SELECTOR_COLLAPSE ); if (!collapse) { this._setActiveCategory(); return; } // Category const [category] = SelectorEngine.prev(collapse, SELECTOR_LINK); this._setActiveCategory(category); // Expand active collapse if (!reference && !this._slimCollapsed) { Collapse.getInstance(collapse).show(); } } _setActiveCategory(el) { this.navigation.forEach((menu) => { const categories = SelectorEngine.find(SELECTOR_COLLAPSE, menu); categories.forEach((collapse) => { const [collapseToggler] = SelectorEngine.prev(collapse, SELECTOR_LINK); if (collapseToggler !== el) { collapseToggler.removeAttribute("data-te-sidenav-state-active"); } else { collapseToggler.setAttribute("data-te-sidenav-state-active", ""); } }); }); } _setActiveElements(reference) { this.navigation.forEach((menu) => { const links = SelectorEngine.find(SELECTOR_LINK, menu); links .filter((link) => { return SelectorEngine.next(link, SELECTOR_COLLAPSE).length === 0; }) .forEach((link) => { if (this._isActive(link, reference) && link !== this._activeNode) { this._setActive(link, reference); } }); }); reference && this._updateFocus(this.isVisible); } _setColor() { const colors = [ "primary", "secondary", "success", "info", "warning", "danger", "light", "dark", ]; const { sidenavColor: optionColor } = this.options; const color = colors.includes(optionColor) ? optionColor : "primary"; colors.forEach((color) => { this._element.classList.remove(`sidenav-${color}`); }); Manipulator.addClass(this._element, `sidenav-${color}`); } _setContentOffsets(show, offsets, initial) { this._content.forEach((el, i) => { const padding = this._getOffsetValue(show, { index: i, property: "padding", offsets, }); const margin = this._getOffsetValue(show, { index: i, property: "margin", offsets, }); const style = {}; if (!initial) { style.transition = `all ${this.transitionDuration} linear`; } style[offsets.padding.property] = `${padding}px`; style[offsets.margin.property] = `${margin}px`; Manipulator.style(el, style); if (!show) { return; } if (initial) { Manipulator.style(el, { transition: this._initialContentStyle[i].transition, }); return; } EventHandler.on(el, "transitionend", () => { Manipulator.style(el, { transition: this._initialContentStyle[i].transition, }); }); }); } _setMode(mode) { if (this.options.sidenavMode === mode) { return; } this._options.sidenavMode = mode; this._update(this.isVisible); } _setSlim(isSlimCollapsed) { const events = isSlimCollapsed ? ["collapse", "collapsed"] : ["expand", "expanded"]; this._triggerEvents(...events); if (isSlimCollapsed) { this._collapseItems(); } this._slimCollapsed = isSlimCollapsed; this._toggleSlimDisplay(isSlimCollapsed); Manipulator.style(this._element, { width: `${this.width}px` }); this._updateOffsets(this.isVisible); } _setTabindex(tabIndexValue) { this.links.forEach((link) => { link.tabIndex = tabIndexValue ? 0 : -1; }); } _emitEvents(show) { const events = show ? ["show", "shown"] : ["hide", "hidden"]; this._triggerEvents(...events); } _rotateArrow(toggler, collapsed) { const [arrow] = SelectorEngine.children(toggler, `[${ARROW_DATA}]`); if (!arrow) { return; } collapsed ? Manipulator.removeClass(arrow, "rotate-180") : Manipulator.addClass(arrow, "rotate-180"); } _toggleCategory(e, instance) { e.preventDefault(); instance.toggle(); if (this._slimCollapsed && this.options.sidenavExpandable) { this._tempSlim = true; this._setSlim(false); } } _toggleSlimDisplay(slim) { const slimCollapsedElements = SelectorEngine.find( SELECTOR_SHOW_SLIM, this._element ); const fullWidthElements = SelectorEngine.find( SELECTOR_HIDE_SLIM, this._element ); const toggleElements = () => { slimCollapsedElements.forEach((el) => { Manipulator.style(el, { display: this._slimCollapsed ? "unset" : "none", }); }); fullWidthElements.forEach((el) => { Manipulator.style(el, { display: this._slimCollapsed ? "none" : "unset", }); }); }; if (slim) { setTimeout( () => toggleElements(true), this.options.sidenavTransitionDuration ); } else { toggleElements(); } } async _triggerEvents(startEvent, completeEvent) { EventHandler.trigger(this._element, `${startEvent}.te.sidenav`); if (completeEvent) { await setTimeout(() => { EventHandler.trigger(this._element, `${completeEvent}.te.sidenav`); }, this.options.sidenavTransitionDuration + 5); } } _update(show) { if (this.toggler) { this._updateTogglerAria(show); } this._updateDisplay(show); if (this.options.sidenavBackdrop) { this._updateBackdrop(show); } this._updateOffsets(show); if ( show && this.options.sidenavCloseOnEsc && this.options.sidenavMode !== "side" ) { EventHandler.on(window, "keydown", this.escHandler); } if (this.options.sidenavFocusTrap) { this._updateFocus(show); } } _updateDisplay(show) { const translation = show ? 0 : this.translation; Manipulator.style(this._element, { transform: `translateX(${translation}%)`, }); } _updateFocus(show) { this._setTabindex(show); if (this.options.sidenavMode === "over" && this.options.sidenavFocusTrap) { if (show) { this._focusTrap.trap(); return; } this._focusTrap.disable(); } this._focusTrap.disable(); } _updateOffsets(show, initial = false) { const [paddingPosition, marginPosition] = this.options.sidenavRight ? ["right", "left"] : ["left", "right"]; const padding = { property: this._getProperty("padding", paddingPosition), value: this.options.sidenavMode === "over" ? 0 : this.width, }; const margin = { property: this._getProperty("margin", marginPosition), value: this.options.sidenavMode === "push" ? -1 * this.width : 0, }; EventHandler.trigger(this._element, "update.te.sidenav", { margin, padding, }); if (!this._content) { return; } this._content.className = ""; this._setContentOffsets(show, { padding, margin }, initial); } _updateTogglerAria(show) { this.toggler.setAttribute("aria-expanded", show); } _addBackdropOnInit = () => { if (this._options.sidenavHidden) { return; } this._backdrop.show(); EventHandler.off(this._element, "transitionend", this._addBackdropOnInit); }; // Static static toggleSidenav() { return function (e) { const toggler = SelectorEngine.closest(e.target, SELECTOR_TOGGLE); const elementSelector = Manipulator.getDataAttributes(toggler).target; SelectorEngine.find(elementSelector).forEach((element) => { const instance = Sidenav.getInstance(element) || new Sidenav(element); instance.toggle(); }); }; } static jQueryInterface(config, options) { return this.each(function () { let data = Data.getData(this, DATA_KEY); const _config = typeof config === "object" && config; if (!data && /dispose/.test(config)) { return; } if (!data) { data = new Sidenav(this, _config); } if (typeof config === "string") { if (typeof data[config] === "undefined") { throw new TypeError(`No method named "${config}"`); } data[config](options); } }); } static getInstance(element) { return Data.getData(element, DATA_KEY); } static getOrCreateInstance(element, config = {}) { return ( this.getInstance(element) || new this(element, typeof config === "object" ? config : null) ); } } export default Sidenav; ",
  "/* -------------------------------------------------------------------------- Tailwind Elements is an open-source UI kit of advanced components for TailwindCSS. Copyright © 2023 MDBootstrap.com Unless a custom, individually assigned license has been granted, this program is free software: you can redistribute it and/or modify it under the terms of the GNU Affero General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. In addition, a custom license may be available upon request, subject to the terms and conditions of that license. Please contact tailwind@mdbootstrap.com for more information on obtaining a custom license. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero General Public License for more details. -------------------------------------------------------------------------- */ import Data from "../dom/data"; import EventHandler from "../dom/event-handler"; import SelectorEngine from "../dom/selector-engine"; import Manipulator from "../dom/manipulator"; import { typeCheckConfig } from "../util/index"; import { LEFT_ARROW, RIGHT_ARROW, UP_ARROW, DOWN_ARROW, HOME, END, ENTER, SPACE, TAB, } from "../util/keycodes"; /* ------------------------------------------------------------------------ Constants ------------------------------------------------------------------------ */ const NAME = "stepper"; const DATA_KEY = "te.stepper"; const EVENT_KEY = `.${DATA_KEY}`; const REF = `data-te-${NAME}`; const STEPPER_HORIZONTAL = "horizontal"; const STEPPER_VERTICAL = "vertical"; const DefaultType = { stepperType: "string", stepperLinear: "boolean", stepperNoEditable: "boolean", stepperActive: "string", stepperCompleted: "string", stepperInvalid: "string", stepperDisabled: "string", stepperVerticalBreakpoint: "number", stepperMobileBreakpoint: "number", stepperMobileBarBreakpoint: "number", }; const Default = { stepperType: STEPPER_HORIZONTAL, stepperLinear: false, stepperNoEditable: false, stepperActive: "", stepperCompleted: "", stepperInvalid: "", stepperDisabled: "", stepperVerticalBreakpoint: 0, stepperMobileBreakpoint: 0, stepperMobileBarBreakpoint: 4, }; const EVENT_MOUSEDOWN = `mousedown${EVENT_KEY}`; const EVENT_KEYDOWN = `keydown${EVENT_KEY}`; const EVENT_KEYUP = `keyup${EVENT_KEY}`; const EVENT_RESIZE = `resize${EVENT_KEY}`; const STEP_REF = `[${REF}-step-ref]`; const HEAD_REF = `[${REF}-head-ref]`; const HEAD_TEXT_REF = `[${REF}-head-text-ref]`; const HEAD_ICON_REF = `[${REF}-head-icon-ref]`; const CONTENT_REF = `[${REF}-content-ref]`; class Stepper { constructor(element, options) { this._element = element; this._options = this._getConfig(options); this._elementHeight = 0; this._steps = SelectorEngine.find(`${STEP_REF}`, this._element); this._currentView = ""; this._activeStepIndex = 0; this._verticalStepperStyles = []; if (this._element) { Data.setData(element, DATA_KEY, this); this._init(); } } // Getters static get NAME() { return NAME; } get activeStep() { return this._steps[this._activeStepIndex]; } get activeStepIndex() { return this._activeStepIndex; } // Public dispose() { this._steps.forEach((el) => { EventHandler.off(el, EVENT_MOUSEDOWN); EventHandler.off(el, EVENT_KEYDOWN); }); EventHandler.off(window, EVENT_RESIZE); Data.removeData(this._element, DATA_KEY); this._element = null; } changeStep(index) { this._toggleStep(index); } nextStep() { this._toggleStep(this._activeStepIndex + 1); } previousStep() { this._toggleStep(this._activeStepIndex - 1); } // Private _init() { const activeStep = SelectorEngine.find(`${STEP_REF}`, this._element)[ this._activeStepIndex ].setAttribute("data-te", "active-step"); const stepperHeadText = SelectorEngine.find( `${HEAD_TEXT_REF}`, this._element ); const stepperHeadIcon = SelectorEngine.find( `${HEAD_ICON_REF}`, this._element ); if (activeStep) { this._activeStepIndex = this._steps.indexOf(activeStep); this._toggleStepClass( this._activeStepIndex, "add", this._options.stepperActive ); stepperHeadText[this._activeStepIndex].classList.add("font-medium"); stepperHeadIcon[this._activeStepIndex].classList.add("!bg-primary-100"); stepperHeadIcon[this._activeStepIndex].classList.add("!text-primary-700"); } else { stepperHeadText[this._activeStepIndex].classList.add("font-medium"); stepperHeadIcon[this._activeStepIndex].classList.add("!bg-primary-100"); stepperHeadIcon[this._activeStepIndex].classList.add("!text-primary-700"); this._toggleStepClass( this._activeStepIndex, "add", this._options.stepperActive ); } this._bindMouseDown(); this._bindKeysNavigation(); switch (this._options.stepperType) { case STEPPER_VERTICAL: this._toggleVertical(); break; default: this._toggleHorizontal(); break; } if ( this._options.stepperVerticalBreakpoint || this._options.stepperMobileBreakpoint ) { this._toggleStepperView(); } this._bindResize(); } _getConfig(config) { const dataAttributes = Manipulator.getDataAttributes(this._element); config = { ...Default, ...dataAttributes, ...config, }; typeCheckConfig(NAME, config, DefaultType); return config; } _bindMouseDown() { this._steps.forEach((el) => { const stepHead = SelectorEngine.findOne(`${HEAD_REF}`, el); EventHandler.on(stepHead, EVENT_MOUSEDOWN, (e) => { const step = SelectorEngine.parents(e.target, `${STEP_REF}`)[0]; const stepIndex = this._steps.indexOf(step); e.preventDefault(); this._toggleStep(stepIndex); }); }); } _bindResize() { EventHandler.on(window, EVENT_RESIZE, () => { if (this._currentView === STEPPER_VERTICAL) { this._setSingleStepHeight(this.activeStep); } if (this._currentView === STEPPER_HORIZONTAL) { this._setHeight(this.activeStep); } if ( this._options.stepperVerticalBreakpoint || this._options.stepperMobileBreakpoint ) { this._toggleStepperView(); } }); } _toggleStepperView() { const shouldBeHorizontal = this._options.stepperVerticalBreakpoint < window.innerWidth; const shouldBeVertical = this._options.stepperVerticalBreakpoint > window.innerWidth; const shouldBeMobile = this._options.stepperMobileBreakpoint > window.innerWidth; if (shouldBeHorizontal && this._currentView !== STEPPER_HORIZONTAL) { this._toggleHorizontal(); } if ( shouldBeVertical && !shouldBeMobile && this._currentView !== STEPPER_VERTICAL ) { this._steps.forEach((el) => { const stepContent = SelectorEngine.findOne(`${CONTENT_REF}`, el); this._resetStepperHeight(); this._showElement(stepContent); }); this._toggleVertical(); } } _toggleStep(index) { if (this._activeStepIndex === index) { return; } if (this._options.stepperNoEditable) { this._toggleDisabled(); } this._showElement( SelectorEngine.findOne(`${CONTENT_REF}`, this._steps[index]) ); this._toggleActive(index); if (index > this._activeStepIndex) { this._toggleCompleted(this._activeStepIndex); } if (this._currentView === STEPPER_HORIZONTAL) { this._animateHorizontalStep(index); } else { this._animateVerticalStep(index); this._setSingleStepHeight(this._steps[index]); } this._toggleStepTabIndex( SelectorEngine.findOne(`${HEAD_REF}`, this.activeStep), SelectorEngine.findOne(`${HEAD_REF}`, this._steps[index]) ); this._activeStepIndex = index; this._steps[this._activeStepIndex].setAttribute("data-te", "active-step"); this._steps.forEach((step, index) => { if (step[this._activeStepIndex] !== index) { step.removeAttribute("data-te"); } }); } _resetStepperHeight() { this._element.style.height = ""; } _setStepsHeight() { this._steps.forEach((el) => { const stepContent = SelectorEngine.findOne(`${CONTENT_REF}`, el); const stepComputed = window.getComputedStyle(stepContent); this._verticalStepperStyles.push({ paddingTop: parseFloat(stepComputed.paddingTop), paddingBottom: parseFloat(stepComputed.paddingBottom), }); const stepHeight = stepContent.scrollHeight; stepContent.style.height = `${stepHeight}px`; }); } _setSingleStepHeight(step) { const stepContent = SelectorEngine.findOne(`${CONTENT_REF}`, step); const isActiveStep = this.activeStep === step; const stepIndex = this._steps.indexOf(step); let stepContentHeight; if (!isActiveStep) { stepContentHeight = stepContent.scrollHeight + this._verticalStepperStyles[stepIndex].paddingTop + this._verticalStepperStyles[stepIndex].paddingBottom; } else { stepContent.style.height = ""; stepContentHeight = stepContent.scrollHeight; } stepContent.style.height = `${stepContentHeight}px`; } _toggleVertical() { this._currentView = STEPPER_VERTICAL; this._setStepsHeight(); this._hideInactiveSteps(); } _toggleHorizontal() { this._currentView = STEPPER_HORIZONTAL; this._setHeight(this.activeStep); this._hideInactiveSteps(); } _toggleStepperClass() { const vertical = SelectorEngine.findOne( "[data-te-stepper-type]", this._element ); if (vertical !== null) { this._steps.forEach((el) => { SelectorEngine.findOne(`${CONTENT_REF}`, el).classList.remove("!my-0"); SelectorEngine.findOne(`${CONTENT_REF}`, el).classList.remove("!py-0"); SelectorEngine.findOne(`${CONTENT_REF}`, el).classList.remove("!h-0"); }); } } _toggleStepClass(index, action, className) { // condition to prevent errors if the user has not set any custom classes like active, disabled etc. if (className) { this._steps[index].classList[action](className); } } _bindKeysNavigation() { this._toggleStepTabIndex( false, SelectorEngine.findOne(`${HEAD_REF}`, this.activeStep) ); this._steps.forEach((el) => { const stepHead = SelectorEngine.findOne(`${HEAD_REF}`, el); EventHandler.on(stepHead, EVENT_KEYDOWN, (e) => { const focusedStep = SelectorEngine.parents( e.currentTarget, `${STEP_REF}` )[0]; const nextStep = SelectorEngine.next(focusedStep, `${STEP_REF}`)[0]; const prevStep = SelectorEngine.prev(focusedStep, `${STEP_REF}`)[0]; const focusedStepHead = SelectorEngine.findOne( `${HEAD_REF}`, focusedStep ); const activeStepHead = SelectorEngine.findOne( `${HEAD_REF}`, this.activeStep ); let nextStepHead = null; let prevStepHead = null; if (nextStep) { nextStepHead = SelectorEngine.findOne(`${HEAD_REF}`, nextStep); } if (prevStep) { prevStepHead = SelectorEngine.findOne(`${HEAD_REF}`, prevStep); } if ( e.keyCode === LEFT_ARROW && this._currentView !== STEPPER_VERTICAL ) { if (prevStepHead) { this._toggleStepTabIndex(focusedStepHead, prevStepHead); this._toggleOutlineStyles(focusedStepHead, prevStepHead); prevStepHead.focus(); } else if (nextStepHead) { this._toggleStepTabIndex(focusedStepHead, nextStepHead); this._toggleOutlineStyles(focusedStepHead, nextStepHead); nextStepHead.focus(); } } if ( e.keyCode === RIGHT_ARROW && this._currentView !== STEPPER_VERTICAL ) { if (nextStepHead) { this._toggleStepTabIndex(focusedStepHead, nextStepHead); this._toggleOutlineStyles(focusedStepHead, nextStepHead); nextStepHead.focus(); } else if (prevStepHead) { this._toggleStepTabIndex(focusedStepHead, prevStepHead); this._toggleOutlineStyles(focusedStepHead, prevStepHead); prevStepHead.focus(); } } if ( e.keyCode === DOWN_ARROW && this._currentView === STEPPER_VERTICAL ) { e.preventDefault(); if (nextStepHead) { this._toggleStepTabIndex(focusedStepHead, nextStepHead); this._toggleOutlineStyles(focusedStepHead, nextStepHead); nextStepHead.focus(); } } if (e.keyCode === UP_ARROW && this._currentView === STEPPER_VERTICAL) { e.preventDefault(); if (prevStepHead) { this._toggleStepTabIndex(focusedStepHead, prevStepHead); this._toggleOutlineStyles(focusedStepHead, prevStepHead); prevStepHead.focus(); } } if (e.keyCode === HOME) { const firstStepHead = SelectorEngine.findOne( `${HEAD_REF}`, this._steps[0] ); this._toggleStepTabIndex(focusedStepHead, firstStepHead); this._toggleOutlineStyles(focusedStepHead, firstStepHead); firstStepHead.focus(); } if (e.keyCode === END) { const lastStep = this._steps[this._steps.length - 1]; const lastStepHead = SelectorEngine.findOne(`${HEAD_REF}`, lastStep); this._toggleStepTabIndex(focusedStepHead, lastStepHead); this._toggleOutlineStyles(focusedStepHead, lastStepHead); lastStepHead.focus(); } if (e.keyCode === ENTER || e.keyCode === SPACE) { e.preventDefault(); this.changeStep(this._steps.indexOf(focusedStep)); } if (e.keyCode === TAB) { this._toggleStepTabIndex(focusedStepHead, activeStepHead); this._toggleOutlineStyles(focusedStepHead, false); activeStepHead.focus(); } }); EventHandler.on(stepHead, EVENT_KEYUP, (e) => { const focusedStep = SelectorEngine.parents( e.currentTarget, `${STEP_REF}` )[0]; const focusedStepHead = SelectorEngine.findOne( `${HEAD_REF}`, focusedStep ); const activeStepHead = SelectorEngine.findOne( `${HEAD_REF}`, this.activeStep ); if (e.keyCode === TAB) { this._toggleStepTabIndex(focusedStepHead, activeStepHead); this._toggleOutlineStyles(false, activeStepHead); activeStepHead.focus(); } }); }); } _toggleStepTabIndex(focusedElement, newTarget) { if (focusedElement) { focusedElement.setAttribute("tabIndex", -1); } if (newTarget) { newTarget.setAttribute("tabIndex", 0); } } _toggleOutlineStyles(focusedElement, newTarget) { if (focusedElement) { focusedElement.style.outline = ""; } if (newTarget) { newTarget.style.outline = "revert"; } } _toggleDisabled() { const stepperHead = SelectorEngine.find(`${HEAD_REF}`, this._element); const stepperHeadIcon = SelectorEngine.find( `${HEAD_ICON_REF}`, this._element ); stepperHead[this._activeStepIndex].classList.add("color-[#858585]"); stepperHead[this._activeStepIndex].classList.add("cursor-default"); stepperHeadIcon[this._activeStepIndex].classList.add("!bg-[#858585]"); this._toggleStepClass( this._activeStepIndex, "add", this._options.stepperDisabled ); } _toggleActive(index) { const stepperHeadText = SelectorEngine.find( `${HEAD_TEXT_REF}`, this._element ); const stepperHeadIcon = SelectorEngine.find( `${HEAD_ICON_REF}`, this._element ); stepperHeadText[index].classList.add("font-medium"); stepperHeadIcon[index].classList.add("!bg-primary-100"); stepperHeadIcon[index].classList.add("!text-primary-700"); stepperHeadIcon[index].classList.remove("!bg-success-100"); stepperHeadIcon[index].classList.remove("!text-success-700"); stepperHeadText[this._activeStepIndex].classList.remove("font-medium"); stepperHeadIcon[this._activeStepIndex].classList.remove("!bg-primary-100"); stepperHeadIcon[this._activeStepIndex].classList.remove( "!text-primary-700" ); this._toggleStepClass(index, "add", this._options.stepperActive); this._toggleStepClass( this._activeStepIndex, "remove", this._options.stepperActive ); } _toggleCompleted(index) { const stepperHeadIcon = SelectorEngine.find( `${HEAD_ICON_REF}`, this._element ); stepperHeadIcon[index].classList.add("!bg-success-100"); stepperHeadIcon[index].classList.add("!text-success-700"); stepperHeadIcon[index].classList.remove("!bg-danger-100"); stepperHeadIcon[index].classList.remove("!text-danger-700"); this._toggleStepClass(index, "add", this._options.stepperCompleted); this._toggleStepClass(index, "remove", this._options.stepperInvalid); } _hideInactiveSteps() { this._steps.forEach((el) => { if (!el.getAttribute("data-te")) { this._hideElement(SelectorEngine.findOne(`${CONTENT_REF}`, el)); } }); } _setHeight(stepElement) { const stepContent = SelectorEngine.findOne(`${CONTENT_REF}`, stepElement); const contentStyle = getComputedStyle(stepContent); const stepHead = SelectorEngine.findOne(`${HEAD_REF}`, stepElement); const headStyle = getComputedStyle(stepHead); const stepContentHeight = stepContent.offsetHeight + parseFloat(contentStyle.marginTop) + parseFloat(contentStyle.marginBottom); const stepHeadHeight = stepHead.offsetHeight + parseFloat(headStyle.marginTop) + parseFloat(headStyle.marginBottom); this._element.style.height = `${stepHeadHeight + stepContentHeight}px`; } _hideElement(stepContent) { const isActive = SelectorEngine.parents( stepContent, `${STEP_REF}` )[0].getAttribute("data-te"); // prevent hiding during a quick step change if (!isActive && this._currentView !== STEPPER_VERTICAL) { // stepContent.style.display = 'none'; } else { stepContent.classList.add("!my-0"); stepContent.classList.add("!py-0"); stepContent.classList.add("!h-0"); } } _showElement(stepContent) { if (this._currentView === STEPPER_VERTICAL) { stepContent.classList.remove("!my-0"); stepContent.classList.remove("!py-0"); stepContent.classList.remove("!h-0"); } else { stepContent.style.display = "block"; } } _animateHorizontalStep(index) { const isForward = index > this._activeStepIndex; const nextStepContent = SelectorEngine.findOne( `${CONTENT_REF}`, this._steps[index] ); const activeStepContent = SelectorEngine.findOne( `${CONTENT_REF}`, this.activeStep ); let nextStepAnimation; let activeStepAnimation; this._steps.forEach((el, i) => { const stepContent = SelectorEngine.findOne(`${CONTENT_REF}`, el); if (i !== index && i !== this._activeStepIndex) { this._hideElement(stepContent); } }); const CLASS_NAME_SLIDE_RIGHT = "translate-x-[150%]"; const CLASS_NAME_SLIDE_LEFT = "-translate-x-[150%]"; const CLASS_NAME_SLIDE_IN = "translate-0"; if (isForward) { activeStepAnimation = CLASS_NAME_SLIDE_LEFT; nextStepAnimation = CLASS_NAME_SLIDE_IN; nextStepContent.classList.remove("translate-x-[150%]"); nextStepContent.classList.remove("-translate-x-[150%]"); } else { activeStepAnimation = CLASS_NAME_SLIDE_RIGHT; nextStepAnimation = CLASS_NAME_SLIDE_IN; nextStepContent.classList.remove("-translate-x-[150%]"); nextStepContent.classList.remove("translate-x-[150%]"); } activeStepContent.classList.add(activeStepAnimation); nextStepContent.classList.add(nextStepAnimation); this._setHeight(this._steps[index]); } _animateVerticalStep(index) { const nextStepContent = SelectorEngine.findOne( `${CONTENT_REF}`, this._steps[index] ); const activeStepContent = SelectorEngine.findOne( `${CONTENT_REF}`, this.activeStep ); this._hideElement(activeStepContent); this._showElement(nextStepContent); } static getInstance(element) { return Data.getData(element, DATA_KEY); } static getOrCreateInstance(element, config = {}) { return ( this.getInstance(element) || new this(element, typeof config === "object" ? config : null) ); } } export default Stepper; ",
  "/* -------------------------------------------------------------------------- Tailwind Elements is an open-source UI kit of advanced components for TailwindCSS. Copyright © 2023 MDBootstrap.com Unless a custom, individually assigned license has been granted, this program is free software: you can redistribute it and/or modify it under the terms of the GNU Affero General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. In addition, a custom license may be available upon request, subject to the terms and conditions of that license. Please contact tailwind@mdbootstrap.com for more information on obtaining a custom license. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero General Public License for more details. -------------------------------------------------------------------------- */ import SelectorEngine from "../../dom/selector-engine"; const DATA_ACTIVE = "data-te-input-state-active"; const DATA_SELECTED = "data-te-input-selected"; const DATA_MULTIPLE_ACTIVE = "data-te-input-multiple-active"; const SELECTOR_FORM_CHECK_INPUT = "[data-te-form-check-input]"; class SelectOption { constructor( id, nativeOption, multiple, value, label, selected, disabled, hidden, secondaryText, groupId, icon ) { this.id = id; this.nativeOption = nativeOption; this.multiple = multiple; this.value = value; this.label = label; this.selected = selected; this.disabled = disabled; this.hidden = hidden; this.secondaryText = secondaryText; this.groupId = groupId; this.icon = icon; this.node = null; this.active = false; } select() { if (this.multiple) { this._selectMultiple(); } else { this._selectSingle(); } } _selectSingle() { if (!this.selected) { this.node.setAttribute(DATA_SELECTED, ""); this.node.setAttribute("aria-selected", true); this.selected = true; if (this.nativeOption) { this.nativeOption.selected = true; } } } _selectMultiple() { if (!this.selected) { const checkbox = SelectorEngine.findOne( SELECTOR_FORM_CHECK_INPUT, this.node ); checkbox.checked = true; this.node.setAttribute(DATA_SELECTED, ""); this.node.setAttribute("aria-selected", true); this.selected = true; if (this.nativeOption) { this.nativeOption.selected = true; } } } deselect() { if (this.multiple) { this._deselectMultiple(); } else { this._deselectSingle(); } } _deselectSingle() { if (this.selected) { this.node.removeAttribute(DATA_SELECTED); this.node.setAttribute("aria-selected", false); this.selected = false; if (this.nativeOption) { this.nativeOption.selected = false; } } } _deselectMultiple() { if (this.selected) { const checkbox = SelectorEngine.findOne( SELECTOR_FORM_CHECK_INPUT, this.node ); checkbox.checked = false; this.node.removeAttribute(DATA_SELECTED); this.node.setAttribute("aria-selected", false); this.selected = false; if (this.nativeOption) { this.nativeOption.selected = false; } } } setNode(node) { this.node = node; } setActiveStyles() { if (!this.active) { if (this.multiple) { this.node.setAttribute(DATA_MULTIPLE_ACTIVE, ""); return; } this.active = true; this.node.setAttribute(DATA_ACTIVE, ""); } } removeActiveStyles() { if (this.active) { this.active = false; this.node.removeAttribute(DATA_ACTIVE); } if (this.multiple) { this.node.removeAttribute(DATA_MULTIPLE_ACTIVE); } } } export default SelectOption; ",
  "/* -------------------------------------------------------------------------- Tailwind Elements is an open-source UI kit of advanced components for TailwindCSS. Copyright © 2023 MDBootstrap.com Unless a custom, individually assigned license has been granted, this program is free software: you can redistribute it and/or modify it under the terms of the GNU Affero General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. In addition, a custom license may be available upon request, subject to the terms and conditions of that license. Please contact tailwind@mdbootstrap.com for more information on obtaining a custom license. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero General Public License for more details. -------------------------------------------------------------------------- */ class SelectionModel { constructor(multiple = false) { this._multiple = multiple; this._selections = []; } select(option) { if (this._multiple) { this._selections.push(option); } else { this._selections = [option]; } } deselect(option) { if (this._multiple) { const optionIndex = this._selections.findIndex( (selection) => option === selection ); this._selections.splice(optionIndex, 1); } else { this._selections = []; } } clear() { this._selections = []; } get selection() { return this._selections[0]; } get selections() { return this._selections; } get label() { return this._selections[0] && this.selection.label; } get labels() { return this._selections.map((selection) => selection.label).join(", "); } get value() { return this.selections[0] && this.selection.value; } get values() { return this._selections.map((selection) => selection.value); } } export default SelectionModel; ",
  "/* -------------------------------------------------------------------------- Tailwind Elements is an open-source UI kit of advanced components for TailwindCSS. Copyright © 2023 MDBootstrap.com Unless a custom, individually assigned license has been granted, this program is free software: you can redistribute it and/or modify it under the terms of the GNU Affero General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. In addition, a custom license may be available upon request, subject to the terms and conditions of that license. Please contact tailwind@mdbootstrap.com for more information on obtaining a custom license. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero General Public License for more details. -------------------------------------------------------------------------- */ export default function allOptionsSelected(options) { return options .filter((option) => !option.disabled) .every((option) => { return option.selected; }); } ",
  "/* -------------------------------------------------------------------------- Tailwind Elements is an open-source UI kit of advanced components for TailwindCSS. Copyright © 2023 MDBootstrap.com Unless a custom, individually assigned license has been granted, this program is free software: you can redistribute it and/or modify it under the terms of the GNU Affero General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. In addition, a custom license may be available upon request, subject to the terms and conditions of that license. Please contact tailwind@mdbootstrap.com for more information on obtaining a custom license. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero General Public License for more details. -------------------------------------------------------------------------- */ import { element } from "../../util/index"; import Manipulator from "../../dom/manipulator"; import allOptionsSelected from "./util"; const DATA_FORM_OUTLINE = "data-te-select-form-outline-ref"; const DATA_SELECT_WRAPPER = "data-te-select-wrapper-ref"; const DATA_SELECT_INPUT = "data-te-select-input-ref"; const DATA_CLEAR_BUTTON = "data-te-select-clear-btn-ref"; const DATA_SELECT_DROPDOWN_CONTAINER = "data-te-select-dropdown-container-ref"; const DATA_DROPDOWN = "data-te-select-dropdown-ref"; const DATA_OPTIONS_WRAPPER = "data-te-select-options-wrapper-ref"; const DATA_OPTIONS_LIST = "data-te-select-options-list-ref"; const DATA_FILTER_INPUT = "data-te-select-input-filter-ref"; const DATA_OPTION = "data-te-select-option-ref"; const DATA_OPTION_ALL = "data-te-select-option-all-ref"; const DATA_SELECT_OPTION_TEXT = "data-te-select-option-text-ref"; const DATA_FORM_CHECK_INPUT = "data-te-form-check-input"; const DATA_SELECT_OPTION_GROUP = "data-te-select-option-group-ref"; const DATA_SELECT_OPTION_GROUP_LABEL = "data-te-select-option-group-label-ref"; const DATA_SELECTED = "data-te-select-selected"; const iconSVGTemplate = ` <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"> <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5" /> </svg> `; const preventKeydown = (event) => { if (event.code === "Tab" || event.code === "Esc") { return; } event.preventDefault(); }; function _setSizeClasses(element, config, defaultSize, smSize, lgSize) { if (config.selectSize === "default") { Manipulator.addClass(element, defaultSize); } if (config.selectSize === "sm") { Manipulator.addClass(element, smSize); } if (config.selectSize === "lg") { Manipulator.addClass(element, lgSize); } } export function getWrapperTemplate(id, config, label, classes) { const wrapper = document.createElement("div"); wrapper.setAttribute("id", id); wrapper.setAttribute(DATA_SELECT_WRAPPER, ""); const formOutline = element("div"); formOutline.setAttribute(DATA_FORM_OUTLINE, ""); Manipulator.addClass(formOutline, classes.formOutline); const input = element("input"); const role = config.selectFilter ? "combobox" : "listbox"; const multiselectable = config.multiple ? "true" : "false"; const disabled = config.disabled ? "true" : "false"; input.setAttribute(DATA_SELECT_INPUT, ""); Manipulator.addClass(input, classes.selectInput); _setSizeClasses( input, config, classes.selectInputSizeDefault, classes.selectInputSizeSm, classes.selectInputSizeLg ); if (config.selectFormWhite) { Manipulator.addClass(input, classes.selectInputWhite); } input.setAttribute("type", "text"); input.setAttribute("role", role); input.setAttribute("aria-multiselectable", multiselectable); input.setAttribute("aria-disabled", disabled); input.setAttribute("aria-haspopup", "true"); input.setAttribute("aria-expanded", false); if (config.tabIndex) { input.setAttribute("tabIndex", config.tabIndex); } if (config.disabled) { input.setAttribute("disabled", ""); } if (config.selectPlaceholder !== "") { input.setAttribute("placeholder", config.selectPlaceholder); } if (config.selectValidation) { Manipulator.addStyle(input, { "pointer-events": "none", "caret-color": "transparent", }); Manipulator.addStyle(formOutline, { cursor: "pointer" }); } else { input.setAttribute("readonly", "true"); } if (config.selectValidation) { input.setAttribute("required", "true"); input.setAttribute("aria-required", "true"); input.addEventListener("keydown", preventKeydown); } const validFeedback = element("div"); Manipulator.addClass(validFeedback, classes.selectValidationValid); const validFeedBackText = document.createTextNode( `${config.selectValidFeedback}` ); validFeedback.appendChild(validFeedBackText); const invalidFeedback = element("div"); Manipulator.addClass(invalidFeedback, classes.selectValidationInvalid); const invalidFeedBackText = document.createTextNode( `${config.selectInvalidFeedback}` ); invalidFeedback.appendChild(invalidFeedBackText); const clearBtn = element("span"); clearBtn.setAttribute(DATA_CLEAR_BUTTON, ""); Manipulator.addClass(clearBtn, classes.selectClearBtn); _setSizeClasses( clearBtn, config, classes.selectClearBtnDefault, classes.selectClearBtnSm, classes.selectClearBtnLg ); if (config.selectFormWhite) { Manipulator.addClass(clearBtn, classes.selectClearBtnWhite); } const clearBtnText = document.createTextNode("\u2715"); clearBtn.appendChild(clearBtnText); clearBtn.setAttribute("tabindex", "0"); const arrow = element("span"); Manipulator.addClass(arrow, classes.selectArrow); _setSizeClasses( arrow, config, classes.selectArrowDefault, classes.selectArrowSm, classes.selectArrowLg ); if (config.selectFormWhite) { Manipulator.addClass(arrow, classes.selectArrowWhite); } arrow.innerHTML = iconSVGTemplate; formOutline.appendChild(input); if (label) { Manipulator.addClass(label, classes.selectLabel); _setSizeClasses( label, config, classes.selectLabelSizeDefault, classes.selectLabelSizeSm, classes.selectLabelSizeLg ); if (config.selectFormWhite) { Manipulator.addClass(label, classes.selectLabelWhite); } formOutline.appendChild(label); } if (config.selectValidation) { formOutline.appendChild(validFeedback); formOutline.appendChild(invalidFeedback); } if (config.selectClearButton) { formOutline.appendChild(clearBtn); } formOutline.appendChild(arrow); wrapper.appendChild(formOutline); return wrapper; } export function getDropdownTemplate( id, config, width, height, selectAllOption, options, customContent, classes ) { const dropdownContainer = document.createElement("div"); dropdownContainer.setAttribute(DATA_SELECT_DROPDOWN_CONTAINER, ""); Manipulator.addClass(dropdownContainer, classes.selectDropdownContainer); dropdownContainer.setAttribute("id", `${id}`); dropdownContainer.style.width = `${width}px`; const dropdown = document.createElement("div"); dropdown.setAttribute("tabindex", 0); dropdown.setAttribute(DATA_DROPDOWN, ""); Manipulator.addClass(dropdown, classes.dropdown); const optionsWrapper = element("div"); optionsWrapper.setAttribute(DATA_OPTIONS_WRAPPER, ""); Manipulator.addClass(optionsWrapper, classes.optionsWrapper); Manipulator.addClass(optionsWrapper, classes.optionsWrapperScrollbar); optionsWrapper.style.maxHeight = `${height}px`; const optionsList = getOptionsListTemplate( options, selectAllOption, config, classes ); optionsWrapper.appendChild(optionsList); if (config.selectFilter) { dropdown.appendChild( getFilterTemplate(config.selectSearchPlaceholder, classes) ); } dropdown.appendChild(optionsWrapper); if (customContent) { dropdown.appendChild(customContent); } dropdownContainer.appendChild(dropdown); return dropdownContainer; } export function getOptionsListTemplate( options, selectAllOption, config, classes ) { const optionsList = element("div"); optionsList.setAttribute(DATA_OPTIONS_LIST, ""); Manipulator.addClass(optionsList, classes.optionsList); let optionsNodes; if (config.multiple) { optionsNodes = getMultipleOptionsNodes( options, selectAllOption, config, classes ); } else { optionsNodes = getSingleOptionsNodes(options, config, classes); } optionsNodes.forEach((node) => { optionsList.appendChild(node); }); return optionsList; } export function getFilterTemplate(placeholder, classes) { const inputGroup = element("div"); Manipulator.addClass(inputGroup, classes.inputGroup); const input = element("input"); input.setAttribute(DATA_FILTER_INPUT, ""); Manipulator.addClass(input, classes.selectFilterInput); input.placeholder = placeholder; input.setAttribute("role", "searchbox"); input.setAttribute("type", "text"); inputGroup.appendChild(input); return inputGroup; } function getSingleOptionsNodes(options, config, classes) { const nodes = getOptionsNodes(options, config, classes); return nodes; } function getMultipleOptionsNodes(options, selectAllOption, config, classes) { let selectAllNode = null; if (config.selectAll) { selectAllNode = createSelectAllNode( selectAllOption, options, config, classes ); } const optionsNodes = getOptionsNodes(options, config, classes); const nodes = selectAllNode ? [selectAllNode, ...optionsNodes] : optionsNodes; return nodes; } function getOptionsNodes(options, config, classes) { const nodes = []; options.forEach((option) => { const isOptionGroup = Object.prototype.hasOwnProperty.call( option, "options" ); if (isOptionGroup) { const group = createOptionGroupTemplate(option, config, classes); nodes.push(group); } else { nodes.push(createOptionTemplate(option, config, classes)); } }); return nodes; } function createSelectAllNode(option, options, config, classes) { const isSelected = allOptionsSelected(options); const optionNode = element("div"); optionNode.setAttribute(DATA_OPTION, ""); Manipulator.addClass(optionNode, classes.selectOption); optionNode.setAttribute(DATA_OPTION_ALL, ""); Manipulator.addStyle(optionNode, { height: `${config.selectOptionHeight}px`, }); optionNode.setAttribute("role", "option"); optionNode.setAttribute("aria-selected", isSelected); if (isSelected) { optionNode.setAttribute(DATA_SELECTED, ""); } optionNode.appendChild(getOptionContentTemplate(option, config, classes)); option.setNode(optionNode); return optionNode; } function createOptionTemplate(option, config, classes) { if (option.node) { return option.node; } const optionNode = element("div"); optionNode.setAttribute(DATA_OPTION, ""); Manipulator.addClass(optionNode, classes.selectOption); Manipulator.addStyle(optionNode, { height: `${config.selectOptionHeight}px`, }); Manipulator.setDataAttribute(optionNode, "id", option.id); optionNode.setAttribute("role", "option"); optionNode.setAttribute("aria-selected", option.selected); optionNode.setAttribute("aria-disabled", option.disabled); if (option.selected) { optionNode.setAttribute(DATA_SELECTED, ""); } if (option.disabled) { optionNode.setAttribute("data-te-select-option-disabled", true); } if (option.hidden) { Manipulator.addClass(optionNode, "hidden"); } optionNode.appendChild(getOptionContentTemplate(option, config, classes)); if (option.icon) { optionNode.appendChild(getOptionIconTemplate(option, classes)); } option.setNode(optionNode); return optionNode; } function getOptionContentTemplate(option, config, classes) { const content = element("span"); content.setAttribute(DATA_SELECT_OPTION_TEXT, ""); Manipulator.addClass(content, classes.selectOptionText); const label = document.createTextNode(option.label); if (config.multiple) { content.appendChild(getCheckboxTemplate(option, classes)); } content.appendChild(label); if (option.secondaryText || typeof option.secondaryText === "number") { content.appendChild( getSecondaryTextTemplate(option.secondaryText, classes) ); } return content; } function getSecondaryTextTemplate(text, classes) { const span = element("span"); Manipulator.addClass(span, classes.selectOptionSecondaryText); const textContent = document.createTextNode(text); span.appendChild(textContent); return span; } function getCheckboxTemplate(option, classes) { const checkbox = element("input"); checkbox.setAttribute("type", "checkbox"); Manipulator.addClass(checkbox, classes.formCheckInput); checkbox.setAttribute(DATA_FORM_CHECK_INPUT, ""); const label = element("label"); if (option.selected) { checkbox.setAttribute("checked", true); } if (option.disabled) { checkbox.setAttribute("disabled", true); } checkbox.appendChild(label); return checkbox; } function getOptionIconTemplate(option, classes) { const container = element("span"); const image = element("img"); Manipulator.addClass(image, classes.selectOptionIcon); image.src = option.icon; container.appendChild(image); return container; } function createOptionGroupTemplate(optionGroup, config, classes) { const group = element("div"); group.setAttribute(DATA_SELECT_OPTION_GROUP, ""); Manipulator.addClass(group, classes.selectOptionGroup); group.setAttribute("role", "group"); group.setAttribute("id", optionGroup.id); if (optionGroup.hidden) { Manipulator.addClass(group, "hidden"); } const label = element("label"); label.setAttribute(DATA_SELECT_OPTION_GROUP_LABEL, ""); Manipulator.addClass(label, classes.selectOptionGroupLabel); Manipulator.addStyle(label, { height: `${config.selectOptionHeight}px` }); label.setAttribute("for", optionGroup.id); label.textContent = optionGroup.label; group.appendChild(label); optionGroup.options.forEach((option) => { group.appendChild(createOptionTemplate(option, config, classes)); }); return group; } export function getFakeValueTemplate(value, classes) { const fakeValue = element("div"); fakeValue.innerHTML = value; Manipulator.addClass(fakeValue, classes.selectLabel); Manipulator.addClass(fakeValue, classes.selectFakeValue); return fakeValue; } ",
  "/* -------------------------------------------------------------------------- Tailwind Elements is an open-source UI kit of advanced components for TailwindCSS. Copyright © 2023 MDBootstrap.com Unless a custom, individually assigned license has been granted, this program is free software: you can redistribute it and/or modify it under the terms of the GNU Affero General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. In addition, a custom license may be available upon request, subject to the terms and conditions of that license. Please contact tailwind@mdbootstrap.com for more information on obtaining a custom license. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero General Public License for more details. -------------------------------------------------------------------------- */ import { createPopper } from "@popperjs/core"; import Data from "../../dom/data"; import EventHandler from "../../dom/event-handler"; import Manipulator from "../../dom/manipulator"; import SelectorEngine from "../../dom/selector-engine"; import { typeCheckConfig, getUID } from "../../util/index"; import Input from "../input"; import SelectOption from "./select-option"; import SelectionModel from "./selection-model"; import { ESCAPE, ENTER, DOWN_ARROW, UP_ARROW, HOME, END, TAB, } from "../../util/keycodes"; import allOptionsSelected from "./util"; import { getWrapperTemplate, getDropdownTemplate, getOptionsListTemplate, getFakeValueTemplate, } from "./templates"; const NAME = "select"; const DATA_KEY = "te.select"; const EVENT_KEY = `.${DATA_KEY}`; const EVENT_CLOSE = `close${EVENT_KEY}`; const EVENT_OPEN = `open${EVENT_KEY}`; const EVENT_SELECT = `optionSelect${EVENT_KEY}`; const EVENT_DESELECT = `optionDeselect${EVENT_KEY}`; const EVENT_VALUE_CHANGE = `valueChange${EVENT_KEY}`; const EVENT_CHANGE = "change"; const DATA_SELECT_INIT = "data-te-select-init"; const DATA_NO_RESULT = "data-te-select-no-results-ref"; const DATA_OPEN = "data-te-select-open"; const DATA_ACTIVE = "data-te-input-state-active"; const DATA_FOCUSED = "data-te-input-focused"; const DATA_DISABLED = "data-te-input-disabled"; const DATA_SELECT_OPTION_GROUP_LABEL = "data-te-select-option-group-label-ref"; const DATA_OPTION_ALL = "data-te-select-option-all-ref"; const DATA_SELECTED = "data-te-select-selected"; const SELECTOR_LABEL = "[data-te-select-label-ref]"; const SELECTOR_INPUT = "[data-te-select-input-ref]"; const SELECTOR_FILTER_INPUT = "[data-te-select-input-filter-ref]"; const SELECTOR_DROPDOWN = "[data-te-select-dropdown-ref]"; const SELECTOR_OPTIONS_WRAPPER = "[data-te-select-options-wrapper-ref]"; const SELECTOR_OPTIONS_LIST = "[data-te-select-options-list-ref]"; const SELECTOR_OPTION = "[data-te-select-option-ref]"; const SELECTOR_CLEAR_BUTTON = "[data-te-select-clear-btn-ref]"; const SELECTOR_CUSTOM_CONTENT = "[data-te-select-custom-content-ref]"; const SELECTOR_NO_RESULTS = `[${DATA_NO_RESULT}]`; const SELECTOR_FORM_OUTLINE = "[data-te-select-form-outline-ref]"; const SELECTOR_TOGGLE = "[data-te-select-toggle]"; const SELECTOR_NOTCH = "[data-te-input-notch-ref]"; const ANIMATION_TRANSITION_TIME = 200; const Default = { selectAutoSelect: false, selectContainer: "body", selectClearButton: false, disabled: false, selectDisplayedLabels: 5, selectFormWhite: false, multiple: false, selectOptionsSelectedLabel: "options selected", selectOptionHeight: 38, selectAll: true, selectAllLabel: "Select all", selectSearchPlaceholder: "Search...", selectSize: "default", selectVisibleOptions: 5, selectFilter: false, selectFilterDebounce: 300, selectNoResultText: "No results", selectValidation: false, selectValidFeedback: "Valid", selectInvalidFeedback: "Invalid", selectPlaceholder: "", }; const DefaultType = { selectAutoSelect: "boolean", selectContainer: "string", selectClearButton: "boolean", disabled: "boolean", selectDisplayedLabels: "number", selectFormWhite: "boolean", multiple: "boolean", selectOptionsSelectedLabel: "string", selectOptionHeight: "number", selectAll: "boolean", selectAllLabel: "string", selectSearchPlaceholder: "string", selectSize: "string", selectVisibleOptions: "number", selectFilter: "boolean", selectFilterDebounce: "number", selectNoResultText: "string", selectValidation: "boolean", selectValidFeedback: "string", selectInvalidFeedback: "string", selectPlaceholder: "string", }; const DefaultClasses = { dropdown: "relative outline-none min-w-[100px] m-0 scale-[0.8] opacity-0 bg-white shadow-[0_2px_5px_0_rgba(0,0,0,0.16),_0_2px_10px_0_rgba(0,0,0,0.12)] transition duration-200 motion-reduce:transition-none data-[te-select-open]:scale-100 data-[te-select-open]:opacity-100 dark:bg-zinc-700", formCheckInput: "relative float-left mt-[0.15rem] mr-[8px] h-[1.125rem] w-[1.125rem] appearance-none rounded-[0.25rem] border-[0.125rem] border-solid border-neutral-300 dark:border-neutral-600 outline-none before:pointer-events-none before:absolute before:h-[0.875rem] before:w-[0.875rem] before:scale-0 before:rounded-full before:bg-transparent before:opacity-0 before:shadow-[0px_0px_0px_13px_transparent] before:content-[''] checked:border-primary dark:checked:border-primary checked:bg-primary dark:checked:bg-primary checked:before:opacity-[0.16] checked:after:absolute checked:after:ml-[0.25rem] checked:after:-mt-px checked:after:block checked:after:h-[0.8125rem] checked:after:w-[0.375rem] checked:after:rotate-45 checked:after:border-[0.125rem] checked:after:border-t-0 checked:after:border-l-0 checked:after:border-solid checked:after:border-white checked:after:bg-transparent checked:after:content-[''] hover:cursor-pointer hover:before:opacity-[0.04] hover:before:shadow-[0px_0px_0px_13px_rgba(0,0,0,0.6)] focus:shadow-none focus:transition-[border-color_0.2s] focus:before:scale-100 focus:before:opacity-[0.12] focus:before:shadow-[0px_0px_0px_13px_rgba(0,0,0,0.6)] dark:focus:before:shadow-[0px_0px_0px_13px_rgba(255,255,255,0.4)] focus:before:transition-[box-shadow_0.2s,transform_0.2s] focus:after:absolute focus:after:z-[1] focus:after:block focus:after:h-[0.875rem] focus:after:w-[0.875rem] focus:after:rounded-[0.125rem] focus:after:content-[''] checked:focus:before:scale-100 checked:focus:before:shadow-[0px_0px_0px_13px_#3b71ca] dark:checked:focus:before:shadow-[0px_0px_0px_13px_#3b71ca] checked:focus:before:transition-[box-shadow_0.2s,transform_0.2s] checked:focus:after:ml-[0.25rem] checked:focus:after:-mt-px checked:focus:after:h-[0.8125rem] checked:focus:after:w-[0.375rem] checked:focus:after:rotate-45 checked:focus:after:rounded-none checked:focus:after:border-[0.125rem] checked:focus:after:border-t-0 checked:focus:after:border-l-0 checked:focus:after:border-solid checked:focus:after:border-white checked:focus:after:bg-transparent", formOutline: "relative", initialized: "hidden", inputGroup: "flex items-center whitespace-nowrap p-2.5 text-center text-base font-normal leading-[1.6] text-gray-700 dark:bg-zinc-800 dark:text-gray-200 dark:placeholder:text-gray-200", noResult: "flex items-center px-4", optionsList: "list-none m-0 p-0", optionsWrapper: "overflow-y-auto", optionsWrapperScrollbar: "[&::-webkit-scrollbar]:w-1 [&::-webkit-scrollbar]:h-1 [&::-webkit-scrollbar-button]:block [&::-webkit-scrollbar-button]:h-0 [&::-webkit-scrollbar-button]:bg-transparent [&::-webkit-scrollbar-track-piece]:bg-transparent [&::-webkit-scrollbar-track-piece]:rounded-none [&::-webkit-scrollbar-track-piece]: [&::-webkit-scrollbar-track-piece]:rounded-l [&::-webkit-scrollbar-thumb]:h-[50px] [&::-webkit-scrollbar-thumb]:bg-[#999] [&::-webkit-scrollbar-thumb]:rounded", selectArrow: "absolute right-3 text-[0.8rem] cursor-pointer peer-focus:text-primary peer-data-[te-input-focused]:text-primary group-data-[te-was-validated]/validation:peer-valid:text-green-600 group-data-[te-was-validated]/validation:peer-invalid:text-[rgb(220,76,100)] w-5 h-5", selectArrowWhite: "text-gray-50 peer-focus:!text-white peer-data-[te-input-focused]:!text-white", selectArrowDefault: "top-2", selectArrowLg: "top-[13px]", selectArrowSm: "top-1", selectClearBtn: "absolute top-2 right-9 text-black cursor-pointer focus:text-primary outline-none dark:text-gray-200", selectClearBtnWhite: "!text-gray-50", selectClearBtnDefault: "top-2 text-base", selectClearBtnLg: "top-[11px] text-base", selectClearBtnSm: "top-1 text-[0.8rem]", selectDropdownContainer: "z-[1070]", selectFakeValue: "transform-none hidden data-[te-input-state-active]:block", selectFilterInput: "relative m-0 block w-full min-w-0 flex-auto rounded border border-solid border-gray-300 bg-transparent bg-clip-padding px-3 py-1.5 text-base font-normal text-gray-700 transition duration-300 ease-in-out motion-reduce:transition-none focus:border-primary focus:text-gray-700 focus:shadow-te-primary focus:outline-none dark:text-gray-200 dark:placeholder:text-gray-200", selectInput: "peer block min-h-[auto] w-full rounded border-0 bg-transparent outline-none transition-all duration-200 ease-linear focus:placeholder:opacity-100 data-[te-input-state-active]:placeholder:opacity-100 motion-reduce:transition-none dark:text-gray-200 dark:placeholder:text-gray-200 [&:not([data-te-input-placeholder-active])]:placeholder:opacity-0 cursor-pointer data-[te-input-disabled]:bg-[#e9ecef] data-[te-input-disabled]:cursor-default group-data-[te-was-validated]/validation:mb-4 dark:data-[te-input-disabled]:bg-zinc-600", selectInputWhite: "!text-gray-50", selectInputSizeDefault: "py-[0.32rem] px-3 leading-[1.6]", selectInputSizeLg: "py-[0.32rem] px-3 leading-[2.15]", selectInputSizeSm: "py-[0.33rem] px-3 text-xs leading-[1.5]", selectLabel: "pointer-events-none absolute top-0 left-3 mb-0 max-w-[90%] origin-[0_0] truncate text-gray-500 transition-all duration-200 ease-out peer-focus:scale-[0.8] peer-focus:text-primary peer-data-[te-input-state-active]:scale-[0.8] motion-reduce:transition-none dark:text-gray-200 dark:peer-focus:text-gray-200 data-[te-input-state-active]:scale-[0.8] dark:peer-focus:text-primary", selectLabelWhite: "!text-gray-50", selectLabelSizeDefault: "pt-[0.37rem] leading-[1.6] peer-focus:-translate-y-[0.9rem] peer-data-[te-input-state-active]:-translate-y-[0.9rem] data-[te-input-state-active]:-translate-y-[0.9rem]", selectLabelSizeLg: "pt-[0.37rem] leading-[2.15] peer-focus:-translate-y-[1.15rem] peer-data-[te-input-state-active]:-translate-y-[1.15rem] data-[te-input-state-active]:-translate-y-[1.15rem]", selectLabelSizeSm: "pt-[0.37rem] text-xs leading-[1.5] peer-focus:-translate-y-[0.75rem] peer-data-[te-input-state-active]:-translate-y-[0.75rem] data-[te-input-state-active]:-translate-y-[0.75rem]", selectOption: "flex flex-row items-center justify-between w-full px-4 truncate text-gray-700 bg-transparent select-none cursor-pointer data-[te-input-multiple-active]:bg-black/5 hover:[&:not([data-te-select-option-disabled])]:bg-black/5 data-[te-input-state-active]:bg-black/5 data-[te-select-option-selected]:data-[te-input-state-active]:bg-black/5 data-[te-select-selected]:data-[te-select-option-disabled]:cursor-default data-[te-select-selected]:data-[te-select-option-disabled]:text-gray-400 data-[te-select-selected]:data-[te-select-option-disabled]:bg-transparent data-[te-select-option-selected]:bg-black/[0.02] data-[te-select-option-disabled]:text-gray-400 data-[te-select-option-disabled]:cursor-default group-data-[te-select-option-group-ref]/opt:pl-7 dark:text-gray-200 dark:hover:[&:not([data-te-select-option-disabled])]:bg-white/30 dark:data-[te-input-state-active]:bg-white/30 dark:data-[te-select-option-selected]:data-[te-input-state-active]:bg-white/30 dark:data-[te-select-option-disabled]:text-gray-400 dark:data-[te-input-multiple-active]:bg-white/30", selectOptionGroup: "group/opt", selectOptionGroupLabel: "flex flex-row items-center w-full px-4 truncate bg-transparent text-black/50 select-none dark:text-gray-300", selectOptionIcon: "w-7 h-7 rounded-full", selectOptionSecondaryText: "block text-[0.8rem] text-gray-500 dark:text-gray-300", selectOptionText: "group", selectValidationValid: "hidden absolute -mt-3 w-auto text-sm text-green-600 cursor-pointer group-data-[te-was-validated]/validation:peer-valid:block", selectValidationInvalid: "hidden absolute -mt-3 w-auto text-sm text-[rgb(220,76,100)] cursor-pointer group-data-[te-was-validated]/validation:peer-invalid:block", }; const DefaultClassesType = { dropdown: "string", formCheckInput: "string", formOutline: "string", initialized: "string", inputGroup: "string", noResult: "string", optionsList: "string", optionsWrapper: "string", optionsWrapperScrollbar: "string", selectArrow: "string", selectArrowDefault: "string", selectArrowLg: "string", selectArrowSm: "string", selectClearBtn: "string", selectClearBtnDefault: "string", selectClearBtnLg: "string", selectClearBtnSm: "string", selectDropdownContainer: "string", selectFakeValue: "string", selectFilterInput: "string", selectInput: "string", selectInputSizeDefault: "string", selectInputSizeLg: "string", selectInputSizeSm: "string", selectLabel: "string", selectLabelSizeDefault: "string", selectLabelSizeLg: "string", selectLabelSizeSm: "string", selectOption: "string", selectOptionGroup: "string", selectOptionGroupLabel: "string", selectOptionIcon: "string", selectOptionSecondaryText: "string", selectOptionText: "string", }; class Select { constructor(element, config, classes) { this._element = element; this._config = this._getConfig(config); this._classes = this._getClasses(classes); this._optionsToRender = this._getOptionsToRender(element); // optionsToRender may contain option groups and nested options, in this case // we need a list of plain options to manage selections and keyboard navigation this._plainOptions = this._getPlainOptions(this._optionsToRender); this._filteredOptionsList = null; this._selectionModel = new SelectionModel(this.multiple); this._activeOptionIndex = -1; this._activeOption = null; this._wrapperId = getUID("select-wrapper-"); this._dropdownContainerId = getUID("select-dropdown-container-"); this._selectAllId = getUID("select-all-"); this._debounceTimeoutId = null; this._dropdownHeight = this._config.selectOptionHeight * this._config.selectVisibleOptions; this._popper = null; this._input = null; this._label = SelectorEngine.next(this._element, SELECTOR_LABEL)[0]; this._notch = null; this._fakeValue = null; this._isFakeValueActive = false; this._customContent = SelectorEngine.next( element, SELECTOR_CUSTOM_CONTENT )[0]; this._toggleButton = null; this._elementToggle = null; this._wrapper = null; this._inputEl = null; this._dropdownContainer = null; this._container = null; this._selectAllOption = null; this._init(); this._mutationObserver = null; this._isOpen = false; this._addMutationObserver(); if (this._element) { Data.setData(element, DATA_KEY, this); } } static get NAME() { return NAME; } get filterInput() { return SelectorEngine.findOne( SELECTOR_FILTER_INPUT, this._dropdownContainer ); } get dropdown() { return SelectorEngine.findOne(SELECTOR_DROPDOWN, this._dropdownContainer); } get optionsList() { return SelectorEngine.findOne( SELECTOR_OPTIONS_LIST, this._dropdownContainer ); } get optionsWrapper() { return SelectorEngine.findOne( SELECTOR_OPTIONS_WRAPPER, this._dropdownContainer ); } get clearButton() { return SelectorEngine.findOne(SELECTOR_CLEAR_BUTTON, this._wrapper); } get options() { return this._filteredOptionsList ? this._filteredOptionsList : this._plainOptions; } get value() { return this.multiple ? this._selectionModel.values : this._selectionModel.value; } get multiple() { return this._config.multiple; } get hasSelectAll() { return this.multiple && this._config.selectAll; } get hasSelection() { return ( this._selectionModel.selection || this._selectionModel.selections.length > 0 ); } _getConfig(config) { const dataAttributes = Manipulator.getDataAttributes(this._element); config = { ...Default, ...dataAttributes, ...config, }; if (this._element.hasAttribute("multiple")) { config.multiple = true; } if (this._element.hasAttribute("disabled")) { config.disabled = true; } if (this._element.tabIndex) { config.tabIndex = this._element.getAttribute("tabIndex"); } typeCheckConfig(NAME, config, DefaultType); return config; } _getClasses(classes) { const dataAttributes = Manipulator.getDataClassAttributes(this._element); classes = { ...DefaultClasses, ...dataAttributes, ...classes, }; typeCheckConfig(NAME, classes, DefaultClassesType); return classes; } _getOptionsToRender(select) { const options = []; const nodes = select.childNodes; nodes.forEach((node) => { if (node.nodeName === "OPTGROUP") { const optionGroup = { id: getUID("group-"), label: node.label, disabled: node.hasAttribute("disabled"), hidden: node.hasAttribute("hidden"), options: [], }; const groupOptions = node.childNodes; groupOptions.forEach((option) => { if (option.nodeName === "OPTION") { optionGroup.options.push( this._createOptionObject(option, optionGroup) ); } }); options.push(optionGroup); } else if (node.nodeName === "OPTION") { options.push(this._createOptionObject(node)); } }); return options; } _getPlainOptions(optionsToRender) { const hasOptionGroup = SelectorEngine.findOne("optgroup", this._element); if (!hasOptionGroup) { return optionsToRender; } const options = []; optionsToRender.forEach((option) => { const isOptionGroup = Object.prototype.hasOwnProperty.call( option, "options" ); if (isOptionGroup) { option.options.forEach((nestedOption) => { options.push(nestedOption); }); } else { options.push(option); } }); return options; } _createOptionObject(nativeOption, group = {}) { const id = getUID("option-"); const groupId = group.id ? group.id : null; const groupDisabled = group.disabled ? group.disabled : false; const selected = nativeOption.selected || nativeOption.hasAttribute(DATA_SELECTED); const disabled = nativeOption.hasAttribute("disabled") || groupDisabled; const hidden = nativeOption.hasAttribute("hidden") || (group && group.hidden); const multiple = this.multiple; const value = nativeOption.value; const label = nativeOption.label; const secondaryText = Manipulator.getDataAttribute( nativeOption, "selectSecondaryText" ); const icon = Manipulator.getDataAttribute(nativeOption, "select-icon"); return new SelectOption( id, nativeOption, multiple, value, label, selected, disabled, hidden, secondaryText, groupId, icon ); } _getNavigationOptions() { const availableOptions = this.options.filter((option) => !option.hidden); return this.hasSelectAll ? [this._selectAllOption, ...availableOptions] : availableOptions; } _init() { this._renderMaterialWrapper(); this._wrapper = SelectorEngine.findOne(`#${this._wrapperId}`); this._input = SelectorEngine.findOne(SELECTOR_INPUT, this._wrapper); this._config.disabled && this._input.setAttribute(DATA_DISABLED, ""); const containerSelector = this._config.selectContainer; if (containerSelector === "body") { this._container = document.body; } else { this._container = SelectorEngine.findOne(containerSelector); } this._initOutlineInput(); this._setDefaultSelections(); this._updateInputValue(); this._appendFakeValue(); this._updateFakeLabelPosition(); this._updateLabelPosition(); this._updateClearButtonVisibility(); this._bindComponentEvents(); if (this.hasSelectAll) { this._selectAllOption = this._createSelectAllOption(); } this._dropdownContainer = getDropdownTemplate( this._dropdownContainerId, this._config, this._input.offsetWidth, this._dropdownHeight, this._selectAllOption, this._optionsToRender, this._customContent, this._classes ); this._setFirstActiveOption(); this._listenToFocusChange(); } _renderMaterialWrapper() { const template = getWrapperTemplate( this._wrapperId, this._config, this._label, this._classes ); this._element.parentNode.insertBefore(template, this._element); Manipulator.addClass(this._element, this._classes.initialized); template.appendChild(this._element); } _initOutlineInput() { const inputWrapper = SelectorEngine.findOne( SELECTOR_FORM_OUTLINE, this._wrapper ); const outlineInput = new Input(inputWrapper, { inputFormWhite: this._config.selectFormWhite, }); outlineInput.init(); this._notch = SelectorEngine.findOne(SELECTOR_NOTCH, this._wrapper); } _bindComponentEvents() { this._listenToComponentKeydown(); this._listenToWrapperClick(); this._listenToClearBtnClick(); this._listenToClearBtnKeydown(); } _setDefaultSelections() { this.options.forEach((option) => { if (option.selected) { this._selectionModel.select(option); } }); } _listenToComponentKeydown() { EventHandler.on(this._wrapper, "keydown", this._handleKeydown.bind(this)); } _handleKeydown(event) { if (this._isOpen && !this._config.selectFilter) { this._handleOpenKeydown(event); } else { this._handleClosedKeydown(event); } } _handleOpenKeydown(event) { const key = event.keyCode; const isCloseKey = key === ESCAPE || (key === UP_ARROW && event.altKey) || key === TAB; if (key === TAB && this._config.selectAutoSelect && !this.multiple) { this._handleAutoSelection(this._activeOption); } if (isCloseKey) { this.close(); this._input.focus(); return; } switch (key) { case DOWN_ARROW: this._setNextOptionActive(); this._scrollToOption(this._activeOption); break; case UP_ARROW: this._setPreviousOptionActive(); this._scrollToOption(this._activeOption); break; case HOME: this._setFirstOptionActive(); this._scrollToOption(this._activeOption); break; case END: this._setLastOptionActive(); this._scrollToOption(this._activeOption); break; case ENTER: event.preventDefault(); if (this._activeOption) { if (this.hasSelectAll && this._activeOptionIndex === 0) { this._handleSelectAll(); } else { this._handleSelection(this._activeOption); } } return; default: return; } event.preventDefault(); } _handleClosedKeydown(event) { const key = event.keyCode; if (key === ENTER) { event.preventDefault(); } const isOpenKey = key === ENTER || (key === DOWN_ARROW && event.altKey) || (key === DOWN_ARROW && this.multiple); if (isOpenKey) { this.open(); } if (!this.multiple) { switch (key) { case DOWN_ARROW: this._setNextOptionActive(); this._handleSelection(this._activeOption); break; case UP_ARROW: this._setPreviousOptionActive(); this._handleSelection(this._activeOption); break; case HOME: this._setFirstOptionActive(); this._handleSelection(this._activeOption); break; case END: this._setLastOptionActive(); this._handleSelection(this._activeOption); break; default: return; } } else { switch (key) { case DOWN_ARROW: this.open(); break; case UP_ARROW: this.open(); break; default: return; } } event.preventDefault(); } _scrollToOption(option) { if (!option) { return; } let optionIndex; const visibleOptions = this.options.filter((option) => !option.hidden); if (this.hasSelectAll) { optionIndex = visibleOptions.indexOf(option) + 1; } else { optionIndex = visibleOptions.indexOf(option); } const groupsNumber = this._getNumberOfGroupsBeforeOption(optionIndex); const scrollToIndex = optionIndex + groupsNumber; const list = this.optionsWrapper; const listHeight = list.offsetHeight; const optionHeight = this._config.selectOptionHeight; const scrollTop = list.scrollTop; if (optionIndex > -1) { const optionOffset = scrollToIndex * optionHeight; const isBelow = optionOffset + optionHeight > scrollTop + listHeight; const isAbove = optionOffset < scrollTop; if (isAbove) { list.scrollTop = optionOffset; } else if (isBelow) { list.scrollTop = optionOffset - listHeight + optionHeight; } else { list.scrollTop = scrollTop; } } } _getNumberOfGroupsBeforeOption(optionIndex) { const optionsList = this.options.filter((option) => !option.hidden); const groupsList = this._optionsToRender.filter((group) => !group.hidden); const index = this.hasSelectAll ? optionIndex - 1 : optionIndex; let groupsNumber = 0; for (let i = 0; i <= index; i++) { if ( optionsList[i].groupId && groupsList[groupsNumber] && groupsList[groupsNumber].id && optionsList[i].groupId === groupsList[groupsNumber].id ) { groupsNumber++; } } return groupsNumber; } _setNextOptionActive() { let index = this._activeOptionIndex + 1; const options = this._getNavigationOptions(); if (!options[index]) { return; } while (options[index].disabled) { index += 1; if (!options[index]) { return; } } this._updateActiveOption(options[index], index); } _setPreviousOptionActive() { let index = this._activeOptionIndex - 1; const options = this._getNavigationOptions(); if (!options[index]) { return; } while (options[index].disabled) { index -= 1; if (!options[index]) { return; } } this._updateActiveOption(options[index], index); } _setFirstOptionActive() { const index = 0; const options = this._getNavigationOptions(); this._updateActiveOption(options[index], index); } _setLastOptionActive() { const options = this._getNavigationOptions(); const index = options.length - 1; this._updateActiveOption(options[index], index); } _updateActiveOption(newActiveOption, index) { const currentActiveOption = this._activeOption; if (currentActiveOption) { currentActiveOption.removeActiveStyles(); } newActiveOption.setActiveStyles(); this._activeOptionIndex = index; this._activeOption = newActiveOption; } _listenToWrapperClick() { EventHandler.on(this._wrapper, "click", () => { this.toggle(); }); } _listenToClearBtnClick() { EventHandler.on(this.clearButton, "click", (event) => { event.preventDefault(); event.stopPropagation(); this._handleClear(); }); } _listenToClearBtnKeydown() { EventHandler.on(this.clearButton, "keydown", (event) => { if (event.keyCode === ENTER) { this._handleClear(); event.preventDefault(); event.stopPropagation(); } }); } _handleClear() { if (this.multiple) { this._selectionModel.clear(); this._deselectAllOptions(this.options); if (this.hasSelectAll) { this._updateSelectAllState(); } } else { const selected = this._selectionModel.selection; this._selectionModel.clear(); selected.deselect(); } this._updateInputValue(); this._updateFakeLabelPosition(); this._updateLabelPosition(); this._updateClearButtonVisibility(); this._emitValueChangeEvent(null); this._emitNativeChangeEvent(); } _listenToOptionsClick() { EventHandler.on(this.optionsWrapper, "click", (event) => { const optionGroupLabel = event.target.hasAttribute( DATA_SELECT_OPTION_GROUP_LABEL ); if (optionGroupLabel) { return; } const target = event.target.nodeName === "DIV" ? event.target : SelectorEngine.closest(event.target, SELECTOR_OPTION); const selectAllOption = target.hasAttribute(DATA_OPTION_ALL); if (selectAllOption) { this._handleSelectAll(); return; } const id = target.dataset.teId; const option = this.options.find((option) => option.id === id); if (option && !option.disabled) { this._handleSelection(option); } }); } _handleSelectAll() { const selected = this._selectAllOption.selected; if (selected) { this._deselectAllOptions(this.options); this._selectAllOption.deselect(); } else { this._selectAllOptions(this.options); this._selectAllOption.select(); } this._updateInputValue(); this._updateFakeLabelPosition(); this._updateLabelPosition(); this._updateClearButtonVisibility(); this._emitValueChangeEvent(this.value); this._emitNativeChangeEvent(); } _selectAllOptions(options) { options.forEach((option) => { if (!option.selected && !option.disabled) { this._selectionModel.select(option); option.select(); } }); } _deselectAllOptions(options) { options.forEach((option) => { if (option.selected && !option.disabled) { this._selectionModel.deselect(option); option.deselect(); } }); } _handleSelection(option) { if (this.multiple) { this._handleMultiSelection(option); if (this.hasSelectAll) { this._updateSelectAllState(); } } else { this._handleSingleSelection(option); } this._updateInputValue(); this._updateFakeLabelPosition(); this._updateLabelPosition(); this._updateClearButtonVisibility(); } _handleAutoSelection(option) { this._singleOptionSelect(option); this._updateInputValue(); this._updateFakeLabelPosition(); this._updateLabelPosition(); this._updateClearButtonVisibility(); } _handleSingleSelection(option) { this._singleOptionSelect(option); this.close(); this._input.focus(); } _singleOptionSelect(option) { const currentSelected = this._selectionModel.selections[0]; if (currentSelected && currentSelected !== option) { this._selectionModel.deselect(currentSelected); currentSelected.deselect(); currentSelected.node.setAttribute(DATA_SELECTED, false); EventHandler.trigger(this._element, EVENT_DESELECT, { value: currentSelected.value, }); } if (!currentSelected || (currentSelected && option !== currentSelected)) { this._selectionModel.select(option); option.select(); option.node.setAttribute(DATA_SELECTED, true); EventHandler.trigger(this._element, EVENT_SELECT, { value: option.value, }); this._emitValueChangeEvent(this.value); this._emitNativeChangeEvent(); } } _handleMultiSelection(option) { if (option.selected) { this._selectionModel.deselect(option); option.deselect(); option.node.setAttribute(DATA_SELECTED, false); EventHandler.trigger(this._element, EVENT_DESELECT, { value: option.value, }); } else { this._selectionModel.select(option); option.select(); option.node.setAttribute(DATA_SELECTED, true); EventHandler.trigger(this._element, EVENT_SELECT, { value: option.value, }); } this._emitValueChangeEvent(this.value); this._emitNativeChangeEvent(); } _emitValueChangeEvent(value) { EventHandler.trigger(this._element, EVENT_VALUE_CHANGE, { value }); } _emitNativeChangeEvent() { EventHandler.trigger(this._element, EVENT_CHANGE); } _updateInputValue() { const labels = this.multiple ? this._selectionModel.labels : this._selectionModel.label; let value; if ( this.multiple && this._config.selectDisplayedLabels !== -1 && this._selectionModel.selections.length > this._config.selectDisplayedLabels ) { value = `${this._selectionModel.selections.length} ${this._config.selectOptionsSelectedLabel}`; } else { value = labels; } if ( !this.multiple && !this._isSelectionValid(this._selectionModel.selection) ) { this._input.value = ""; } else if (this._isLabelEmpty(this._selectionModel.selection)) { this._input.value = " "; } else if (value) { this._input.value = value; } else { // prettier-ignore // eslint-disable-next-line this.multiple || !this._optionsToRender[0] ? (this._input.value = '') : (this._input.value = this._optionsToRender[0].label); } } _isSelectionValid(selection) { if (selection && (selection.disabled || selection.value === "")) { return false; } return true; } _isLabelEmpty(selection) { if (selection && selection.label === "") { return true; } return false; } _appendFakeValue() { if (!this._selectionModel.selection || this._selectionModel._multiple) { return; } const value = this._selectionModel.selection.label; this._fakeValue = getFakeValueTemplate(value, this._classes); const inputWrapper = SelectorEngine.findOne( SELECTOR_FORM_OUTLINE, this._wrapper ); inputWrapper.appendChild(this._fakeValue); } _updateLabelPosition() { const isInitialized = this._element.hasAttribute(DATA_SELECT_INIT); const isValueEmpty = this._input.value !== ""; if (!this._label) { return; } if ( isInitialized && (isValueEmpty || this._isOpen || this._isFakeValueActive) ) { this._label.setAttribute(DATA_ACTIVE, ""); this._notch.setAttribute(DATA_ACTIVE, ""); } else { this._label.removeAttribute(DATA_ACTIVE); this._notch.removeAttribute(DATA_ACTIVE, ""); } } _updateLabelPositionWhileClosing() { if (!this._label) { return; } if (this._input.value !== "" || this._isFakeValueActive) { this._label.setAttribute(DATA_ACTIVE, ""); this._notch.setAttribute(DATA_ACTIVE, ""); } else { this._label.removeAttribute(DATA_ACTIVE); this._notch.removeAttribute(DATA_ACTIVE); } } _updateFakeLabelPosition() { if (!this._fakeValue) { return; } if (this._input.value === "" && this._fakeValue.innerHTML !== "") { this._isFakeValueActive = true; this._fakeValue.setAttribute(DATA_ACTIVE, ""); } else { this._isFakeValueActive = false; this._fakeValue.removeAttribute(DATA_ACTIVE); } } _updateClearButtonVisibility() { if (!this.clearButton) { return; } const hasSelection = this._selectionModel.selection || this._selectionModel.selections.length > 0; if (hasSelection) { Manipulator.addStyle(this.clearButton, { display: "block" }); } else { Manipulator.addStyle(this.clearButton, { display: "none" }); } } _updateSelectAllState() { const selectAllSelected = this._selectAllOption.selected; const allSelected = allOptionsSelected(this.options); if (!allSelected && selectAllSelected) { this._selectAllOption.deselect(); } else if (allSelected && !selectAllSelected) { this._selectAllOption.select(); } } toggle() { if (this._isOpen) { this.close(); } else { this.open(); } } open() { const isDisabled = this._config.disabled; const openEvent = EventHandler.trigger(this._element, EVENT_OPEN); if (this._isOpen || isDisabled || openEvent.defaultPrevented) { return; } this._openDropdown(); this._updateDropdownWidth(); this._setFirstActiveOption(); this._scrollToOption(this._activeOption); if (this._config.selectFilter) { // We need to wait for popper initialization, otherwise // dates container will be focused before popper position // update which can change the scroll position on the page setTimeout(() => { this.filterInput.focus(); }, 0); this._listenToSelectSearch(); // New listener for dropdown navigation is needed, because // we focus search input inside dropdown template, wchich is // appended to the body. In this case listener attached to the // select wrapper won't work this._listenToDropdownKeydown(); } this._listenToOptionsClick(); this._listenToOutsideClick(); this._listenToWindowResize(); this._isOpen = true; this._updateLabelPosition(); this._setInputActiveStyles(); } _openDropdown() { this._popper = createPopper(this._input, this._dropdownContainer, { placement: "bottom-start", modifiers: [ { name: "offset", options: { offset: [0, 1], }, }, ], }); this._container.appendChild(this._dropdownContainer); // We need to add delay to wait for the popper initialization // and position update setTimeout(() => { this.dropdown.setAttribute(DATA_OPEN, ""); }, 0); } _updateDropdownWidth() { const inputWidth = this._input.offsetWidth; Manipulator.addStyle(this._dropdownContainer, { width: `${inputWidth}px` }); } _setFirstActiveOption() { const options = this._getNavigationOptions(); const currentActive = this._activeOption; if (currentActive) { currentActive.removeActiveStyles(); } const firstSelected = this.multiple ? this._selectionModel.selections[0] : this._selectionModel.selection; if (firstSelected) { this._activeOption = firstSelected; firstSelected.setActiveStyles(); this._activeOptionIndex = options.findIndex( (option) => option === firstSelected ); } else { this._activeOption = null; this._activeOptionIndex = -1; } } _setInputActiveStyles() { this._input.setAttribute(DATA_FOCUSED, ""); SelectorEngine.findOne(SELECTOR_NOTCH, this._wrapper).setAttribute( DATA_FOCUSED, "" ); } _listenToWindowResize() { EventHandler.on(window, "resize", this._handleWindowResize.bind(this)); } _handleWindowResize() { if (this._dropdownContainer) { this._updateDropdownWidth(); } } _listenToSelectSearch() { this.filterInput.addEventListener("input", (event) => { const searchTerm = event.target.value; const debounceTime = this._config.selectFilterDebounce; this._debounceFilter(searchTerm, debounceTime); }); } _debounceFilter(searchTerm, debounceTime) { if (this._debounceTimeoutId) { clearTimeout(this._debounceTimeoutId); } this._debounceTimeoutId = setTimeout(() => { this._filterOptions(searchTerm); }, debounceTime); } _filterOptions(searchTerm) { const filtered = []; this._optionsToRender.forEach((option) => { const isOptionGroup = Object.prototype.hasOwnProperty.call( option, "options" ); const isValidOption = !isOptionGroup && option.label.toLowerCase().includes(searchTerm.toLowerCase()); const group = {}; if (isOptionGroup) { group.label = option.label; group.options = this._filter(searchTerm, option.options); if (group.options.length > 0) { filtered.push(group); } } if (isValidOption) { filtered.push(option); } }); const hasNoResultsText = this._config.selectNoResultText !== ""; const hasFilteredOptions = filtered.length !== 0; if (hasFilteredOptions) { this._updateOptionsListTemplate(filtered); this._popper.forceUpdate(); this._filteredOptionsList = this._getPlainOptions(filtered); if (this.hasSelectAll) { this._updateSelectAllState(); } this._setFirstActiveOption(); } else if (!hasFilteredOptions && hasNoResultsText) { const noResultsTemplate = this._getNoResultTemplate(); this.optionsWrapper.innerHTML = noResultsTemplate; } } _updateOptionsListTemplate(optionsToRender) { const optionsWrapperContent = SelectorEngine.findOne(SELECTOR_OPTIONS_LIST, this._dropdownContainer) || SelectorEngine.findOne(SELECTOR_NO_RESULTS, this._dropdownContainer); const optionsListTemplate = getOptionsListTemplate( optionsToRender, this._selectAllOption, this._config, this._classes ); this.optionsWrapper.removeChild(optionsWrapperContent); this.optionsWrapper.appendChild(optionsListTemplate); } _getNoResultTemplate() { return `<div class="${this._classes.noResult}" ${DATA_NO_RESULT} style="height: ${this._config.selectOptionHeight}px">${this._config.selectNoResultText}</div>`; } _filter(value, options) { const filterValue = value.toLowerCase(); return options.filter((option) => option.label.toLowerCase().includes(filterValue) ); } _listenToDropdownKeydown() { EventHandler.on( this.dropdown, "keydown", this._handleOpenKeydown.bind(this) ); } _listenToOutsideClick() { this._outsideClick = this._handleOutSideClick.bind(this); EventHandler.on(document, "click", this._outsideClick); } _listenToFocusChange(add = true) { if (add === false) { EventHandler.remove(this._input, "focus", () => this._notch.setAttribute(DATA_FOCUSED, "") ); EventHandler.remove(this._input, "blur", () => this._notch.removeAttribute(DATA_FOCUSED) ); return; } EventHandler.on(this._input, "focus", () => this._notch.setAttribute(DATA_FOCUSED, "") ); EventHandler.on(this._input, "blur", () => this._notch.removeAttribute(DATA_FOCUSED) ); } _handleOutSideClick(event) { const isSelectContent = this._wrapper && this._wrapper.contains(event.target); const isDropdown = event.target === this._dropdownContainer; const isDropdownContent = this._dropdownContainer && this._dropdownContainer.contains(event.target); let isButton; if (!this._toggleButton) { this._elementToggle = SelectorEngine.find(SELECTOR_TOGGLE); } if (this._elementToggle) { this._elementToggle.forEach((button) => { const attributes = Manipulator.getDataAttribute( button, "select-toggle" ); if ( attributes === this._element.id || this._element.classList.contains(attributes) ) { this._toggleButton = button; isButton = this._toggleButton.contains(event.target); } }); } if (!isSelectContent && !isDropdown && !isDropdownContent && !isButton) { this.close(); } } close() { const closeEvent = EventHandler.trigger(this._element, EVENT_CLOSE); if (!this._isOpen || closeEvent.defaultPrevented) { return; } if (this._config.selectFilter && this.hasSelectAll) { this._resetFilterState(); this._updateOptionsListTemplate(this._optionsToRender); if (this._config.multiple) { this._updateSelectAllState(); } } this._removeDropdownEvents(); this.dropdown.removeAttribute(DATA_OPEN); setTimeout(() => { this._input.removeAttribute(DATA_FOCUSED); this._input.blur(); SelectorEngine.findOne(SELECTOR_NOTCH, this._wrapper).removeAttribute( DATA_FOCUSED ); if (this._label && !this.hasSelection) { this._label.removeAttribute(DATA_ACTIVE); this._notch.setAttribute(DATA_ACTIVE, ""); this._input.removeAttribute(DATA_ACTIVE); this._notch.removeAttribute(DATA_ACTIVE); } this._updateLabelPositionWhileClosing(); }, 0); setTimeout(() => { if ( this._container && this._dropdownContainer.parentNode === this._container ) { this._container.removeChild(this._dropdownContainer); } this._popper.destroy(); this._isOpen = false; EventHandler.off(this.dropdown, "transitionend"); }, ANIMATION_TRANSITION_TIME); } _resetFilterState() { this.filterInput.value = ""; this._filteredOptionsList = null; } _removeDropdownEvents() { EventHandler.off(document, "click", this._outsideClick); if (this._config.selectFilter) { EventHandler.off(this.dropdown, "keydown"); } EventHandler.off(this.optionsWrapper, "click"); } _addMutationObserver() { this._mutationObserver = new MutationObserver(() => { if (this._wrapper) { this._updateSelections(); this._updateDisabledState(); } }); this._observeMutationObserver(); } _updateSelections() { this._optionsToRender = this._getOptionsToRender(this._element); this._plainOptions = this._getPlainOptions(this._optionsToRender); this._selectionModel.clear(); this._setDefaultSelections(); this._updateInputValue(); this._updateFakeLabelPosition(); this._updateLabelPosition(); this._updateClearButtonVisibility(); if (this.hasSelectAll) { this._updateSelectAllState(); } const hasFilterValue = this._config.filter && this.filterInput && this.filterInput.value; if (this._isOpen && !hasFilterValue) { this._updateOptionsListTemplate(this._optionsToRender); this._setFirstActiveOption(); } else if (this._isOpen && hasFilterValue) { this._filterOptions(this.filterInput.value); this._setFirstActiveOption(); } else { this._dropdownContainer = getDropdownTemplate( this._dropdownContainerId, this._config, this._input.offsetWidth, this._dropdownHeight, this._selectAllOption, this._optionsToRender, this._customContent, this._classes ); } } _updateDisabledState() { const input = SelectorEngine.findOne(SELECTOR_INPUT, this._wrapper); if (this._element.hasAttribute("disabled")) { this._config.disabled = true; input.setAttribute("disabled", ""); input.setAttribute(DATA_DISABLED, ""); } else { this._config.disabled = false; input.removeAttribute("disabled"); input.removeAttribute(DATA_DISABLED); } } _observeMutationObserver() { if (!this._mutationObserver) { return; } this._mutationObserver.observe(this._element, { attributes: true, childList: true, characterData: true, subtree: true, }); } _disconnectMutationObserver() { if (this.mutationObserver) { this._mutationObserver.disconnect(); this._mutationObserver = null; } } _createSelectAllOption() { const id = this._selectAllId; const nativeOption = null; const multiple = true; const value = "select-all"; const label = this._config.selectAllLabel; const selected = allOptionsSelected(this.options); const disabled = false; const hidden = false; const secondaryText = null; const groupId = null; const icon = null; return new SelectOption( id, nativeOption, multiple, value, label, selected, disabled, hidden, secondaryText, groupId, icon ); } dispose() { this._removeComponentEvents(); this._destroyMaterialSelect(); this._listenToFocusChange(false); Data.removeData(this._element, DATA_KEY); } _removeComponentEvents() { EventHandler.off(this.input, "click"); EventHandler.off(this.wrapper, this._handleKeydown.bind(this)); EventHandler.off(this.clearButton, "click"); EventHandler.off(this.clearButton, "keydown"); EventHandler.off(window, "resize", this._handleWindowResize.bind(this)); } _destroyMaterialSelect() { if (this._isOpen) { this.close(); } this._destroyMaterialTemplate(); } _destroyMaterialTemplate() { const wrapperParent = this._wrapper.parentNode; const labels = SelectorEngine.find("label", this._wrapper); wrapperParent.appendChild(this._element); labels.forEach((label) => { wrapperParent.appendChild(label); }); labels.forEach((label) => { label.removeAttribute(DATA_ACTIVE); }); Manipulator.removeClass(this._element, this._classes.initialized); this._element.removeActiveStyles(DATA_SELECT_INIT); wrapperParent.removeChild(this._wrapper); } setValue(value) { this.options .filter((option) => option.selected) .forEach((selection) => (selection.nativeOption.selected = false)); const isMultipleValue = Array.isArray(value); if (isMultipleValue) { value.forEach((selectionValue) => { this._selectByValue(selectionValue); }); } else { this._selectByValue(value); } this._updateSelections(); } _selectByValue(value) { const correspondingOption = this.options.find( (option) => option.value === value ); if (!correspondingOption) { return false; } correspondingOption.nativeOption.selected = true; return true; } static jQueryInterface(config, options) { return this.each(function () { let data = Data.getData(this, DATA_KEY); const _config = typeof config === "object" && config; if (!data && /dispose/.test(config)) { return; } if (!data) { data = new Select(this, _config); } if (typeof config === "string") { if (typeof data[config] === "undefined") { throw new TypeError(`No method named "${config}"`); } data[config](options); } }); } static getInstance(element) { return Data.getData(element, DATA_KEY); } static getOrCreateInstance(element, config = {}) { return ( this.getInstance(element) || new this(element, typeof config === "object" ? config : null) ); } } export default Select; ",
  "import { getjQuery, onDOMContentLoaded } from "../util/index"; const jqueryInit = (plugin) => { onDOMContentLoaded(() => { const $ = getjQuery(); if ($) { const name = plugin.NAME; const JQUERY_NO_CONFLICT = $.fn[name]; $.fn[name] = plugin.jQueryInterface; $.fn[name].Constructor = plugin; $.fn[name].noConflict = () => { $.fn[name] = JQUERY_NO_CONFLICT; return plugin.jQueryInterface; }; } }); }; export default jqueryInit; ",
  "import EventHandler from "../dom/event-handler"; import SelectorEngine from "../dom/selector-engine"; import { isDisabled, getElementFromSelector, isVisible, getSelectorFromElement, } from "../util"; const dropdownCallback = (component, initSelector) => { EventHandler.on( document, `click.te.${component.NAME}`, initSelector, function (event) { event.preventDefault(); component.getOrCreateInstance(this).toggle(); } ); }; const tabCallback = (component, initSelector) => { EventHandler.on( document, `click.te.${component.NAME}.data-api`, initSelector, function (event) { if (["A", "AREA"].includes(this.tagName)) { event.preventDefault(); } if (isDisabled(this)) { return; } const data = component.getOrCreateInstance(this); data.show(); } ); }; const offcanvasCallback = (component, initSelector) => { EventHandler.on( document, `click.te.${component.NAME}.data-api`, initSelector, function (event) { const target = getElementFromSelector(this); if (["A", "AREA"].includes(this.tagName)) { event.preventDefault(); } if (isDisabled(this)) { return; } EventHandler.one(target, component.EVENT_HIDDEN, () => { // focus on trigger when it is closed if (isVisible(this)) { this.focus(); } }); // avoid conflict when clicking a toggler of an offcanvas, while another is open const allReadyOpen = SelectorEngine.findOne(component.OPEN_SELECTOR); if (allReadyOpen && allReadyOpen !== target) { component.getInstance(allReadyOpen).hide(); } const data = component.getOrCreateInstance(target); data.toggle(this); } ); }; const buttonCallback = (component, initSelector) => { EventHandler.on( document, `click.te.${component.NAME}`, initSelector, (event) => { event.preventDefault(); const button = event.target.closest(initSelector); const data = component.getOrCreateInstance(button); data.toggle(); } ); }; const modalCallback = (component, initSelector) => { EventHandler.on( document, `click.te.${component.NAME}`, initSelector, function (event) { const target = getElementFromSelector(this); if (["A", "AREA"].includes(this.tagName)) { event.preventDefault(); } EventHandler.one(target, component.EVENT_SHOW, (showEvent) => { if (showEvent.defaultPrevented) { // only register focus restorer if modal will actually get shown return; } EventHandler.one(target, component.EVENT_HIDDEN, () => { if (isVisible(this)) { this.focus(); } }); }); // avoid conflict when clicking moddal toggler while another one is open const allReadyOpen = SelectorEngine.findOne( `[${component.OPEN_SELECTOR}="true"]` ); if (allReadyOpen) { component.getInstance(allReadyOpen).hide(); } const data = component.getOrCreateInstance(target); data.toggle(this); } ); }; const rippleCallback = (component, initSelector) => { EventHandler.one( document, "mousedown", initSelector, component.autoInitial(new component()) ); }; const collapseCallback = (component, initSelector) => { EventHandler.on( document, `click.te.${component.NAME}.data-api`, initSelector, function (event) { // preventDefault only for <a> elements (which change the URL) not inside the collapsible element if ( event.target.tagName === "A" || (event.delegateTarget && event.delegateTarget.tagName === "A") ) { event.preventDefault(); } const selector = getSelectorFromElement(this); const selectorElements = SelectorEngine.find(selector); selectorElements.forEach((element) => { component.getOrCreateInstance(element, { toggle: false }).toggle(); }); } ); }; export { dropdownCallback, tabCallback, offcanvasCallback, buttonCallback, modalCallback, rippleCallback, collapseCallback, }; ",
  "// Default options const DEFAULT_LEGEND_COLOR = { plugins: { legend: { labels: { color: "rgb(102,102,102)", }, }, }, }; export const DEFAULT_OPTIONS = { line: { options: { ...DEFAULT_LEGEND_COLOR, elements: { line: { backgroundColor: "rgba(59, 112, 202, 0.0)", borderColor: "rgb(59, 112, 202)", borderWidth: 2, tension: 0.0, }, point: { borderColor: "rgb(59, 112, 202)", backgroundColor: "rgb(59, 112, 202)", }, }, responsive: true, legend: { display: true, }, tooltips: { intersect: false, mode: "index", }, datasets: { borderColor: "red", }, scales: { x: { stacked: true, grid: { display: false, }, ticks: { fontColor: "rgba(0,0,0, 0.5)", }, }, y: { stacked: false, grid: { borderDash: [2], drawBorder: false, zeroLineColor: "rgba(0,0,0,0)", zeroLineBorderDash: [2], zeroLineBorderDashOffset: [2], }, ticks: { fontColor: "rgba(0,0,0, 0.5)", }, }, }, }, }, bar: { options: { ...DEFAULT_LEGEND_COLOR, backgroundColor: "rgb(59, 112, 202)", borderWidth: 0, responsive: true, legend: { display: true, }, tooltips: { intersect: false, mode: "index", }, scales: { x: { stacked: true, grid: { display: false, }, ticks: { fontColor: "rgba(0,0,0, 0.5)", }, }, y: { stacked: true, grid: { borderDash: [2], drawBorder: false, zeroLineColor: "rgba(0,0,0,0)", zeroLineBorderDash: [2], zeroLineBorderDashOffset: [2], }, ticks: { fontColor: "rgba(0,0,0, 0.5)", }, }, }, }, }, pie: { options: { ...DEFAULT_LEGEND_COLOR, elements: { arc: { backgroundColor: "rgb(59, 112, 202)" }, }, responsive: true, legend: { display: true, }, }, }, doughnut: { options: { ...DEFAULT_LEGEND_COLOR, elements: { arc: { backgroundColor: "rgb(59, 112, 202)" }, }, responsive: true, legend: { display: true, }, }, }, polarArea: { options: { ...DEFAULT_LEGEND_COLOR, elements: { arc: { backgroundColor: "rgba(59, 112, 202, 0.5)" }, }, responsive: true, legend: { display: true, }, }, }, radar: { options: { ...DEFAULT_LEGEND_COLOR, elements: { line: { backgroundColor: "rgba(59, 112, 202, 0.5)", borderColor: "rgb(59, 112, 202)", borderWidth: 2, }, point: { borderColor: "rgb(59, 112, 202)", backgroundColor: "rgb(59, 112, 202)", }, }, responsive: true, legend: { display: true, }, }, }, scatter: { options: { ...DEFAULT_LEGEND_COLOR, elements: { line: { backgroundColor: "rgba(59, 112, 202, 0.5)", borderColor: "rgb(59, 112, 202)", borderWidth: 2, tension: 0.0, }, point: { borderColor: "rgb(59, 112, 202)", backgroundColor: "rgba(59, 112, 202, 0.5)", }, }, responsive: true, legend: { display: true, }, tooltips: { intersect: false, mode: "index", }, datasets: { borderColor: "red", }, scales: { x: { stacked: true, grid: { display: false, }, ticks: { fontColor: "rgba(0,0,0, 0.5)", }, }, y: { stacked: false, grid: { borderDash: [2], drawBorder: false, zeroLineColor: "rgba(0,0,0,0)", zeroLineBorderDash: [2], zeroLineBorderDashOffset: [2], }, ticks: { fontColor: "rgba(0,0,0, 0.5)", }, }, }, }, }, bubble: { options: { ...DEFAULT_LEGEND_COLOR, elements: { point: { borderColor: "rgb(59, 112, 202)", backgroundColor: "rgba(59, 112, 202, 0.5)", }, }, responsive: true, legend: { display: true, }, scales: { x: { grid: { display: false, }, ticks: { fontColor: "rgba(0,0,0, 0.5)", }, }, y: { grid: { borderDash: [2], drawBorder: false, zeroLineColor: "rgba(0,0,0,0)", zeroLineBorderDash: [2], zeroLineBorderDashOffset: [2], }, ticks: { fontColor: "rgba(0,0,0, 0.5)", }, }, }, }, }, }; ",
  "import SelectorEngine from "../dom/selector-engine"; import jqueryInit from "./jqueryInit"; import { dropdownCallback, offcanvasCallback, tabCallback, buttonCallback, modalCallback, rippleCallback, collapseCallback, } from "./autoinitCallbacks"; import { chartsCallback } from "./chartsInit"; const defaultInitSelectors = { alert: { name: "Alert", selector: "[data-te-alert-init]", isToggler: false, }, animation: { name: "Animate", selector: "[data-te-animation-init]", isToggler: false, }, carousel: { name: "Carousel", selector: "[data-te-carousel-init]", isToggler: false, }, chips: { name: "ChipsInput", selector: "[data-te-chips-init]", isToggler: false, }, chip: { name: "Chip", selector: "[data-te-chip-init]", isToggler: false, }, datepicker: { name: "Datepicker", selector: "[data-te-datepicker-init]", isToggler: false, }, input: { name: "Input", selector: "[data-te-input-wrapper-init]", isToggler: false, }, scrollspy: { name: "ScrollSpy", selector: "[data-te-spy='scroll']", isToggler: false, }, select: { name: "Select", selector: "[data-te-select-init]", isToggler: false, }, sidenav: { name: "Sidenav", selector: "[data-te-sidenav-init]", isToggler: false, }, stepper: { name: "Stepper", selector: "[data-te-stepper-init]", isToggler: false, }, timepicker: { name: "Timepicker", selector: "[data-te-timepicker-init]", isToggler: false, }, toast: { name: "Toast", selector: "[data-te-toast-init]", isToggler: false, }, // advancedInits chart: { name: "Chart", selector: "[data-te-chart]", isToggler: false, advanced: chartsCallback, }, // togglers button: { name: "Button", selector: "[data-te-toggle='button']", isToggler: true, callback: buttonCallback, }, collapse: { name: "Collapse", selector: "[data-te-collapse-init]", isToggler: true, callback: collapseCallback, }, dropdown: { name: "Dropdown", selector: "[data-te-dropdown-toggle-ref]", isToggler: true, callback: dropdownCallback, }, modal: { name: "Modal", selector: "[data-te-toggle='modal']", isToggler: true, callback: modalCallback, }, ripple: { name: "Ripple", selector: "[data-te-ripple-init]", isToggler: true, callback: rippleCallback, }, offcanvas: { name: "Offcanvas", selector: "[data-te-offcanvas-toggle]", isToggler: true, callback: offcanvasCallback, }, tab: { name: "Tab", selector: "[data-te-toggle='tab'], [data-te-toggle='pill'], [data-te-toggle='list']", isToggler: true, callback: tabCallback, }, }; const getComponentData = (component) => { return defaultInitSelectors[component.NAME] || null; }; const initComponent = (component) => { if (!component || initiatedComponents?.includes(component.NAME)) { return; } initiatedComponents?.push(component.NAME); const thisComponent = getComponentData(component); const isToggler = thisComponent?.isToggler || false; jqueryInit(component); if (thisComponent?.advanced) { thisComponent?.advanced(component, thisComponent?.selector); return; } if (isToggler) { thisComponent?.callback(component, thisComponent?.selector); return; } SelectorEngine.find(thisComponent?.selector).forEach((element) => { let instance = component.getInstance(element); if (!instance) { instance = new component(element); } }); }; const init = (components) => { components.forEach((component) => initComponent(component)); }; const initTE = (components, checkOtherImports = false) => { const componentList = Object.keys(defaultInitSelectors).map((element) => { const requireAutoinit = Boolean( document.body.querySelector(defaultInitSelectors[element].selector) ); if (requireAutoinit) { const component = components[defaultInitSelectors[element].name]; if ( !component && !initiatedComponents?.includes(element) && checkOtherImports ) { console.warn( `Please import ${defaultInitSelectors[element].name} from "tw-elements" package and add it to a object parameter inside "initTE" function` ); } return component; } }); init(componentList); }; export default initTE; ",
  "import Manipulator from "../dom/manipulator"; import SelectorEngine from "../dom/selector-engine"; import { DEFAULT_OPTIONS } from "../data/chart/chartDefaults"; const chartsCallback = (component, initSelector) => { // eslint-disable-next-line consistent-return const IS_COMPLEX = (data) => { return ( (data[0] === "{" && data[data.length - 1] === "}") || (data[0] === "[" && data[data.length - 1] === "]") ); }; const CONVERT_DATA_TYPE = (data) => { if (typeof data !== "string") return data; if (IS_COMPLEX(data)) { return JSON.parse(data.replace(/'/g, '"')); } return data; }; const PARSE_DATA = (data) => { const dataset = {}; Object.keys(data).forEach((property) => { if (property.match(/dataset.*/)) { const chartProperty = property .slice(7, 8) .toLowerCase() .concat(property.slice(8)); dataset[chartProperty] = CONVERT_DATA_TYPE(data[property]); } }); return dataset; }; SelectorEngine.find(initSelector).forEach((el) => { if ( Manipulator.getDataAttribute(el, "chart") !== "bubble" && Manipulator.getDataAttribute(el, "chart") !== "scatter" ) { const dataSet = Manipulator.getDataAttributes(el); const dataAttr = { data: { datasets: [PARSE_DATA(dataSet)], }, }; if (dataSet.chart) { dataAttr.type = dataSet.chart; } if (dataSet.labels) { dataAttr.data.labels = JSON.parse(dataSet.labels.replace(/'/g, '"')); } return new component(el, { ...dataAttr, ...DEFAULT_OPTIONS[dataAttr.type], }); } return null; }); }; export { chartsCallback }; ",
  "/* -------------------------------------------------------------------------- Tailwind Elements is an open-source UI kit of advanced components for TailwindCSS. Copyright © 2023 MDBootstrap.com Unless a custom, individually assigned license has been granted, this program is free software: you can redistribute it and/or modify it under the terms of the GNU Affero General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. In addition, a custom license may be available upon request, subject to the terms and conditions of that license. Please contact tailwind@mdbootstrap.com for more information on obtaining a custom license. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero General Public License for more details. -------------------------------------------------------------------------- */ import initTE from "../../autoinit/index"; import Input from "../../forms/input"; export const getInputField = ({ inputID, labelText }, classes) => { initTE({ Input }, false); return `<div data-te-chips-input-wrapper data-te-input-wrapper-init class="${classes.chipsInputWrapper}"> <input type="text" class="${classes.chipsInput}" id="${inputID}" placeholder="Example label" /> <label for="${inputID}" class="${classes.chipsLabel}" >${labelText} </label> <div data-te-input-notch-ref class="${classes.chipsNotchesWrapper}"> <div class="${classes.chipsNotchesLeading}" data-te-input-notch-leading-ref style="width: 9px;"></div> <div class="${classes.chipsNotchesMiddle}" data-te-input-notch-middle-ref style="width: 87.2px;"></div> <div class="${classes.chipsNotchesTrailing}" data-te-input-notch-trailing-ref></div> </div> </div>`; }; export const getChip = ({ text, iconSVG }, classes) => { return `<div data-te-chip-init data-te-ripple-init class="${classes.chipElement}"> <span data-te-chip-text>${text}</span> <span data-te-chip-close class="${classes.chipCloseIcon}"> ${iconSVG} </span> </div>`; }; ",
  "/* -------------------------------------------------------------------------- Tailwind Elements is an open-source UI kit of advanced components for TailwindCSS. Copyright © 2023 MDBootstrap.com Unless a custom, individually assigned license has been granted, this program is free software: you can redistribute it and/or modify it under the terms of the GNU Affero General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. In addition, a custom license may be available upon request, subject to the terms and conditions of that license. Please contact tailwind@mdbootstrap.com for more information on obtaining a custom license. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero General Public License for more details. -------------------------------------------------------------------------- */ import { element, typeCheckConfig } from "../../util/index"; import Manipulator from "../../dom/manipulator"; import SelectorEngine from "../../dom/selector-engine"; import Data from "../../dom/data"; import EventHandler from "../../dom/event-handler"; import { getChip } from "./templates"; /** * * ------------------------------------------------------------------------ * Constants * ------------------------------------------------------------------------ */ const NAME = "chip"; const DATA_KEY = `te.${NAME}`; const ATTR_CHIP_CLOSE = "data-te-chip-close"; const ATTR_SELECTOR_CHIP_CLOSE = `[${ATTR_CHIP_CLOSE}]`; const EVENT_DELETE = "delete.te.chips"; const EVENT_SELECT = "select.te.chip"; const defaultIcon = `<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-3 h-3"> <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" /></svg>`; const DefaultType = { text: "string", closeIcon: "boolean", img: "object", iconSVG: "string", }; const Default = { text: "", closeIcon: false, img: { path: "", alt: "" }, iconSVG: defaultIcon, }; const DefaultClasses = { icon: "float-right pl-[8px] text-[16px] opacity-[.53] cursor-pointer fill-[#afafaf] hover:text-[#8b8b8b] transition-all duration-200 ease-in-out", chipElement: "flex justify-between items-center h-[32px] leading-loose py-[5px] px-[12px] mr-4 my-[5px] text-[13px] font-normal text-[#4f4f4f] cursor-pointer bg-[#eceff1] dark:text-white dark:bg-neutral-600 rounded-[16px] transition-[opacity] duration-300 ease-linear [word-wrap: break-word] shadow-none normal-case hover:!shadow-none active:bg-[#cacfd1] inline-block font-medium leading-normal text-[#4f4f4f] text-center no-underline align-middle cursor-pointer select-none border-[.125rem] border-solid border-transparent py-1.5 px-3 text-xs rounded", chipCloseIcon: "w-4 float-right pl-[8px] text-[16px] opacity-[.53] cursor-pointer fill-[#afafaf] hover:fill-[#8b8b8b] dark:fill-gray-400 dark:hover:fill-gray-100 transition-all duration-200 ease-in-out", }; const DefaultClassesType = { icon: "string", chipElement: "string", chipCloseIcon: "string", }; class Chip { constructor(element, data = {}, classes) { this._element = element; this._options = this._getConfig(data); this._classes = this._getClasses(classes); } // Getters static get NAME() { return NAME; } // Public init() { this._appendCloseIcon(); this._handleDelete(); this._handleTextChip(); this._handleClickOnChip(); } dispose() { this._element = null; this._options = null; EventHandler.off(this._element, "click"); } appendChip() { const { text, closeIcon, iconSVG } = this._options; const chip = getChip({ text, closeIcon, iconSVG }, this._classes); return chip; } // Private _appendCloseIcon(el = this._element) { if (SelectorEngine.find(ATTR_SELECTOR_CHIP_CLOSE, this._element).length > 0) return; if (this._options.closeIcon) { const createIcon = element("span"); createIcon.classList = this._classes.icon; createIcon.setAttribute(ATTR_CHIP_CLOSE); createIcon.innerHTML = this._options.iconSVG; el.insertAdjacentElement("beforeend", createIcon); } } _handleClickOnChip() { EventHandler.on(this._element, "click", (event) => { const { textContent } = event.target; const obj = {}; obj.tag = textContent.trim(); EventHandler.trigger(EVENT_SELECT, { event, obj }); }); } _handleDelete() { const deleteElement = SelectorEngine.find( ATTR_SELECTOR_CHIP_CLOSE, this._element ); if (deleteElement.length === 0) return; EventHandler.on(this._element, "click", ATTR_SELECTOR_CHIP_CLOSE, () => { EventHandler.trigger(this._element, EVENT_DELETE); this._element.remove(); }); } _handleTextChip() { if (this._element.innerText !== "") return; this._element.innerText = this._options.text; } _getConfig(options) { const config = { ...Default, ...Manipulator.getDataAttributes(this._element), ...options, }; typeCheckConfig(NAME, config, DefaultType); return config; } _getClasses(classes) { const dataAttributes = Manipulator.getDataClassAttributes(this._element); classes = { ...DefaultClasses, ...dataAttributes, ...classes, }; typeCheckConfig(NAME, classes, DefaultClassesType); return classes; } static getInstance(element) { return Data.getData(element, DATA_KEY); } static getOrCreateInstance(element, config = {}) { return ( this.getInstance(element) || new this(element, typeof config === "object" ? config : null) ); } } export default Chip; ",
  "/* -------------------------------------------------------------------------- Tailwind Elements is an open-source UI kit of advanced components for TailwindCSS. Copyright © 2023 MDBootstrap.com Unless a custom, individually assigned license has been granted, this program is free software: you can redistribute it and/or modify it under the terms of the GNU Affero General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. In addition, a custom license may be available upon request, subject to the terms and conditions of that license. Please contact tailwind@mdbootstrap.com for more information on obtaining a custom license. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero General Public License for more details. -------------------------------------------------------------------------- */ import { typeCheckConfig, element, getUID } from "../../util/index"; import Manipulator from "../../dom/manipulator"; import SelectorEngine from "../../dom/selector-engine"; import Chip from "./chip"; import Data from "../../dom/data"; import { getInputField } from "./templates"; import EventHandler from "../../dom/event-handler"; import { LEFT_ARROW, RIGHT_ARROW, ENTER, BACKSPACE, UP_ARROW, DOWN_ARROW, DELETE, } from "../../util/keycodes"; /* ------------------------------------------------------------------------ Constants ------------------------------------------------------------------------ */ const NAME = "chips"; const ATTR_NAME = `data-te-${NAME}`; const DATA_KEY = `te.${NAME}`; const ATTR_CHIPS_INIT = `${ATTR_NAME}-init`; const ATTR_CHIPS_ACTIVE = `${ATTR_NAME}-active`; const ATTR_CHIPS_INITIAL = `${ATTR_NAME}-initial`; const ATTR_CHIPS_PLACEHOLDER = `${ATTR_NAME}-placeholder`; const ATTR_CHIPS_WRAPPER = `${ATTR_NAME}-input-wrapper`; const ATTR_CHIP_INIT = "data-te-chip-init"; const ATTR_CHIP_CLOSE = "data-te-chip-close"; const ATTR_CHIP_TEXT = "data-te-chip-text"; const ATTR_SELECTOR_CHIPS_ACTIVE = `[${ATTR_CHIPS_ACTIVE}]`; const ATTR_SELECTOR_CHIP_INIT = `[${ATTR_CHIP_INIT}]`; const ATTR_SELECTOR_CHIP_ACTIVE = `${ATTR_SELECTOR_CHIP_INIT}${ATTR_SELECTOR_CHIPS_ACTIVE}`; const ATTR_SELECTOR_CLOSE = `[${ATTR_CHIP_CLOSE}]`; const ATTR_SELECTOR_CHIPS_WRAPPER = `[${ATTR_CHIPS_WRAPPER}]`; const ATTR_SELECTOR_CHIP_TEXT = `[${ATTR_CHIP_TEXT}]`; const ATTR_SELECTOR_CHIPS_PLACEHOLDER = `[${ATTR_CHIPS_PLACEHOLDER}]`; const DATA_NOTCH_LEADING = "data-te-input-notch-leading-ref"; const DATA_NOTCH_MIDDLE = "data-te-input-notch-middle-ref"; const SELECTOR_NOTCH_LEADING = `[${DATA_NOTCH_LEADING}]`; const SELECTOR_NOTCH_MIDDLE = `[${DATA_NOTCH_MIDDLE}]`; // input helpers const ATTR_INPUT_STATE_ACTIVE = "data-te-input-state-active"; const ATTR_SELECTOR_INPUT_NOTCH_REF = "[data-te-input-notch-ref]"; const EVENT_ADD = "add.te.chips"; const EVENT_ARROW_DOWN = "arrowDown.te.chips"; const EVENT_ARROW_LEFT = "arrowLeft.te.chips"; const EVENT_ARROW_RIGHT = "arrowRight.te.chips"; const EVENT_ARROW_UP = "arrowUp.te.chips"; const EVENT_DELETE = "delete.te.chips"; const EVENT_SELECT = "select.te.chips"; const DefaultType = { inputID: "string", parentSelector: "string", initialValues: "array", editable: "boolean", labelText: "string", }; const Default = { inputID: getUID("chips-input-"), parentSelector: "", initialValues: [{ tag: "init1" }, { tag: "init2" }], editable: false, labelText: "Example label", }; const DefaultClasses = { opacity: "opacity-0", inputWrapperPadding: "p-[5px]", transition: "transition-all duration-300 ease-[cubic-bezier(0.25,0.1,0.25,1)]", contentEditable: "outline-none !border-[3px] !border-solid !border-[#b2b3b4]", chipsInputWrapper: "relative flex items-center flex-wrap transition-all duration-300 ease-[cubic-bezier(0.25,0.1,0.25,1)]", chipsInput: "peer block min-h-[auto] w-[150px] rounded border-0 bg-transparent py-[0.32rem] px-3 leading-[1.6] outline-none transition-all duration-200 ease-linear focus:placeholder:opacity-100 data-[te-input-state-active]:placeholder:opacity-100 motion-reduce:transition-none dark:text-gray-200 dark:placeholder:text-gray-200 [&:not([data-te-input-placeholder-active])]:placeholder:opacity-0", chipsLabel: "pointer-events-none absolute top-0 left-3 mb-0 max-w-[90%] origin-[0_0] truncate pt-[0.37rem] leading-[1.6] text-gray-500 transition-all duration-200 ease-out peer-focus:-translate-y-[0.9rem] peer-focus:scale-[0.8] peer-focus:text-primary peer-data-[te-input-state-active]:-translate-y-[0.9rem] peer-data-[te-input-state-active]:scale-[0.8] motion-reduce:transition-none dark:text-gray-200 dark:peer-focus:text-gray-200", chipsNotchesWrapper: "group flex absolute left-0 top-0 w-full max-w-full h-full text-left pointer-events-none", chipsNotchesLeading: "pointer-events-none border border-solid box-border bg-transparent transition-all duration-200 ease-linear motion-reduce:transition-none left-0 top-0 h-full w-2 border-r-0 rounded-l-[0.25rem] group-data-[te-input-focused]:border-r-0 group-data-[te-input-state-active]:border-r-0 border-gray-300 dark:border-gray-600 group-data-[te-input-focused]:shadow-[-1px_0_0_#3b71ca,_0_1px_0_0_#3b71ca,_0_-1px_0_0_#3b71ca] group-data-[te-input-focused]:border-primary", chipsNotchesMiddle: "pointer-events-none border border-solid box-border bg-transparent transition-all duration-200 ease-linear motion-reduce:transition-none grow-0 shrink-0 basis-auto w-auto max-w-[calc(100%-1rem)] h-full border-r-0 border-l-0 group-data-[te-input-focused]:border-x-0 group-data-[te-input-state-active]:border-x-0 group-data-[te-input-focused]:border-t group-data-[te-input-state-active]:border-t group-data-[te-input-focused]:border-solid group-data-[te-input-state-active]:border-solid group-data-[te-input-focused]:border-t-transparent group-data-[te-input-state-active]:border-t-transparent border-gray-300 dark:border-gray-600 group-data-[te-input-focused]:shadow-[0_1px_0_0_#3b71ca] group-data-[te-input-focused]:border-primary", chipsNotchesTrailing: "pointer-events-none border border-solid box-border bg-transparent transition-all duration-200 ease-linear motion-reduce:transition-none grow h-full border-l-0 rounded-r-[0.25rem] group-data-[te-input-focused]:border-l-0 group-data-[te-input-state-active]:border-l-0 border-gray-300 dark:border-gray-600 group-data-[te-input-focused]:shadow-[1px_0_0_#3b71ca,_0_-1px_0_0_#3b71ca,_0_1px_0_0_#3b71ca] group-data-[te-input-focused]:border-primary", }; const DefaultClassesType = { opacity: "string", inputWrapperPadding: "string", transition: "string", contentEditable: "string", chipsInputWrapper: "string", chipsInput: "string", chipsLabel: "string", chipsNotchesWrapper: "string", chipsNotchesLeading: "string", chipsNotchesMiddle: "string", chipsNotchesTrailing: "string", }; class ChipsInput extends Chip { constructor(element, data = {}, classes) { super(element, data); this._element = element; this._label = null; this._labelWidth = 0; this._labelMarginLeft = 0; this._notchLeading = null; this._notchMiddle = null; if (this._element) { Data.setData(element, DATA_KEY, this); } this._options = this._getConfig(data); this._classes = this._getClasses(classes); this.numberClicks = 0; this.init(); } // Getters static get NAME() { return NAME; } get activeChip() { return SelectorEngine.findOne(ATTR_SELECTOR_CHIP_ACTIVE, this._element); } get input() { return SelectorEngine.findOne("input", this._element); } get allChips() { return SelectorEngine.find(ATTR_SELECTOR_CHIP_INIT, this._element); } get chipsInputWrapper() { return SelectorEngine.findOne(ATTR_SELECTOR_CHIPS_WRAPPER, this._element); } // Public init() { this._setChipsClass(); this._appendInputToElement(ATTR_CHIPS_PLACEHOLDER); this._handleInitialValue(); this._handleInputText(); this._handleKeyboard(); this._handleChipsOnSelect(); this._handleEditable(); this._handleChipsFocus(); this._handleClicksOnChips(); this._getLabelData(); this._getLabelWidth(); this._getNotchData(); this._applyNotch(); } dispose() { this._element = null; this._options = null; } // Private _getNotchData() { this._notchMiddle = SelectorEngine.findOne( SELECTOR_NOTCH_MIDDLE, this._element ); this._notchLeading = SelectorEngine.findOne( SELECTOR_NOTCH_LEADING, this._element ); } _getLabelData() { this._label = SelectorEngine.findOne("label", this._element); } _getLabelWidth() { this._labelWidth = this._label.clientWidth * 0.8 + 8; } _applyNotch() { this._notchMiddle.style.width = `${this._labelWidth}px`; this._notchLeading.style.width = `${this._labelMarginLeft + 9}px`; if (this._label === null) return; this._label.style.marginLeft = `${this._labelMarginLeft}px`; } _setChipsClass() { this._element.setAttribute(ATTR_CHIPS_INIT, ""); } _handleDeleteEvents(event) { const [last] = this.allChips.slice(-1); if (this.activeChip === null) { last.remove(); this._handleEvents(event, EVENT_DELETE); } else { const index = this.allChips.findIndex((chip) => chip === this.activeChip); const activeChipAfter = this._handleActiveChipAfterRemove(index); const arr = []; if (this.activeChip === null) return; this.activeChip.remove(); this._handleEvents(event, EVENT_DELETE); this.numberClicks = index; activeChipAfter.setAttribute(ATTR_CHIPS_ACTIVE, ""); this.allChips.forEach((chip) => { if (chip.hasAttribute(ATTR_CHIPS_ACTIVE)) { arr.push(chip); if (arr.length > 1) { this.allChips.forEach((chip) => chip.remove()); } } }); } } _handleUpEvents(event) { this.numberClicks += 1; if (this.numberClicks === this.allChips.length + 1) this.numberClicks = 0; this._handleRightKeyboardArrow(this.numberClicks); this._handleEvents(event, EVENT_ARROW_RIGHT); this._handleEvents(event, EVENT_ARROW_UP); } _handleDownEvents(event) { this.numberClicks -= 1; if (this.numberClicks <= 0) this.numberClicks = this.allChips.length; this._handleLeftKeyboardArrow(this.numberClicks); this._handleEvents(event, EVENT_ARROW_LEFT); this._handleEvents(event, EVENT_ARROW_DOWN); } _keyboardEvents(event) { const { target, keyCode, ctrlKey } = event; if (target.value.length > 0 || this.allChips.length === 0) return; if (keyCode === BACKSPACE || keyCode === DELETE) { this._handleDeleteEvents(event); } else if (keyCode === RIGHT_ARROW || keyCode === UP_ARROW) { this._handleUpEvents(event); } else if (keyCode === LEFT_ARROW || keyCode === DOWN_ARROW) { this._handleDownEvents(event); } else if (keyCode === 65 && ctrlKey) { this._handleAddActiveClass(); } } _handleKeyboard() { EventHandler.on(this.input, "keydown", (event) => this._keyboardEvents(event) ); } _handleEditable() { const { editable } = this._options; if (!editable) return; this.allChips.forEach((chip) => { EventHandler.on(chip, "dblclick", (e) => { const close = SelectorEngine.findOne(ATTR_SELECTOR_CLOSE, chip); chip.classList.add(...this._classes.contentEditable.split(" ")); chip.contentEditable = true; chip.focus(); setTimeout(() => { Manipulator.addStyle(close, { display: "none" }); }, 200); close.classList.add(...this._classes.opacity.split(" ")); const obj = {}; obj.tag = e.target.textContent; EventHandler.trigger(chip, EVENT_SELECT, { event: e, allChips: this.allChips, }); }); EventHandler.on(document, "click", ({ target }) => { const close = SelectorEngine.findOne(ATTR_SELECTOR_CLOSE, chip); const chipText = SelectorEngine.findOne(ATTR_SELECTOR_CHIP_TEXT, chip); const isContainer = target === chip; const isContainerContent = chip && chip.contains(target); if (!isContainer && !isContainerContent) { chip.contentEditable = false; chip.classList.remove(...this._classes.contentEditable.split(" ")); if (chipText.textContent !== "") { setTimeout(() => { Manipulator.addStyle(close, { display: "block" }); close.classList.remove(...this._classes.opacity.split(" ")); }, 160); } } if (chipText.textContent === "") { setTimeout(() => { chip.classList.add(...this._classes.opacity.split(" ")); }, 200); setTimeout(() => { chip.remove(); }, 300); } }); }); } _handleRemoveActiveClass() { this.allChips.forEach((chip) => chip.removeAttribute(ATTR_CHIPS_ACTIVE)); } _handleAddActiveClass() { this.allChips.forEach((chip) => chip.setAttribute(ATTR_CHIPS_ACTIVE, "")); } _handleRightKeyboardArrow(num) { this._handleRemoveActiveClass(); if (num === 0) num = 1; this._handleAddActiveClassWithKebyboard(num); } _handleLeftKeyboardArrow(num) { this._handleRemoveActiveClass(); this._handleAddActiveClassWithKebyboard(num); } _handleActiveChipAfterRemove(index) { const chipIndex = index === 0 ? 1 : index - 1; return this.allChips[chipIndex]; } _handleClicksOnChips() { EventHandler.on(this._element, "click", () => { if (this.allChips.length === 0) { this.chipsInputWrapper.classList.remove( ...this._classes.inputWrapperPadding.split(" ") ); this.input.removeAttribute(ATTR_CHIPS_ACTIVE); } }); } _handleTextContent() { const arr = []; this.allChips.forEach((chip) => arr.push({ tag: chip.textContent.trim() })); return arr; } _handleEvents(event, eventName) { const arr = this._handleTextContent(); const filterActive = this.allChips.filter( (chip) => chip.hasAttribute(ATTR_CHIPS_ACTIVE) && chip ); EventHandler.trigger(this._element, eventName, { event, allChips: this.allChips, arrOfObjects: arr, active: filterActive, activeObj: { tag: filterActive.length <= 0 ? "" : filterActive[0].textContent.trim(), }, }); } _handleChipsFocus() { EventHandler.on(this._element, "click", ({ target: { attributes } }) => { const attrList = [...attributes]; if ( attrList.includes(ATTR_CHIP_INIT) || attrList.includes(ATTR_CHIP_CLOSE) || attrList.includes(ATTR_CHIP_TEXT) ) { return; } this.input.focus(); }); } _handleInitialValue() { this._appendInputToElement(ATTR_CHIPS_INITIAL); if (this._element.hasAttribute(ATTR_CHIPS_INITIAL)) { const { initialValues } = this._options; initialValues.forEach(({ tag }) => this._handleCreateChip(this.input, tag) ); SelectorEngine.findOne( ATTR_SELECTOR_INPUT_NOTCH_REF, this.input.parentNode ).setAttribute(ATTR_INPUT_STATE_ACTIVE, ""); this.input.setAttribute(ATTR_CHIPS_ACTIVE, ""); this.input.setAttribute(ATTR_INPUT_STATE_ACTIVE, ""); } if (this.allChips.length > 0) { this.chipsInputWrapper.classList.add( ...this._classes.inputWrapperPadding.split(" ") ); this.chipsInputWrapper.classList.add( ...this._classes.transition.split(" ") ); } } _handleKeysInputToElement(event) { const { keyCode, target } = event; if (target.hasAttribute(ATTR_CHIP_INIT)) { const close = SelectorEngine.findOne(ATTR_SELECTOR_CLOSE, target); if (keyCode === ENTER) { target.contentEditable = false; target.classList.remove(...this._classes.contentEditable.split(" ")); if (target.textContent !== "") { setTimeout(() => { Manipulator.addStyle(close, { display: "block" }); close.classList.remove(...this._classes.opacity.split(" ")); }, 160); } else if (target.textContent === "") { setTimeout(() => { target.classList.add(...this._classes.opacity.split(" ")); }, 200); setTimeout(() => { target.remove(); }, 300); } } return; } if (keyCode === ENTER) { if (target.value === "") return; this._handleCreateChip(target, target.value); this._handleRemoveActiveClass(); this.numberClicks = this.allChips.length + 1; this._handleEvents(event, EVENT_ADD); } if (this.allChips.length > 0) { this.chipsInputWrapper.classList.add( ...this._classes.inputWrapperPadding.split(" ") ); this.chipsInputWrapper.classList.add( ...this._classes.transition.split(" ") ); } else { this.chipsInputWrapper.classList.remove( ...this._classes.inputWrapperPadding.split(" ") ); } } _handleBlurInput = ({ target }) => { if (target.value.length > 0) { this._handleCreateChip(target, target.value); } if (this.allChips.length > 0) { target.setAttribute(ATTR_CHIPS_ACTIVE, ""); this.input.setAttribute(ATTR_INPUT_STATE_ACTIVE, ""); SelectorEngine.findOne( ATTR_SELECTOR_INPUT_NOTCH_REF, this.input.parentNode ).setAttribute(ATTR_INPUT_STATE_ACTIVE, ""); this.chipsInputWrapper.classList.add( ...this._classes.inputWrapperPadding.split(" ") ); } else { target.removeAttribute(ATTR_CHIPS_ACTIVE); this.input.removeAttribute(ATTR_INPUT_STATE_ACTIVE); SelectorEngine.findOne( ATTR_SELECTOR_INPUT_NOTCH_REF, this.input.parentNode ).removeAttribute(ATTR_INPUT_STATE_ACTIVE); this.chipsInputWrapper.classList.remove( ...this._classes.inputWrapperPadding.split(" ") ); } this.allChips.forEach((chip) => chip.removeAttribute(ATTR_CHIPS_ACTIVE)); }; _handleInputText() { const placeholder = SelectorEngine.findOne( ATTR_SELECTOR_CHIPS_PLACEHOLDER, this._element ); EventHandler.on(this._element, "keyup", placeholder, (e) => this._handleKeysInputToElement(e) ); EventHandler.on(this.input, "blur", (e) => this._handleBlurInput(e)); } _appendInputToElement(selector) { if (!this._element.hasAttribute(selector)) return; const inputField = getInputField(this._options, this._classes); this._element.insertAdjacentHTML("beforeend", inputField); } _handleCreateChip(target, value) { const divElement = element("div"); const instance = Chip.getInstance(divElement); const divWithChips = new Chip(instance, { text: value }, this._classes); if (this._options.parentSelector !== "") { const parent = document.querySelector(this._options.parentSelector); parent.insertAdjacentHTML("beforeend", divWithChips.appendChip()); } else { target.insertAdjacentHTML("beforebegin", divWithChips.appendChip()); } target.value = ""; SelectorEngine.find(ATTR_SELECTOR_CHIP_INIT).forEach((chip) => { let instance = Chip.getInstance(chip); if (!instance) { instance = new Chip(chip, {}, this._classes); } return instance.init(); }); this._handleEditable(); } _handleChipsOnSelect() { this.allChips.forEach((chip) => { EventHandler.on(this._element, "click", (e) => { EventHandler.trigger(chip, EVENT_SELECT, { event: e, allChips: this.allChips, }); }); }); } _handleAddActiveClassWithKebyboard(num) { let chip; if (this.allChips[num - 1] === undefined) { chip = this.allChips[num - 2]; } else { chip = this.allChips[num - 1]; } chip.setAttribute(ATTR_CHIPS_ACTIVE); } _getConfig(options) { const config = { ...Default, ...Manipulator.getDataAttributes(this._element), ...options, }; typeCheckConfig(NAME, config, DefaultType); return config; } _getClasses(classes) { const dataAttributes = Manipulator.getDataClassAttributes(this._element); classes = { ...DefaultClasses, ...dataAttributes, ...classes, }; typeCheckConfig(NAME, classes, DefaultClassesType); return classes; } static getInstance(element) { return Data.getData(element, DATA_KEY); } static getOrCreateInstance(element, config = {}) { return ( this.getInstance(element) || new this(element, typeof config === "object" ? config : null) ); } } export default ChipsInput; ",
  "'use strict'; var isMergeableObject = function isMergeableObject(value) { return isNonNullObject(value) && !isSpecial(value) }; function isNonNullObject(value) { return !!value && typeof value === 'object' } function isSpecial(value) { var stringValue = Object.prototype.toString.call(value); return stringValue === '[object RegExp]' || stringValue === '[object Date]' || isReactElement(value) } // see https://github.com/facebook/react/blob/b5ac963fb791d1298e7f396236383bc955f916c1/src/isomorphic/classic/element/ReactElement.js#L21-L25 var canUseSymbol = typeof Symbol === 'function' && Symbol.for; var REACT_ELEMENT_TYPE = canUseSymbol ? Symbol.for('react.element') : 0xeac7; function isReactElement(value) { return value.$$typeof === REACT_ELEMENT_TYPE } function emptyTarget(val) { return Array.isArray(val) ? [] : {} } function cloneUnlessOtherwiseSpecified(value, options) { return (options.clone !== false && options.isMergeableObject(value)) ? deepmerge(emptyTarget(value), value, options) : value } function defaultArrayMerge(target, source, options) { return target.concat(source).map(function(element) { return cloneUnlessOtherwiseSpecified(element, options) }) } function getMergeFunction(key, options) { if (!options.customMerge) { return deepmerge } var customMerge = options.customMerge(key); return typeof customMerge === 'function' ? customMerge : deepmerge } function getEnumerableOwnPropertySymbols(target) { return Object.getOwnPropertySymbols ? Object.getOwnPropertySymbols(target).filter(function(symbol) { return Object.propertyIsEnumerable.call(target, symbol) }) : [] } function getKeys(target) { return Object.keys(target).concat(getEnumerableOwnPropertySymbols(target)) } function propertyIsOnObject(object, property) { try { return property in object } catch(_) { return false } } // Protects from prototype poisoning and unexpected merging up the prototype chain. function propertyIsUnsafe(target, key) { return propertyIsOnObject(target, key) // Properties are safe to merge if they don't exist in the target yet, && !(Object.hasOwnProperty.call(target, key) // unsafe if they exist up the prototype chain, && Object.propertyIsEnumerable.call(target, key)) // and also unsafe if they're nonenumerable. } function mergeObject(target, source, options) { var destination = {}; if (options.isMergeableObject(target)) { getKeys(target).forEach(function(key) { destination[key] = cloneUnlessOtherwiseSpecified(target[key], options); }); } getKeys(source).forEach(function(key) { if (propertyIsUnsafe(target, key)) { return } if (propertyIsOnObject(target, key) && options.isMergeableObject(source[key])) { destination[key] = getMergeFunction(key, options)(target[key], source[key], options); } else { destination[key] = cloneUnlessOtherwiseSpecified(source[key], options); } }); return destination } function deepmerge(target, source, options) { options = options || {}; options.arrayMerge = options.arrayMerge || defaultArrayMerge; options.isMergeableObject = options.isMergeableObject || isMergeableObject; // cloneUnlessOtherwiseSpecified is added to `options` so that custom arrayMerge() // implementations can use it. The caller may not replace it. options.cloneUnlessOtherwiseSpecified = cloneUnlessOtherwiseSpecified; var sourceIsArray = Array.isArray(source); var targetIsArray = Array.isArray(target); var sourceAndTargetTypesMatch = sourceIsArray === targetIsArray; if (!sourceAndTargetTypesMatch) { return cloneUnlessOtherwiseSpecified(source, options) } else if (sourceIsArray) { return options.arrayMerge(target, source, options) } else { return mergeObject(target, source, options) } } deepmerge.all = function deepmergeAll(array, options) { if (!Array.isArray(array)) { throw new Error('first argument should be an array') } return array.reduce(function(prev, next) { return deepmerge(prev, next, options) }, {}) }; var deepmerge_1 = deepmerge; module.exports = deepmerge_1; ",
  "import { element, typeCheckConfig } from "../../util/index"; import Data from "../../dom/data"; import Manipulator from "../../dom/manipulator"; import { DEFAULT_OPTIONS } from "./chartDefaults"; /** * ------------------------------------------------------------------------ * Constants * ------------------------------------------------------------------------ */ import merge from "deepmerge"; const NAME = "chart"; const DATA_KEY = "te.chart"; const CLASSNAME_CHARTS = "chart"; const GENERATE_DATA = (options, type, defaultType) => { const mergeObjects = (target, source, options) => { const destination = target.slice(); source.forEach((item, index) => { if (typeof destination[index] === "undefined") { destination[index] = options.cloneUnlessOtherwiseSpecified( item, options ); } else if (options.isMergeableObject(item)) { destination[index] = merge(target[index], item, options); } else if (target.indexOf(item) === -1) { destination.push(item); } }); return destination; }; return merge(defaultType[type], options, { arrayMerge: mergeObjects, }); }; const DEFAULT_DARK_OPTIONS = { darkTicksColor: "#fff", darkLabelColor: "#fff", darkGridLinesColor: "#555", darkmodeOff: "undefined", darkBgColor: "#262626", options: null, }; const DARK_OPTIONS_TYPE = { darkTicksColor: "string", darkLabelColor: "string", darkGridLinesColor: "string", darkmodeOff: "(string|null)", darkBgColor: "string", options: "(object|null)", }; /** * ------------------------------------------------------------------------ * Class Definition * ------------------------------------------------------------------------ */ // class Chart { constructor(element, data, options = {}, darkOptions = {}) { this._waitForCharts(element, data, options, darkOptions); } async _getChartjs() { const { Chart: Chartjs, ArcElement, LineElement, BarElement, PointElement, BarController, BubbleController, DoughnutController, LineController, PieController, PolarAreaController, RadarController, ScatterController, CategoryScale, LinearScale, LogarithmicScale, RadialLinearScale, TimeScale, TimeSeriesScale, Decimation, Filler, Legend, Title, Tooltip, SubTitle, } = await import("chart.js"); Chartjs.register( ArcElement, LineElement, BarElement, PointElement, BarController, BubbleController, DoughnutController, LineController, PieController, PolarAreaController, RadarController, ScatterController, CategoryScale, LinearScale, LogarithmicScale, RadialLinearScale, TimeScale, TimeSeriesScale, Decimation, Filler, Legend, Title, Tooltip, SubTitle ); return Chartjs; } async _getChartDataLabels() { const { ChartDataLabels } = await import("chartjs-plugin-datalabels"); return ChartDataLabels; } async _waitForCharts(element, data, options = {}, darkOptions = {}) { this._Chartjs = await this._getChartjs(); this._ChartDataLabels = await this._getChartDataLabels(); this._element = element; this._data = data; this._options = options; this._type = data.type; this._canvas = null; this._chart = null; // handle mode change (dark- and lightmode) this._darkOptions = this._getDarkConfig(darkOptions); this._darkModeClassContainer = document.querySelector("html"); this._prevConfig = null; this._observer = null; if (this._element) { Data.setData(element, DATA_KEY, this); Manipulator.addClass(this._element, CLASSNAME_CHARTS); this._chartConstructor(); } if (this._darkOptions.darkmodeOff !== null) { // check mode on start this._handleMode(this.systemColorMode); // observe darkmode class container change this._observer = new MutationObserver(this._observerCallback.bind(this)); this._observer.observe(this._darkModeClassContainer, { attributes: true, }); } } // Getters static get NAME() { return NAME; } get systemColorMode() { return ( localStorage.theme || (this._darkModeClassContainer.classList.contains("dark") ? "dark" : "light") ); } // Public dispose() { this._observer.disconnect(); Data.removeData(this._element, DATA_KEY); this._element = null; } update(data, config) { if (data) { this._data = { ...this._data, ...data }; this._chart.data = this._data; } this._prevConfig = this._chart.options; this._options = { ...this._options, ...config }; this._chart.options = merge(this._chart.options, this._options); this._chart.update(); } // Private _getDarkConfig(config) { let dataAttributes = {}; const dataAttr = Manipulator.getDataAttributes(this._element); Object.keys(dataAttr).forEach( (key) => key.startsWith("dark") && (dataAttributes[key] = dataAttr[key]) ); dataAttributes = { ...DEFAULT_DARK_OPTIONS, ...dataAttributes, }; const xyScale = { y: { ticks: { color: dataAttributes.darkTicksColor, }, grid: { color: dataAttributes.darkGridLinesColor, }, }, x: { ticks: { color: dataAttributes.darkTicksColor, }, grid: { color: dataAttributes.darkGridLinesColor, }, }, }; const rScale = { r: { ticks: { color: dataAttributes.darkTicksColor, backdropColor: dataAttributes.darkBgColor, }, grid: { color: dataAttributes.darkGridLinesColor, }, pointLabels: { color: dataAttributes.darkTicksColor, }, }, }; const radials = ["pie", "doughnut", "polarArea", "radar"]; const scales = !radials.includes(this._type) ? xyScale : ["polarArea", "radar"].includes(this._type) ? rScale : {}; const opt = { scales, plugins: { legend: { labels: { color: dataAttributes.darkLabelColor, }, }, }, }; // combine config config = { ...dataAttributes, options: { ...opt, }, ...config, }; typeCheckConfig(NAME, config, DARK_OPTIONS_TYPE); return config; } _chartConstructor() { if (this._data) { this._createCanvas(); const options = GENERATE_DATA(this._options, this._type, DEFAULT_OPTIONS); const plugins = []; if (options.dataLabelsPlugin) { plugins.push(this._ChartDataLabels); } this._chart = new this._Chartjs(this._canvas, { ...this._data, ...options, plugins, }); } } _createCanvas() { if (this._canvas) return; if (this._element.nodeName === "CANVAS") { this._canvas = this._element; } else { this._canvas = element("canvas"); this._element.appendChild(this._canvas); } } _handleMode(systemColor) { if (systemColor === "dark") { this._changeDatasetBorderColor(); this.update(null, this._darkOptions.options); } else { this._changeDatasetBorderColor(false); this._prevConfig && this.update(null, this._prevConfig); } } _observerCallback(mutationList) { for (const mutation of mutationList) { if (mutation.type === "attributes") { this._handleMode(this.systemColorMode); } } } _changeDatasetBorderColor(dark = true) { [...this._data.data.datasets].forEach( (set) => ["pie", "doughnut", "polarArea"].includes(this._type) && (set.borderColor = dark ? this._darkOptions.darkBgColor : "#fff") ); } static jQueryInterface(data, options, type) { return this.each(function () { let chartData = Data.getData(this, DATA_KEY); if (!chartData && /dispose/.test(data)) { return; } if (!chartData) { const chartOptions = options ? GENERATE_DATA(options, type, DEFAULT_OPTIONS) : DEFAULT_OPTIONS[type]; chartData = new Chart(this, { ...data, ...chartOptions, }); } if (typeof data === "string") { if (typeof chartData[data] === "undefined") { throw new TypeError(`No method named "${data}"`); } chartData[data](options, type); } }); } static getInstance(element) { return Data.getData(element, DATA_KEY); } static getOrCreateInstance(element, config = {}) { return ( this.getInstance(element) || new this(element, typeof config === "object" ? config : null) ); } } export default Chart; ",
  "/* -------------------------------------------------------------------------- Tailwind Elements is an open-source UI kit of advanced components for TailwindCSS. Copyright © 2023 MDBootstrap.com Unless a custom, individually assigned license has been granted, this program is free software: you can redistribute it and/or modify it under the terms of the GNU Affero General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. In addition, a custom license may be available upon request, subject to the terms and conditions of that license. Please contact tailwind@mdbootstrap.com for more information on obtaining a custom license. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero General Public License for more details. -------------------------------------------------------------------------- */ import Button from "./components/button"; import Dropdown from "./components/dropdown"; import Collapse from "./components/collapse"; import Offcanvas from "./components/offcanvas"; import Alert from "./components/alert"; import Carousel from "./components/carousel"; import Modal from "./components/modal"; import Popover from "./components/popover"; import ScrollSpy from "./navigation/scrollspy"; import Tab from "./navigation/tab"; import Tooltip from "./components/tooltip"; import Toast from "./components/toast"; import Input from "./forms/input"; import Animate from "./content-styles/animate"; import Ripple from "./methods/ripple"; import Datepicker from "./forms/datepicker"; import Timepicker from "./forms/timepicker"; import Sidenav from "./navigation/sidenav"; import Stepper from "./components/stepper"; import Select from "./forms/select"; import ChipsInput from "./components/chips"; import Chip from "./components/chips/chip"; import Chart from "./data/chart/charts"; import initTE from "./autoinit/index"; const te = { Animate, Alert, Button, ChipsInput, Chip, Dropdown, Carousel, Collapse, Offcanvas, Modal, Popover, ScrollSpy, Select, Tab, Toast, Tooltip, Ripple, Datepicker, Timepicker, Sidenav, Stepper, Input, Chart, }; initTE(te); export { Animate, Alert, Button, ChipsInput, Chip, Dropdown, Carousel, Collapse, Offcanvas, Modal, Popover, ScrollSpy, Select, Tab, Toast, Tooltip, Ripple, Datepicker, Timepicker, Sidenav, Stepper, Input, Chart, initTE, }; ",
  "/*! * Chart.js v3.9.1 * https://www.chartjs.org * (c) 2022 Chart.js Contributors * Released under the MIT License */ function noop() {} const uid = (function() { let id = 0; return function() { return id++; }; }()); function isNullOrUndef(value) { return value === null || typeof value === 'undefined'; } function isArray(value) { if (Array.isArray && Array.isArray(value)) { return true; } const type = Object.prototype.toString.call(value); if (type.slice(0, 7) === '[object' && type.slice(-6) === 'Array]') { return true; } return false; } function isObject(value) { return value !== null && Object.prototype.toString.call(value) === '[object Object]'; } const isNumberFinite = (value) => (typeof value === 'number' || value instanceof Number) && isFinite(+value); function finiteOrDefault(value, defaultValue) { return isNumberFinite(value) ? value : defaultValue; } function valueOrDefault(value, defaultValue) { return typeof value === 'undefined' ? defaultValue : value; } const toPercentage = (value, dimension) => typeof value === 'string' && value.endsWith('%') ? parseFloat(value) / 100 : value / dimension; const toDimension = (value, dimension) => typeof value === 'string' && value.endsWith('%') ? parseFloat(value) / 100 * dimension : +value; function callback(fn, args, thisArg) { if (fn && typeof fn.call === 'function') { return fn.apply(thisArg, args); } } function each(loopable, fn, thisArg, reverse) { let i, len, keys; if (isArray(loopable)) { len = loopable.length; if (reverse) { for (i = len - 1; i >= 0; i--) { fn.call(thisArg, loopable[i], i); } } else { for (i = 0; i < len; i++) { fn.call(thisArg, loopable[i], i); } } } else if (isObject(loopable)) { keys = Object.keys(loopable); len = keys.length; for (i = 0; i < len; i++) { fn.call(thisArg, loopable[keys[i]], keys[i]); } } } function _elementsEqual(a0, a1) { let i, ilen, v0, v1; if (!a0 || !a1 || a0.length !== a1.length) { return false; } for (i = 0, ilen = a0.length; i < ilen; ++i) { v0 = a0[i]; v1 = a1[i]; if (v0.datasetIndex !== v1.datasetIndex || v0.index !== v1.index) { return false; } } return true; } function clone$1(source) { if (isArray(source)) { return source.map(clone$1); } if (isObject(source)) { const target = Object.create(null); const keys = Object.keys(source); const klen = keys.length; let k = 0; for (; k < klen; ++k) { target[keys[k]] = clone$1(source[keys[k]]); } return target; } return source; } function isValidKey(key) { return ['__proto__', 'prototype', 'constructor'].indexOf(key) === -1; } function _merger(key, target, source, options) { if (!isValidKey(key)) { return; } const tval = target[key]; const sval = source[key]; if (isObject(tval) && isObject(sval)) { merge(tval, sval, options); } else { target[key] = clone$1(sval); } } function merge(target, source, options) { const sources = isArray(source) ? source : [source]; const ilen = sources.length; if (!isObject(target)) { return target; } options = options || {}; const merger = options.merger || _merger; for (let i = 0; i < ilen; ++i) { source = sources[i]; if (!isObject(source)) { continue; } const keys = Object.keys(source); for (let k = 0, klen = keys.length; k < klen; ++k) { merger(keys[k], target, source, options); } } return target; } function mergeIf(target, source) { return merge(target, source, {merger: _mergerIf}); } function _mergerIf(key, target, source) { if (!isValidKey(key)) { return; } const tval = target[key]; const sval = source[key]; if (isObject(tval) && isObject(sval)) { mergeIf(tval, sval); } else if (!Object.prototype.hasOwnProperty.call(target, key)) { target[key] = clone$1(sval); } } function _deprecated(scope, value, previous, current) { if (value !== undefined) { console.warn(scope + ': "' + previous + '" is deprecated. Please use "' + current + '" instead'); } } const keyResolvers = { '': v => v, x: o => o.x, y: o => o.y }; function resolveObjectKey(obj, key) { const resolver = keyResolvers[key] || (keyResolvers[key] = _getKeyResolver(key)); return resolver(obj); } function _getKeyResolver(key) { const keys = _splitKey(key); return obj => { for (const k of keys) { if (k === '') { break; } obj = obj && obj[k]; } return obj; }; } function _splitKey(key) { const parts = key.split('.'); const keys = []; let tmp = ''; for (const part of parts) { tmp += part; if (tmp.endsWith('\\')) { tmp = tmp.slice(0, -1) + '.'; } else { keys.push(tmp); tmp = ''; } } return keys; } function _capitalize(str) { return str.charAt(0).toUpperCase() + str.slice(1); } const defined = (value) => typeof value !== 'undefined'; const isFunction = (value) => typeof value === 'function'; const setsEqual = (a, b) => { if (a.size !== b.size) { return false; } for (const item of a) { if (!b.has(item)) { return false; } } return true; }; function _isClickEvent(e) { return e.type === 'mouseup' || e.type === 'click' || e.type === 'contextmenu'; } const PI = Math.PI; const TAU = 2 * PI; const PITAU = TAU + PI; const INFINITY = Number.POSITIVE_INFINITY; const RAD_PER_DEG = PI / 180; const HALF_PI = PI / 2; const QUARTER_PI = PI / 4; const TWO_THIRDS_PI = PI * 2 / 3; const log10 = Math.log10; const sign = Math.sign; function niceNum(range) { const roundedRange = Math.round(range); range = almostEquals(range, roundedRange, range / 1000) ? roundedRange : range; const niceRange = Math.pow(10, Math.floor(log10(range))); const fraction = range / niceRange; const niceFraction = fraction <= 1 ? 1 : fraction <= 2 ? 2 : fraction <= 5 ? 5 : 10; return niceFraction * niceRange; } function _factorize(value) { const result = []; const sqrt = Math.sqrt(value); let i; for (i = 1; i < sqrt; i++) { if (value % i === 0) { result.push(i); result.push(value / i); } } if (sqrt === (sqrt | 0)) { result.push(sqrt); } result.sort((a, b) => a - b).pop(); return result; } function isNumber(n) { return !isNaN(parseFloat(n)) && isFinite(n); } function almostEquals(x, y, epsilon) { return Math.abs(x - y) < epsilon; } function almostWhole(x, epsilon) { const rounded = Math.round(x); return ((rounded - epsilon) <= x) && ((rounded + epsilon) >= x); } function _setMinAndMaxByKey(array, target, property) { let i, ilen, value; for (i = 0, ilen = array.length; i < ilen; i++) { value = array[i][property]; if (!isNaN(value)) { target.min = Math.min(target.min, value); target.max = Math.max(target.max, value); } } } function toRadians(degrees) { return degrees * (PI / 180); } function toDegrees(radians) { return radians * (180 / PI); } function _decimalPlaces(x) { if (!isNumberFinite(x)) { return; } let e = 1; let p = 0; while (Math.round(x * e) / e !== x) { e *= 10; p++; } return p; } function getAngleFromPoint(centrePoint, anglePoint) { const distanceFromXCenter = anglePoint.x - centrePoint.x; const distanceFromYCenter = anglePoint.y - centrePoint.y; const radialDistanceFromCenter = Math.sqrt(distanceFromXCenter * distanceFromXCenter + distanceFromYCenter * distanceFromYCenter); let angle = Math.atan2(distanceFromYCenter, distanceFromXCenter); if (angle < (-0.5 * PI)) { angle += TAU; } return { angle, distance: radialDistanceFromCenter }; } function distanceBetweenPoints(pt1, pt2) { return Math.sqrt(Math.pow(pt2.x - pt1.x, 2) + Math.pow(pt2.y - pt1.y, 2)); } function _angleDiff(a, b) { return (a - b + PITAU) % TAU - PI; } function _normalizeAngle(a) { return (a % TAU + TAU) % TAU; } function _angleBetween(angle, start, end, sameAngleIsFullCircle) { const a = _normalizeAngle(angle); const s = _normalizeAngle(start); const e = _normalizeAngle(end); const angleToStart = _normalizeAngle(s - a); const angleToEnd = _normalizeAngle(e - a); const startToAngle = _normalizeAngle(a - s); const endToAngle = _normalizeAngle(a - e); return a === s || a === e || (sameAngleIsFullCircle && s === e) || (angleToStart > angleToEnd && startToAngle < endToAngle); } function _limitValue(value, min, max) { return Math.max(min, Math.min(max, value)); } function _int16Range(value) { return _limitValue(value, -32768, 32767); } function _isBetween(value, start, end, epsilon = 1e-6) { return value >= Math.min(start, end) - epsilon && value <= Math.max(start, end) + epsilon; } function _lookup(table, value, cmp) { cmp = cmp || ((index) => table[index] < value); let hi = table.length - 1; let lo = 0; let mid; while (hi - lo > 1) { mid = (lo + hi) >> 1; if (cmp(mid)) { lo = mid; } else { hi = mid; } } return {lo, hi}; } const _lookupByKey = (table, key, value, last) => _lookup(table, value, last ? index => table[index][key] <= value : index => table[index][key] < value); const _rlookupByKey = (table, key, value) => _lookup(table, value, index => table[index][key] >= value); function _filterBetween(values, min, max) { let start = 0; let end = values.length; while (start < end && values[start] < min) { start++; } while (end > start && values[end - 1] > max) { end--; } return start > 0 || end < values.length ? values.slice(start, end) : values; } const arrayEvents = ['push', 'pop', 'shift', 'splice', 'unshift']; function listenArrayEvents(array, listener) { if (array._chartjs) { array._chartjs.listeners.push(listener); return; } Object.defineProperty(array, '_chartjs', { configurable: true, enumerable: false, value: { listeners: [listener] } }); arrayEvents.forEach((key) => { const method = '_onData' + _capitalize(key); const base = array[key]; Object.defineProperty(array, key, { configurable: true, enumerable: false, value(...args) { const res = base.apply(this, args); array._chartjs.listeners.forEach((object) => { if (typeof object[method] === 'function') { object[method](...args); } }); return res; } }); }); } function unlistenArrayEvents(array, listener) { const stub = array._chartjs; if (!stub) { return; } const listeners = stub.listeners; const index = listeners.indexOf(listener); if (index !== -1) { listeners.splice(index, 1); } if (listeners.length > 0) { return; } arrayEvents.forEach((key) => { delete array[key]; }); delete array._chartjs; } function _arrayUnique(items) { const set = new Set(); let i, ilen; for (i = 0, ilen = items.length; i < ilen; ++i) { set.add(items[i]); } if (set.size === ilen) { return items; } return Array.from(set); } function fontString(pixelSize, fontStyle, fontFamily) { return fontStyle + ' ' + pixelSize + 'px ' + fontFamily; } const requestAnimFrame = (function() { if (typeof window === 'undefined') { return function(callback) { return callback(); }; } return window.requestAnimationFrame; }()); function throttled(fn, thisArg, updateFn) { const updateArgs = updateFn || ((args) => Array.prototype.slice.call(args)); let ticking = false; let args = []; return function(...rest) { args = updateArgs(rest); if (!ticking) { ticking = true; requestAnimFrame.call(window, () => { ticking = false; fn.apply(thisArg, args); }); } }; } function debounce(fn, delay) { let timeout; return function(...args) { if (delay) { clearTimeout(timeout); timeout = setTimeout(fn, delay, args); } else { fn.apply(this, args); } return delay; }; } const _toLeftRightCenter = (align) => align === 'start' ? 'left' : align === 'end' ? 'right' : 'center'; const _alignStartEnd = (align, start, end) => align === 'start' ? start : align === 'end' ? end : (start + end) / 2; const _textX = (align, left, right, rtl) => { const check = rtl ? 'left' : 'right'; return align === check ? right : align === 'center' ? (left + right) / 2 : left; }; function _getStartAndCountOfVisiblePoints(meta, points, animationsDisabled) { const pointCount = points.length; let start = 0; let count = pointCount; if (meta._sorted) { const {iScale, _parsed} = meta; const axis = iScale.axis; const {min, max, minDefined, maxDefined} = iScale.getUserBounds(); if (minDefined) { start = _limitValue(Math.min( _lookupByKey(_parsed, iScale.axis, min).lo, animationsDisabled ? pointCount : _lookupByKey(points, axis, iScale.getPixelForValue(min)).lo), 0, pointCount - 1); } if (maxDefined) { count = _limitValue(Math.max( _lookupByKey(_parsed, iScale.axis, max, true).hi + 1, animationsDisabled ? 0 : _lookupByKey(points, axis, iScale.getPixelForValue(max), true).hi + 1), start, pointCount) - start; } else { count = pointCount - start; } } return {start, count}; } function _scaleRangesChanged(meta) { const {xScale, yScale, _scaleRanges} = meta; const newRanges = { xmin: xScale.min, xmax: xScale.max, ymin: yScale.min, ymax: yScale.max }; if (!_scaleRanges) { meta._scaleRanges = newRanges; return true; } const changed = _scaleRanges.xmin !== xScale.min || _scaleRanges.xmax !== xScale.max || _scaleRanges.ymin !== yScale.min || _scaleRanges.ymax !== yScale.max; Object.assign(_scaleRanges, newRanges); return changed; } const atEdge = (t) => t === 0 || t === 1; const elasticIn = (t, s, p) => -(Math.pow(2, 10 * (t -= 1)) * Math.sin((t - s) * TAU / p)); const elasticOut = (t, s, p) => Math.pow(2, -10 * t) * Math.sin((t - s) * TAU / p) + 1; const effects = { linear: t => t, easeInQuad: t => t * t, easeOutQuad: t => -t * (t - 2), easeInOutQuad: t => ((t /= 0.5) < 1) ? 0.5 * t * t : -0.5 * ((--t) * (t - 2) - 1), easeInCubic: t => t * t * t, easeOutCubic: t => (t -= 1) * t * t + 1, easeInOutCubic: t => ((t /= 0.5) < 1) ? 0.5 * t * t * t : 0.5 * ((t -= 2) * t * t + 2), easeInQuart: t => t * t * t * t, easeOutQuart: t => -((t -= 1) * t * t * t - 1), easeInOutQuart: t => ((t /= 0.5) < 1) ? 0.5 * t * t * t * t : -0.5 * ((t -= 2) * t * t * t - 2), easeInQuint: t => t * t * t * t * t, easeOutQuint: t => (t -= 1) * t * t * t * t + 1, easeInOutQuint: t => ((t /= 0.5) < 1) ? 0.5 * t * t * t * t * t : 0.5 * ((t -= 2) * t * t * t * t + 2), easeInSine: t => -Math.cos(t * HALF_PI) + 1, easeOutSine: t => Math.sin(t * HALF_PI), easeInOutSine: t => -0.5 * (Math.cos(PI * t) - 1), easeInExpo: t => (t === 0) ? 0 : Math.pow(2, 10 * (t - 1)), easeOutExpo: t => (t === 1) ? 1 : -Math.pow(2, -10 * t) + 1, easeInOutExpo: t => atEdge(t) ? t : t < 0.5 ? 0.5 * Math.pow(2, 10 * (t * 2 - 1)) : 0.5 * (-Math.pow(2, -10 * (t * 2 - 1)) + 2), easeInCirc: t => (t >= 1) ? t : -(Math.sqrt(1 - t * t) - 1), easeOutCirc: t => Math.sqrt(1 - (t -= 1) * t), easeInOutCirc: t => ((t /= 0.5) < 1) ? -0.5 * (Math.sqrt(1 - t * t) - 1) : 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1), easeInElastic: t => atEdge(t) ? t : elasticIn(t, 0.075, 0.3), easeOutElastic: t => atEdge(t) ? t : elasticOut(t, 0.075, 0.3), easeInOutElastic(t) { const s = 0.1125; const p = 0.45; return atEdge(t) ? t : t < 0.5 ? 0.5 * elasticIn(t * 2, s, p) : 0.5 + 0.5 * elasticOut(t * 2 - 1, s, p); }, easeInBack(t) { const s = 1.70158; return t * t * ((s + 1) * t - s); }, easeOutBack(t) { const s = 1.70158; return (t -= 1) * t * ((s + 1) * t + s) + 1; }, easeInOutBack(t) { let s = 1.70158; if ((t /= 0.5) < 1) { return 0.5 * (t * t * (((s *= (1.525)) + 1) * t - s)); } return 0.5 * ((t -= 2) * t * (((s *= (1.525)) + 1) * t + s) + 2); }, easeInBounce: t => 1 - effects.easeOutBounce(1 - t), easeOutBounce(t) { const m = 7.5625; const d = 2.75; if (t < (1 / d)) { return m * t * t; } if (t < (2 / d)) { return m * (t -= (1.5 / d)) * t + 0.75; } if (t < (2.5 / d)) { return m * (t -= (2.25 / d)) * t + 0.9375; } return m * (t -= (2.625 / d)) * t + 0.984375; }, easeInOutBounce: t => (t < 0.5) ? effects.easeInBounce(t * 2) * 0.5 : effects.easeOutBounce(t * 2 - 1) * 0.5 + 0.5, }; /*! * @kurkle/color v0.2.1 * https://github.com/kurkle/color#readme * (c) 2022 Jukka Kurkela * Released under the MIT License */ function round(v) { return v + 0.5 | 0; } const lim = (v, l, h) => Math.max(Math.min(v, h), l); function p2b(v) { return lim(round(v * 2.55), 0, 255); } function n2b(v) { return lim(round(v * 255), 0, 255); } function b2n(v) { return lim(round(v / 2.55) / 100, 0, 1); } function n2p(v) { return lim(round(v * 100), 0, 100); } const map$1 = {0: 0, 1: 1, 2: 2, 3: 3, 4: 4, 5: 5, 6: 6, 7: 7, 8: 8, 9: 9, A: 10, B: 11, C: 12, D: 13, E: 14, F: 15, a: 10, b: 11, c: 12, d: 13, e: 14, f: 15}; const hex = [...'0123456789ABCDEF']; const h1 = b => hex[b & 0xF]; const h2 = b => hex[(b & 0xF0) >> 4] + hex[b & 0xF]; const eq = b => ((b & 0xF0) >> 4) === (b & 0xF); const isShort = v => eq(v.r) && eq(v.g) && eq(v.b) && eq(v.a); function hexParse(str) { var len = str.length; var ret; if (str[0] === '#') { if (len === 4 || len === 5) { ret = { r: 255 & map$1[str[1]] * 17, g: 255 & map$1[str[2]] * 17, b: 255 & map$1[str[3]] * 17, a: len === 5 ? map$1[str[4]] * 17 : 255 }; } else if (len === 7 || len === 9) { ret = { r: map$1[str[1]] << 4 | map$1[str[2]], g: map$1[str[3]] << 4 | map$1[str[4]], b: map$1[str[5]] << 4 | map$1[str[6]], a: len === 9 ? (map$1[str[7]] << 4 | map$1[str[8]]) : 255 }; } } return ret; } const alpha = (a, f) => a < 255 ? f(a) : ''; function hexString(v) { var f = isShort(v) ? h1 : h2; return v ? '#' + f(v.r) + f(v.g) + f(v.b) + alpha(v.a, f) : undefined; } const HUE_RE = /^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/; function hsl2rgbn(h, s, l) { const a = s * Math.min(l, 1 - l); const f = (n, k = (n + h / 30) % 12) => l - a * Math.max(Math.min(k - 3, 9 - k, 1), -1); return [f(0), f(8), f(4)]; } function hsv2rgbn(h, s, v) { const f = (n, k = (n + h / 60) % 6) => v - v * s * Math.max(Math.min(k, 4 - k, 1), 0); return [f(5), f(3), f(1)]; } function hwb2rgbn(h, w, b) { const rgb = hsl2rgbn(h, 1, 0.5); let i; if (w + b > 1) { i = 1 / (w + b); w *= i; b *= i; } for (i = 0; i < 3; i++) { rgb[i] *= 1 - w - b; rgb[i] += w; } return rgb; } function hueValue(r, g, b, d, max) { if (r === max) { return ((g - b) / d) + (g < b ? 6 : 0); } if (g === max) { return (b - r) / d + 2; } return (r - g) / d + 4; } function rgb2hsl(v) { const range = 255; const r = v.r / range; const g = v.g / range; const b = v.b / range; const max = Math.max(r, g, b); const min = Math.min(r, g, b); const l = (max + min) / 2; let h, s, d; if (max !== min) { d = max - min; s = l > 0.5 ? d / (2 - max - min) : d / (max + min); h = hueValue(r, g, b, d, max); h = h * 60 + 0.5; } return [h | 0, s || 0, l]; } function calln(f, a, b, c) { return ( Array.isArray(a) ? f(a[0], a[1], a[2]) : f(a, b, c) ).map(n2b); } function hsl2rgb(h, s, l) { return calln(hsl2rgbn, h, s, l); } function hwb2rgb(h, w, b) { return calln(hwb2rgbn, h, w, b); } function hsv2rgb(h, s, v) { return calln(hsv2rgbn, h, s, v); } function hue(h) { return (h % 360 + 360) % 360; } function hueParse(str) { const m = HUE_RE.exec(str); let a = 255; let v; if (!m) { return; } if (m[5] !== v) { a = m[6] ? p2b(+m[5]) : n2b(+m[5]); } const h = hue(+m[2]); const p1 = +m[3] / 100; const p2 = +m[4] / 100; if (m[1] === 'hwb') { v = hwb2rgb(h, p1, p2); } else if (m[1] === 'hsv') { v = hsv2rgb(h, p1, p2); } else { v = hsl2rgb(h, p1, p2); } return { r: v[0], g: v[1], b: v[2], a: a }; } function rotate(v, deg) { var h = rgb2hsl(v); h[0] = hue(h[0] + deg); h = hsl2rgb(h); v.r = h[0]; v.g = h[1]; v.b = h[2]; } function hslString(v) { if (!v) { return; } const a = rgb2hsl(v); const h = a[0]; const s = n2p(a[1]); const l = n2p(a[2]); return v.a < 255 ? `hsla(${h}, ${s}%, ${l}%, ${b2n(v.a)})` : `hsl(${h}, ${s}%, ${l}%)`; } const map = { x: 'dark', Z: 'light', Y: 're', X: 'blu', W: 'gr', V: 'medium', U: 'slate', A: 'ee', T: 'ol', S: 'or', B: 'ra', C: 'lateg', D: 'ights', R: 'in', Q: 'turquois', E: 'hi', P: 'ro', O: 'al', N: 'le', M: 'de', L: 'yello', F: 'en', K: 'ch', G: 'arks', H: 'ea', I: 'ightg', J: 'wh' }; const names$1 = { OiceXe: 'f0f8ff', antiquewEte: 'faebd7', aqua: 'ffff', aquamarRe: '7fffd4', azuY: 'f0ffff', beige: 'f5f5dc', bisque: 'ffe4c4', black: '0', blanKedOmond: 'ffebcd', Xe: 'ff', XeviTet: '8a2be2', bPwn: 'a52a2a', burlywood: 'deb887', caMtXe: '5f9ea0', KartYuse: '7fff00', KocTate: 'd2691e', cSO: 'ff7f50', cSnflowerXe: '6495ed', cSnsilk: 'fff8dc', crimson: 'dc143c', cyan: 'ffff', xXe: '8b', xcyan: '8b8b', xgTMnPd: 'b8860b', xWay: 'a9a9a9', xgYF: '6400', xgYy: 'a9a9a9', xkhaki: 'bdb76b', xmagFta: '8b008b', xTivegYF: '556b2f', xSange: 'ff8c00', xScEd: '9932cc', xYd: '8b0000', xsOmon: 'e9967a', xsHgYF: '8fbc8f', xUXe: '483d8b', xUWay: '2f4f4f', xUgYy: '2f4f4f', xQe: 'ced1', xviTet: '9400d3', dAppRk: 'ff1493', dApskyXe: 'bfff', dimWay: '696969', dimgYy: '696969', dodgerXe: '1e90ff', fiYbrick: 'b22222', flSOwEte: 'fffaf0', foYstWAn: '228b22', fuKsia: 'ff00ff', gaRsbSo: 'dcdcdc', ghostwEte: 'f8f8ff', gTd: 'ffd700', gTMnPd: 'daa520', Way: '808080', gYF: '8000', gYFLw: 'adff2f', gYy: '808080', honeyMw: 'f0fff0', hotpRk: 'ff69b4', RdianYd: 'cd5c5c', Rdigo: '4b0082', ivSy: 'fffff0', khaki: 'f0e68c', lavFMr: 'e6e6fa', lavFMrXsh: 'fff0f5', lawngYF: '7cfc00', NmoncEffon: 'fffacd', ZXe: 'add8e6', ZcSO: 'f08080', Zcyan: 'e0ffff', ZgTMnPdLw: 'fafad2', ZWay: 'd3d3d3', ZgYF: '90ee90', ZgYy: 'd3d3d3', ZpRk: 'ffb6c1', ZsOmon: 'ffa07a', ZsHgYF: '20b2aa', ZskyXe: '87cefa', ZUWay: '778899', ZUgYy: '778899', ZstAlXe: 'b0c4de', ZLw: 'ffffe0', lime: 'ff00', limegYF: '32cd32', lRF: 'faf0e6', magFta: 'ff00ff', maPon: '800000', VaquamarRe: '66cdaa', VXe: 'cd', VScEd: 'ba55d3', VpurpN: '9370db', VsHgYF: '3cb371', VUXe: '7b68ee', VsprRggYF: 'fa9a', VQe: '48d1cc', VviTetYd: 'c71585', midnightXe: '191970', mRtcYam: 'f5fffa', mistyPse: 'ffe4e1', moccasR: 'ffe4b5', navajowEte: 'ffdead', navy: '80', Tdlace: 'fdf5e6', Tive: '808000', TivedBb: '6b8e23', Sange: 'ffa500', SangeYd: 'ff4500', ScEd: 'da70d6', pOegTMnPd: 'eee8aa', pOegYF: '98fb98', pOeQe: 'afeeee', pOeviTetYd: 'db7093', papayawEp: 'ffefd5', pHKpuff: 'ffdab9', peru: 'cd853f', pRk: 'ffc0cb', plum: 'dda0dd', powMrXe: 'b0e0e6', purpN: '800080', YbeccapurpN: '663399', Yd: 'ff0000', Psybrown: 'bc8f8f', PyOXe: '4169e1', saddNbPwn: '8b4513', sOmon: 'fa8072', sandybPwn: 'f4a460', sHgYF: '2e8b57', sHshell: 'fff5ee', siFna: 'a0522d', silver: 'c0c0c0', skyXe: '87ceeb', UXe: '6a5acd', UWay: '708090', UgYy: '708090', snow: 'fffafa', sprRggYF: 'ff7f', stAlXe: '4682b4', tan: 'd2b48c', teO: '8080', tEstN: 'd8bfd8', tomato: 'ff6347', Qe: '40e0d0', viTet: 'ee82ee', JHt: 'f5deb3', wEte: 'ffffff', wEtesmoke: 'f5f5f5', Lw: 'ffff00', LwgYF: '9acd32' }; function unpack() { const unpacked = {}; const keys = Object.keys(names$1); const tkeys = Object.keys(map); let i, j, k, ok, nk; for (i = 0; i < keys.length; i++) { ok = nk = keys[i]; for (j = 0; j < tkeys.length; j++) { k = tkeys[j]; nk = nk.replace(k, map[k]); } k = parseInt(names$1[ok], 16); unpacked[nk] = [k >> 16 & 0xFF, k >> 8 & 0xFF, k & 0xFF]; } return unpacked; } let names; function nameParse(str) { if (!names) { names = unpack(); names.transparent = [0, 0, 0, 0]; } const a = names[str.toLowerCase()]; return a && { r: a[0], g: a[1], b: a[2], a: a.length === 4 ? a[3] : 255 }; } const RGB_RE = /^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/; function rgbParse(str) { const m = RGB_RE.exec(str); let a = 255; let r, g, b; if (!m) { return; } if (m[7] !== r) { const v = +m[7]; a = m[8] ? p2b(v) : lim(v * 255, 0, 255); } r = +m[1]; g = +m[3]; b = +m[5]; r = 255 & (m[2] ? p2b(r) : lim(r, 0, 255)); g = 255 & (m[4] ? p2b(g) : lim(g, 0, 255)); b = 255 & (m[6] ? p2b(b) : lim(b, 0, 255)); return { r: r, g: g, b: b, a: a }; } function rgbString(v) { return v && ( v.a < 255 ? `rgba(${v.r}, ${v.g}, ${v.b}, ${b2n(v.a)})` : `rgb(${v.r}, ${v.g}, ${v.b})` ); } const to = v => v <= 0.0031308 ? v * 12.92 : Math.pow(v, 1.0 / 2.4) * 1.055 - 0.055; const from = v => v <= 0.04045 ? v / 12.92 : Math.pow((v + 0.055) / 1.055, 2.4); function interpolate(rgb1, rgb2, t) { const r = from(b2n(rgb1.r)); const g = from(b2n(rgb1.g)); const b = from(b2n(rgb1.b)); return { r: n2b(to(r + t * (from(b2n(rgb2.r)) - r))), g: n2b(to(g + t * (from(b2n(rgb2.g)) - g))), b: n2b(to(b + t * (from(b2n(rgb2.b)) - b))), a: rgb1.a + t * (rgb2.a - rgb1.a) }; } function modHSL(v, i, ratio) { if (v) { let tmp = rgb2hsl(v); tmp[i] = Math.max(0, Math.min(tmp[i] + tmp[i] * ratio, i === 0 ? 360 : 1)); tmp = hsl2rgb(tmp); v.r = tmp[0]; v.g = tmp[1]; v.b = tmp[2]; } } function clone(v, proto) { return v ? Object.assign(proto || {}, v) : v; } function fromObject(input) { var v = {r: 0, g: 0, b: 0, a: 255}; if (Array.isArray(input)) { if (input.length >= 3) { v = {r: input[0], g: input[1], b: input[2], a: 255}; if (input.length > 3) { v.a = n2b(input[3]); } } } else { v = clone(input, {r: 0, g: 0, b: 0, a: 1}); v.a = n2b(v.a); } return v; } function functionParse(str) { if (str.charAt(0) === 'r') { return rgbParse(str); } return hueParse(str); } class Color { constructor(input) { if (input instanceof Color) { return input; } const type = typeof input; let v; if (type === 'object') { v = fromObject(input); } else if (type === 'string') { v = hexParse(input) || nameParse(input) || functionParse(input); } this._rgb = v; this._valid = !!v; } get valid() { return this._valid; } get rgb() { var v = clone(this._rgb); if (v) { v.a = b2n(v.a); } return v; } set rgb(obj) { this._rgb = fromObject(obj); } rgbString() { return this._valid ? rgbString(this._rgb) : undefined; } hexString() { return this._valid ? hexString(this._rgb) : undefined; } hslString() { return this._valid ? hslString(this._rgb) : undefined; } mix(color, weight) { if (color) { const c1 = this.rgb; const c2 = color.rgb; let w2; const p = weight === w2 ? 0.5 : weight; const w = 2 * p - 1; const a = c1.a - c2.a; const w1 = ((w * a === -1 ? w : (w + a) / (1 + w * a)) + 1) / 2.0; w2 = 1 - w1; c1.r = 0xFF & w1 * c1.r + w2 * c2.r + 0.5; c1.g = 0xFF & w1 * c1.g + w2 * c2.g + 0.5; c1.b = 0xFF & w1 * c1.b + w2 * c2.b + 0.5; c1.a = p * c1.a + (1 - p) * c2.a; this.rgb = c1; } return this; } interpolate(color, t) { if (color) { this._rgb = interpolate(this._rgb, color._rgb, t); } return this; } clone() { return new Color(this.rgb); } alpha(a) { this._rgb.a = n2b(a); return this; } clearer(ratio) { const rgb = this._rgb; rgb.a *= 1 - ratio; return this; } greyscale() { const rgb = this._rgb; const val = round(rgb.r * 0.3 + rgb.g * 0.59 + rgb.b * 0.11); rgb.r = rgb.g = rgb.b = val; return this; } opaquer(ratio) { const rgb = this._rgb; rgb.a *= 1 + ratio; return this; } negate() { const v = this._rgb; v.r = 255 - v.r; v.g = 255 - v.g; v.b = 255 - v.b; return this; } lighten(ratio) { modHSL(this._rgb, 2, ratio); return this; } darken(ratio) { modHSL(this._rgb, 2, -ratio); return this; } saturate(ratio) { modHSL(this._rgb, 1, ratio); return this; } desaturate(ratio) { modHSL(this._rgb, 1, -ratio); return this; } rotate(deg) { rotate(this._rgb, deg); return this; } } function index_esm(input) { return new Color(input); } function isPatternOrGradient(value) { if (value && typeof value === 'object') { const type = value.toString(); return type === '[object CanvasPattern]' || type === '[object CanvasGradient]'; } return false; } function color(value) { return isPatternOrGradient(value) ? value : index_esm(value); } function getHoverColor(value) { return isPatternOrGradient(value) ? value : index_esm(value).saturate(0.5).darken(0.1).hexString(); } const overrides = Object.create(null); const descriptors = Object.create(null); function getScope$1(node, key) { if (!key) { return node; } const keys = key.split('.'); for (let i = 0, n = keys.length; i < n; ++i) { const k = keys[i]; node = node[k] || (node[k] = Object.create(null)); } return node; } function set(root, scope, values) { if (typeof scope === 'string') { return merge(getScope$1(root, scope), values); } return merge(getScope$1(root, ''), scope); } class Defaults { constructor(_descriptors) { this.animation = undefined; this.backgroundColor = 'rgba(0,0,0,0.1)'; this.borderColor = 'rgba(0,0,0,0.1)'; this.color = '#666'; this.datasets = {}; this.devicePixelRatio = (context) => context.chart.platform.getDevicePixelRatio(); this.elements = {}; this.events = [ 'mousemove', 'mouseout', 'click', 'touchstart', 'touchmove' ]; this.font = { family: "'Helvetica Neue', 'Helvetica', 'Arial', sans-serif", size: 12, style: 'normal', lineHeight: 1.2, weight: null }; this.hover = {}; this.hoverBackgroundColor = (ctx, options) => getHoverColor(options.backgroundColor); this.hoverBorderColor = (ctx, options) => getHoverColor(options.borderColor); this.hoverColor = (ctx, options) => getHoverColor(options.color); this.indexAxis = 'x'; this.interaction = { mode: 'nearest', intersect: true, includeInvisible: false }; this.maintainAspectRatio = true; this.onHover = null; this.onClick = null; this.parsing = true; this.plugins = {}; this.responsive = true; this.scale = undefined; this.scales = {}; this.showLine = true; this.drawActiveElementsOnTop = true; this.describe(_descriptors); } set(scope, values) { return set(this, scope, values); } get(scope) { return getScope$1(this, scope); } describe(scope, values) { return set(descriptors, scope, values); } override(scope, values) { return set(overrides, scope, values); } route(scope, name, targetScope, targetName) { const scopeObject = getScope$1(this, scope); const targetScopeObject = getScope$1(this, targetScope); const privateName = '_' + name; Object.defineProperties(scopeObject, { [privateName]: { value: scopeObject[name], writable: true }, [name]: { enumerable: true, get() { const local = this[privateName]; const target = targetScopeObject[targetName]; if (isObject(local)) { return Object.assign({}, target, local); } return valueOrDefault(local, target); }, set(value) { this[privateName] = value; } } }); } } var defaults = new Defaults({ _scriptable: (name) => !name.startsWith('on'), _indexable: (name) => name !== 'events', hover: { _fallback: 'interaction' }, interaction: { _scriptable: false, _indexable: false, } }); function toFontString(font) { if (!font || isNullOrUndef(font.size) || isNullOrUndef(font.family)) { return null; } return (font.style ? font.style + ' ' : '') + (font.weight ? font.weight + ' ' : '') + font.size + 'px ' + font.family; } function _measureText(ctx, data, gc, longest, string) { let textWidth = data[string]; if (!textWidth) { textWidth = data[string] = ctx.measureText(string).width; gc.push(string); } if (textWidth > longest) { longest = textWidth; } return longest; } function _longestText(ctx, font, arrayOfThings, cache) { cache = cache || {}; let data = cache.data = cache.data || {}; let gc = cache.garbageCollect = cache.garbageCollect || []; if (cache.font !== font) { data = cache.data = {}; gc = cache.garbageCollect = []; cache.font = font; } ctx.save(); ctx.font = font; let longest = 0; const ilen = arrayOfThings.length; let i, j, jlen, thing, nestedThing; for (i = 0; i < ilen; i++) { thing = arrayOfThings[i]; if (thing !== undefined && thing !== null && isArray(thing) !== true) { longest = _measureText(ctx, data, gc, longest, thing); } else if (isArray(thing)) { for (j = 0, jlen = thing.length; j < jlen; j++) { nestedThing = thing[j]; if (nestedThing !== undefined && nestedThing !== null && !isArray(nestedThing)) { longest = _measureText(ctx, data, gc, longest, nestedThing); } } } } ctx.restore(); const gcLen = gc.length / 2; if (gcLen > arrayOfThings.length) { for (i = 0; i < gcLen; i++) { delete data[gc[i]]; } gc.splice(0, gcLen); } return longest; } function _alignPixel(chart, pixel, width) { const devicePixelRatio = chart.currentDevicePixelRatio; const halfWidth = width !== 0 ? Math.max(width / 2, 0.5) : 0; return Math.round((pixel - halfWidth) * devicePixelRatio) / devicePixelRatio + halfWidth; } function clearCanvas(canvas, ctx) { ctx = ctx || canvas.getContext('2d'); ctx.save(); ctx.resetTransform(); ctx.clearRect(0, 0, canvas.width, canvas.height); ctx.restore(); } function drawPoint(ctx, options, x, y) { drawPointLegend(ctx, options, x, y, null); } function drawPointLegend(ctx, options, x, y, w) { let type, xOffset, yOffset, size, cornerRadius, width; const style = options.pointStyle; const rotation = options.rotation; const radius = options.radius; let rad = (rotation || 0) * RAD_PER_DEG; if (style && typeof style === 'object') { type = style.toString(); if (type === '[object HTMLImageElement]' || type === '[object HTMLCanvasElement]') { ctx.save(); ctx.translate(x, y); ctx.rotate(rad); ctx.drawImage(style, -style.width / 2, -style.height / 2, style.width, style.height); ctx.restore(); return; } } if (isNaN(radius) || radius <= 0) { return; } ctx.beginPath(); switch (style) { default: if (w) { ctx.ellipse(x, y, w / 2, radius, 0, 0, TAU); } else { ctx.arc(x, y, radius, 0, TAU); } ctx.closePath(); break; case 'triangle': ctx.moveTo(x + Math.sin(rad) * radius, y - Math.cos(rad) * radius); rad += TWO_THIRDS_PI; ctx.lineTo(x + Math.sin(rad) * radius, y - Math.cos(rad) * radius); rad += TWO_THIRDS_PI; ctx.lineTo(x + Math.sin(rad) * radius, y - Math.cos(rad) * radius); ctx.closePath(); break; case 'rectRounded': cornerRadius = radius * 0.516; size = radius - cornerRadius; xOffset = Math.cos(rad + QUARTER_PI) * size; yOffset = Math.sin(rad + QUARTER_PI) * size; ctx.arc(x - xOffset, y - yOffset, cornerRadius, rad - PI, rad - HALF_PI); ctx.arc(x + yOffset, y - xOffset, cornerRadius, rad - HALF_PI, rad); ctx.arc(x + xOffset, y + yOffset, cornerRadius, rad, rad + HALF_PI); ctx.arc(x - yOffset, y + xOffset, cornerRadius, rad + HALF_PI, rad + PI); ctx.closePath(); break; case 'rect': if (!rotation) { size = Math.SQRT1_2 * radius; width = w ? w / 2 : size; ctx.rect(x - width, y - size, 2 * width, 2 * size); break; } rad += QUARTER_PI; case 'rectRot': xOffset = Math.cos(rad) * radius; yOffset = Math.sin(rad) * radius; ctx.moveTo(x - xOffset, y - yOffset); ctx.lineTo(x + yOffset, y - xOffset); ctx.lineTo(x + xOffset, y + yOffset); ctx.lineTo(x - yOffset, y + xOffset); ctx.closePath(); break; case 'crossRot': rad += QUARTER_PI; case 'cross': xOffset = Math.cos(rad) * radius; yOffset = Math.sin(rad) * radius; ctx.moveTo(x - xOffset, y - yOffset); ctx.lineTo(x + xOffset, y + yOffset); ctx.moveTo(x + yOffset, y - xOffset); ctx.lineTo(x - yOffset, y + xOffset); break; case 'star': xOffset = Math.cos(rad) * radius; yOffset = Math.sin(rad) * radius; ctx.moveTo(x - xOffset, y - yOffset); ctx.lineTo(x + xOffset, y + yOffset); ctx.moveTo(x + yOffset, y - xOffset); ctx.lineTo(x - yOffset, y + xOffset); rad += QUARTER_PI; xOffset = Math.cos(rad) * radius; yOffset = Math.sin(rad) * radius; ctx.moveTo(x - xOffset, y - yOffset); ctx.lineTo(x + xOffset, y + yOffset); ctx.moveTo(x + yOffset, y - xOffset); ctx.lineTo(x - yOffset, y + xOffset); break; case 'line': xOffset = w ? w / 2 : Math.cos(rad) * radius; yOffset = Math.sin(rad) * radius; ctx.moveTo(x - xOffset, y - yOffset); ctx.lineTo(x + xOffset, y + yOffset); break; case 'dash': ctx.moveTo(x, y); ctx.lineTo(x + Math.cos(rad) * radius, y + Math.sin(rad) * radius); break; } ctx.fill(); if (options.borderWidth > 0) { ctx.stroke(); } } function _isPointInArea(point, area, margin) { margin = margin || 0.5; return !area || (point && point.x > area.left - margin && point.x < area.right + margin && point.y > area.top - margin && point.y < area.bottom + margin); } function clipArea(ctx, area) { ctx.save(); ctx.beginPath(); ctx.rect(area.left, area.top, area.right - area.left, area.bottom - area.top); ctx.clip(); } function unclipArea(ctx) { ctx.restore(); } function _steppedLineTo(ctx, previous, target, flip, mode) { if (!previous) { return ctx.lineTo(target.x, target.y); } if (mode === 'middle') { const midpoint = (previous.x + target.x) / 2.0; ctx.lineTo(midpoint, previous.y); ctx.lineTo(midpoint, target.y); } else if (mode === 'after' !== !!flip) { ctx.lineTo(previous.x, target.y); } else { ctx.lineTo(target.x, previous.y); } ctx.lineTo(target.x, target.y); } function _bezierCurveTo(ctx, previous, target, flip) { if (!previous) { return ctx.lineTo(target.x, target.y); } ctx.bezierCurveTo( flip ? previous.cp1x : previous.cp2x, flip ? previous.cp1y : previous.cp2y, flip ? target.cp2x : target.cp1x, flip ? target.cp2y : target.cp1y, target.x, target.y); } function renderText(ctx, text, x, y, font, opts = {}) { const lines = isArray(text) ? text : [text]; const stroke = opts.strokeWidth > 0 && opts.strokeColor !== ''; let i, line; ctx.save(); ctx.font = font.string; setRenderOpts(ctx, opts); for (i = 0; i < lines.length; ++i) { line = lines[i]; if (stroke) { if (opts.strokeColor) { ctx.strokeStyle = opts.strokeColor; } if (!isNullOrUndef(opts.strokeWidth)) { ctx.lineWidth = opts.strokeWidth; } ctx.strokeText(line, x, y, opts.maxWidth); } ctx.fillText(line, x, y, opts.maxWidth); decorateText(ctx, x, y, line, opts); y += font.lineHeight; } ctx.restore(); } function setRenderOpts(ctx, opts) { if (opts.translation) { ctx.translate(opts.translation[0], opts.translation[1]); } if (!isNullOrUndef(opts.rotation)) { ctx.rotate(opts.rotation); } if (opts.color) { ctx.fillStyle = opts.color; } if (opts.textAlign) { ctx.textAlign = opts.textAlign; } if (opts.textBaseline) { ctx.textBaseline = opts.textBaseline; } } function decorateText(ctx, x, y, line, opts) { if (opts.strikethrough || opts.underline) { const metrics = ctx.measureText(line); const left = x - metrics.actualBoundingBoxLeft; const right = x + metrics.actualBoundingBoxRight; const top = y - metrics.actualBoundingBoxAscent; const bottom = y + metrics.actualBoundingBoxDescent; const yDecoration = opts.strikethrough ? (top + bottom) / 2 : bottom; ctx.strokeStyle = ctx.fillStyle; ctx.beginPath(); ctx.lineWidth = opts.decorationWidth || 2; ctx.moveTo(left, yDecoration); ctx.lineTo(right, yDecoration); ctx.stroke(); } } function addRoundedRectPath(ctx, rect) { const {x, y, w, h, radius} = rect; ctx.arc(x + radius.topLeft, y + radius.topLeft, radius.topLeft, -HALF_PI, PI, true); ctx.lineTo(x, y + h - radius.bottomLeft); ctx.arc(x + radius.bottomLeft, y + h - radius.bottomLeft, radius.bottomLeft, PI, HALF_PI, true); ctx.lineTo(x + w - radius.bottomRight, y + h); ctx.arc(x + w - radius.bottomRight, y + h - radius.bottomRight, radius.bottomRight, HALF_PI, 0, true); ctx.lineTo(x + w, y + radius.topRight); ctx.arc(x + w - radius.topRight, y + radius.topRight, radius.topRight, 0, -HALF_PI, true); ctx.lineTo(x + radius.topLeft, y); } const LINE_HEIGHT = new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/); const FONT_STYLE = new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/); function toLineHeight(value, size) { const matches = ('' + value).match(LINE_HEIGHT); if (!matches || matches[1] === 'normal') { return size * 1.2; } value = +matches[2]; switch (matches[3]) { case 'px': return value; case '%': value /= 100; break; } return size * value; } const numberOrZero = v => +v || 0; function _readValueToProps(value, props) { const ret = {}; const objProps = isObject(props); const keys = objProps ? Object.keys(props) : props; const read = isObject(value) ? objProps ? prop => valueOrDefault(value[prop], value[props[prop]]) : prop => value[prop] : () => value; for (const prop of keys) { ret[prop] = numberOrZero(read(prop)); } return ret; } function toTRBL(value) { return _readValueToProps(value, {top: 'y', right: 'x', bottom: 'y', left: 'x'}); } function toTRBLCorners(value) { return _readValueToProps(value, ['topLeft', 'topRight', 'bottomLeft', 'bottomRight']); } function toPadding(value) { const obj = toTRBL(value); obj.width = obj.left + obj.right; obj.height = obj.top + obj.bottom; return obj; } function toFont(options, fallback) { options = options || {}; fallback = fallback || defaults.font; let size = valueOrDefault(options.size, fallback.size); if (typeof size === 'string') { size = parseInt(size, 10); } let style = valueOrDefault(options.style, fallback.style); if (style && !('' + style).match(FONT_STYLE)) { console.warn('Invalid font style specified: "' + style + '"'); style = ''; } const font = { family: valueOrDefault(options.family, fallback.family), lineHeight: toLineHeight(valueOrDefault(options.lineHeight, fallback.lineHeight), size), size, style, weight: valueOrDefault(options.weight, fallback.weight), string: '' }; font.string = toFontString(font); return font; } function resolve(inputs, context, index, info) { let cacheable = true; let i, ilen, value; for (i = 0, ilen = inputs.length; i < ilen; ++i) { value = inputs[i]; if (value === undefined) { continue; } if (context !== undefined && typeof value === 'function') { value = value(context); cacheable = false; } if (index !== undefined && isArray(value)) { value = value[index % value.length]; cacheable = false; } if (value !== undefined) { if (info && !cacheable) { info.cacheable = false; } return value; } } } function _addGrace(minmax, grace, beginAtZero) { const {min, max} = minmax; const change = toDimension(grace, (max - min) / 2); const keepZero = (value, add) => beginAtZero && value === 0 ? 0 : value + add; return { min: keepZero(min, -Math.abs(change)), max: keepZero(max, change) }; } function createContext(parentContext, context) { return Object.assign(Object.create(parentContext), context); } function _createResolver(scopes, prefixes = [''], rootScopes = scopes, fallback, getTarget = () => scopes[0]) { if (!defined(fallback)) { fallback = _resolve('_fallback', scopes); } const cache = { [Symbol.toStringTag]: 'Object', _cacheable: true, _scopes: scopes, _rootScopes: rootScopes, _fallback: fallback, _getTarget: getTarget, override: (scope) => _createResolver([scope, ...scopes], prefixes, rootScopes, fallback), }; return new Proxy(cache, { deleteProperty(target, prop) { delete target[prop]; delete target._keys; delete scopes[0][prop]; return true; }, get(target, prop) { return _cached(target, prop, () => _resolveWithPrefixes(prop, prefixes, scopes, target)); }, getOwnPropertyDescriptor(target, prop) { return Reflect.getOwnPropertyDescriptor(target._scopes[0], prop); }, getPrototypeOf() { return Reflect.getPrototypeOf(scopes[0]); }, has(target, prop) { return getKeysFromAllScopes(target).includes(prop); }, ownKeys(target) { return getKeysFromAllScopes(target); }, set(target, prop, value) { const storage = target._storage || (target._storage = getTarget()); target[prop] = storage[prop] = value; delete target._keys; return true; } }); } function _attachContext(proxy, context, subProxy, descriptorDefaults) { const cache = { _cacheable: false, _proxy: proxy, _context: context, _subProxy: subProxy, _stack: new Set(), _descriptors: _descriptors(proxy, descriptorDefaults), setContext: (ctx) => _attachContext(proxy, ctx, subProxy, descriptorDefaults), override: (scope) => _attachContext(proxy.override(scope), context, subProxy, descriptorDefaults) }; return new Proxy(cache, { deleteProperty(target, prop) { delete target[prop]; delete proxy[prop]; return true; }, get(target, prop, receiver) { return _cached(target, prop, () => _resolveWithContext(target, prop, receiver)); }, getOwnPropertyDescriptor(target, prop) { return target._descriptors.allKeys ? Reflect.has(proxy, prop) ? {enumerable: true, configurable: true} : undefined : Reflect.getOwnPropertyDescriptor(proxy, prop); }, getPrototypeOf() { return Reflect.getPrototypeOf(proxy); }, has(target, prop) { return Reflect.has(proxy, prop); }, ownKeys() { return Reflect.ownKeys(proxy); }, set(target, prop, value) { proxy[prop] = value; delete target[prop]; return true; } }); } function _descriptors(proxy, defaults = {scriptable: true, indexable: true}) { const {_scriptable = defaults.scriptable, _indexable = defaults.indexable, _allKeys = defaults.allKeys} = proxy; return { allKeys: _allKeys, scriptable: _scriptable, indexable: _indexable, isScriptable: isFunction(_scriptable) ? _scriptable : () => _scriptable, isIndexable: isFunction(_indexable) ? _indexable : () => _indexable }; } const readKey = (prefix, name) => prefix ? prefix + _capitalize(name) : name; const needsSubResolver = (prop, value) => isObject(value) && prop !== 'adapters' && (Object.getPrototypeOf(value) === null || value.constructor === Object); function _cached(target, prop, resolve) { if (Object.prototype.hasOwnProperty.call(target, prop)) { return target[prop]; } const value = resolve(); target[prop] = value; return value; } function _resolveWithContext(target, prop, receiver) { const {_proxy, _context, _subProxy, _descriptors: descriptors} = target; let value = _proxy[prop]; if (isFunction(value) && descriptors.isScriptable(prop)) { value = _resolveScriptable(prop, value, target, receiver); } if (isArray(value) && value.length) { value = _resolveArray(prop, value, target, descriptors.isIndexable); } if (needsSubResolver(prop, value)) { value = _attachContext(value, _context, _subProxy && _subProxy[prop], descriptors); } return value; } function _resolveScriptable(prop, value, target, receiver) { const {_proxy, _context, _subProxy, _stack} = target; if (_stack.has(prop)) { throw new Error('Recursion detected: ' + Array.from(_stack).join('->') + '->' + prop); } _stack.add(prop); value = value(_context, _subProxy || receiver); _stack.delete(prop); if (needsSubResolver(prop, value)) { value = createSubResolver(_proxy._scopes, _proxy, prop, value); } return value; } function _resolveArray(prop, value, target, isIndexable) { const {_proxy, _context, _subProxy, _descriptors: descriptors} = target; if (defined(_context.index) && isIndexable(prop)) { value = value[_context.index % value.length]; } else if (isObject(value[0])) { const arr = value; const scopes = _proxy._scopes.filter(s => s !== arr); value = []; for (const item of arr) { const resolver = createSubResolver(scopes, _proxy, prop, item); value.push(_attachContext(resolver, _context, _subProxy && _subProxy[prop], descriptors)); } } return value; } function resolveFallback(fallback, prop, value) { return isFunction(fallback) ? fallback(prop, value) : fallback; } const getScope = (key, parent) => key === true ? parent : typeof key === 'string' ? resolveObjectKey(parent, key) : undefined; function addScopes(set, parentScopes, key, parentFallback, value) { for (const parent of parentScopes) { const scope = getScope(key, parent); if (scope) { set.add(scope); const fallback = resolveFallback(scope._fallback, key, value); if (defined(fallback) && fallback !== key && fallback !== parentFallback) { return fallback; } } else if (scope === false && defined(parentFallback) && key !== parentFallback) { return null; } } return false; } function createSubResolver(parentScopes, resolver, prop, value) { const rootScopes = resolver._rootScopes; const fallback = resolveFallback(resolver._fallback, prop, value); const allScopes = [...parentScopes, ...rootScopes]; const set = new Set(); set.add(value); let key = addScopesFromKey(set, allScopes, prop, fallback || prop, value); if (key === null) { return false; } if (defined(fallback) && fallback !== prop) { key = addScopesFromKey(set, allScopes, fallback, key, value); if (key === null) { return false; } } return _createResolver(Array.from(set), [''], rootScopes, fallback, () => subGetTarget(resolver, prop, value)); } function addScopesFromKey(set, allScopes, key, fallback, item) { while (key) { key = addScopes(set, allScopes, key, fallback, item); } return key; } function subGetTarget(resolver, prop, value) { const parent = resolver._getTarget(); if (!(prop in parent)) { parent[prop] = {}; } const target = parent[prop]; if (isArray(target) && isObject(value)) { return value; } return target; } function _resolveWithPrefixes(prop, prefixes, scopes, proxy) { let value; for (const prefix of prefixes) { value = _resolve(readKey(prefix, prop), scopes); if (defined(value)) { return needsSubResolver(prop, value) ? createSubResolver(scopes, proxy, prop, value) : value; } } } function _resolve(key, scopes) { for (const scope of scopes) { if (!scope) { continue; } const value = scope[key]; if (defined(value)) { return value; } } } function getKeysFromAllScopes(target) { let keys = target._keys; if (!keys) { keys = target._keys = resolveKeysFromAllScopes(target._scopes); } return keys; } function resolveKeysFromAllScopes(scopes) { const set = new Set(); for (const scope of scopes) { for (const key of Object.keys(scope).filter(k => !k.startsWith('_'))) { set.add(key); } } return Array.from(set); } function _parseObjectDataRadialScale(meta, data, start, count) { const {iScale} = meta; const {key = 'r'} = this._parsing; const parsed = new Array(count); let i, ilen, index, item; for (i = 0, ilen = count; i < ilen; ++i) { index = i + start; item = data[index]; parsed[i] = { r: iScale.parse(resolveObjectKey(item, key), index) }; } return parsed; } const EPSILON = Number.EPSILON || 1e-14; const getPoint = (points, i) => i < points.length && !points[i].skip && points[i]; const getValueAxis = (indexAxis) => indexAxis === 'x' ? 'y' : 'x'; function splineCurve(firstPoint, middlePoint, afterPoint, t) { const previous = firstPoint.skip ? middlePoint : firstPoint; const current = middlePoint; const next = afterPoint.skip ? middlePoint : afterPoint; const d01 = distanceBetweenPoints(current, previous); const d12 = distanceBetweenPoints(next, current); let s01 = d01 / (d01 + d12); let s12 = d12 / (d01 + d12); s01 = isNaN(s01) ? 0 : s01; s12 = isNaN(s12) ? 0 : s12; const fa = t * s01; const fb = t * s12; return { previous: { x: current.x - fa * (next.x - previous.x), y: current.y - fa * (next.y - previous.y) }, next: { x: current.x + fb * (next.x - previous.x), y: current.y + fb * (next.y - previous.y) } }; } function monotoneAdjust(points, deltaK, mK) { const pointsLen = points.length; let alphaK, betaK, tauK, squaredMagnitude, pointCurrent; let pointAfter = getPoint(points, 0); for (let i = 0; i < pointsLen - 1; ++i) { pointCurrent = pointAfter; pointAfter = getPoint(points, i + 1); if (!pointCurrent || !pointAfter) { continue; } if (almostEquals(deltaK[i], 0, EPSILON)) { mK[i] = mK[i + 1] = 0; continue; } alphaK = mK[i] / deltaK[i]; betaK = mK[i + 1] / deltaK[i]; squaredMagnitude = Math.pow(alphaK, 2) + Math.pow(betaK, 2); if (squaredMagnitude <= 9) { continue; } tauK = 3 / Math.sqrt(squaredMagnitude); mK[i] = alphaK * tauK * deltaK[i]; mK[i + 1] = betaK * tauK * deltaK[i]; } } function monotoneCompute(points, mK, indexAxis = 'x') { const valueAxis = getValueAxis(indexAxis); const pointsLen = points.length; let delta, pointBefore, pointCurrent; let pointAfter = getPoint(points, 0); for (let i = 0; i < pointsLen; ++i) { pointBefore = pointCurrent; pointCurrent = pointAfter; pointAfter = getPoint(points, i + 1); if (!pointCurrent) { continue; } const iPixel = pointCurrent[indexAxis]; const vPixel = pointCurrent[valueAxis]; if (pointBefore) { delta = (iPixel - pointBefore[indexAxis]) / 3; pointCurrent[`cp1${indexAxis}`] = iPixel - delta; pointCurrent[`cp1${valueAxis}`] = vPixel - delta * mK[i]; } if (pointAfter) { delta = (pointAfter[indexAxis] - iPixel) / 3; pointCurrent[`cp2${indexAxis}`] = iPixel + delta; pointCurrent[`cp2${valueAxis}`] = vPixel + delta * mK[i]; } } } function splineCurveMonotone(points, indexAxis = 'x') { const valueAxis = getValueAxis(indexAxis); const pointsLen = points.length; const deltaK = Array(pointsLen).fill(0); const mK = Array(pointsLen); let i, pointBefore, pointCurrent; let pointAfter = getPoint(points, 0); for (i = 0; i < pointsLen; ++i) { pointBefore = pointCurrent; pointCurrent = pointAfter; pointAfter = getPoint(points, i + 1); if (!pointCurrent) { continue; } if (pointAfter) { const slopeDelta = pointAfter[indexAxis] - pointCurrent[indexAxis]; deltaK[i] = slopeDelta !== 0 ? (pointAfter[valueAxis] - pointCurrent[valueAxis]) / slopeDelta : 0; } mK[i] = !pointBefore ? deltaK[i] : !pointAfter ? deltaK[i - 1] : (sign(deltaK[i - 1]) !== sign(deltaK[i])) ? 0 : (deltaK[i - 1] + deltaK[i]) / 2; } monotoneAdjust(points, deltaK, mK); monotoneCompute(points, mK, indexAxis); } function capControlPoint(pt, min, max) { return Math.max(Math.min(pt, max), min); } function capBezierPoints(points, area) { let i, ilen, point, inArea, inAreaPrev; let inAreaNext = _isPointInArea(points[0], area); for (i = 0, ilen = points.length; i < ilen; ++i) { inAreaPrev = inArea; inArea = inAreaNext; inAreaNext = i < ilen - 1 && _isPointInArea(points[i + 1], area); if (!inArea) { continue; } point = points[i]; if (inAreaPrev) { point.cp1x = capControlPoint(point.cp1x, area.left, area.right); point.cp1y = capControlPoint(point.cp1y, area.top, area.bottom); } if (inAreaNext) { point.cp2x = capControlPoint(point.cp2x, area.left, area.right); point.cp2y = capControlPoint(point.cp2y, area.top, area.bottom); } } } function _updateBezierControlPoints(points, options, area, loop, indexAxis) { let i, ilen, point, controlPoints; if (options.spanGaps) { points = points.filter((pt) => !pt.skip); } if (options.cubicInterpolationMode === 'monotone') { splineCurveMonotone(points, indexAxis); } else { let prev = loop ? points[points.length - 1] : points[0]; for (i = 0, ilen = points.length; i < ilen; ++i) { point = points[i]; controlPoints = splineCurve( prev, point, points[Math.min(i + 1, ilen - (loop ? 0 : 1)) % ilen], options.tension ); point.cp1x = controlPoints.previous.x; point.cp1y = controlPoints.previous.y; point.cp2x = controlPoints.next.x; point.cp2y = controlPoints.next.y; prev = point; } } if (options.capBezierPoints) { capBezierPoints(points, area); } } function _isDomSupported() { return typeof window !== 'undefined' && typeof document !== 'undefined'; } function _getParentNode(domNode) { let parent = domNode.parentNode; if (parent && parent.toString() === '[object ShadowRoot]') { parent = parent.host; } return parent; } function parseMaxStyle(styleValue, node, parentProperty) { let valueInPixels; if (typeof styleValue === 'string') { valueInPixels = parseInt(styleValue, 10); if (styleValue.indexOf('%') !== -1) { valueInPixels = valueInPixels / 100 * node.parentNode[parentProperty]; } } else { valueInPixels = styleValue; } return valueInPixels; } const getComputedStyle = (element) => window.getComputedStyle(element, null); function getStyle(el, property) { return getComputedStyle(el).getPropertyValue(property); } const positions = ['top', 'right', 'bottom', 'left']; function getPositionedStyle(styles, style, suffix) { const result = {}; suffix = suffix ? '-' + suffix : ''; for (let i = 0; i < 4; i++) { const pos = positions[i]; result[pos] = parseFloat(styles[style + '-' + pos + suffix]) || 0; } result.width = result.left + result.right; result.height = result.top + result.bottom; return result; } const useOffsetPos = (x, y, target) => (x > 0 || y > 0) && (!target || !target.shadowRoot); function getCanvasPosition(e, canvas) { const touches = e.touches; const source = touches && touches.length ? touches[0] : e; const {offsetX, offsetY} = source; let box = false; let x, y; if (useOffsetPos(offsetX, offsetY, e.target)) { x = offsetX; y = offsetY; } else { const rect = canvas.getBoundingClientRect(); x = source.clientX - rect.left; y = source.clientY - rect.top; box = true; } return {x, y, box}; } function getRelativePosition(evt, chart) { if ('native' in evt) { return evt; } const {canvas, currentDevicePixelRatio} = chart; const style = getComputedStyle(canvas); const borderBox = style.boxSizing === 'border-box'; const paddings = getPositionedStyle(style, 'padding'); const borders = getPositionedStyle(style, 'border', 'width'); const {x, y, box} = getCanvasPosition(evt, canvas); const xOffset = paddings.left + (box && borders.left); const yOffset = paddings.top + (box && borders.top); let {width, height} = chart; if (borderBox) { width -= paddings.width + borders.width; height -= paddings.height + borders.height; } return { x: Math.round((x - xOffset) / width * canvas.width / currentDevicePixelRatio), y: Math.round((y - yOffset) / height * canvas.height / currentDevicePixelRatio) }; } function getContainerSize(canvas, width, height) { let maxWidth, maxHeight; if (width === undefined || height === undefined) { const container = _getParentNode(canvas); if (!container) { width = canvas.clientWidth; height = canvas.clientHeight; } else { const rect = container.getBoundingClientRect(); const containerStyle = getComputedStyle(container); const containerBorder = getPositionedStyle(containerStyle, 'border', 'width'); const containerPadding = getPositionedStyle(containerStyle, 'padding'); width = rect.width - containerPadding.width - containerBorder.width; height = rect.height - containerPadding.height - containerBorder.height; maxWidth = parseMaxStyle(containerStyle.maxWidth, container, 'clientWidth'); maxHeight = parseMaxStyle(containerStyle.maxHeight, container, 'clientHeight'); } } return { width, height, maxWidth: maxWidth || INFINITY, maxHeight: maxHeight || INFINITY }; } const round1 = v => Math.round(v * 10) / 10; function getMaximumSize(canvas, bbWidth, bbHeight, aspectRatio) { const style = getComputedStyle(canvas); const margins = getPositionedStyle(style, 'margin'); const maxWidth = parseMaxStyle(style.maxWidth, canvas, 'clientWidth') || INFINITY; const maxHeight = parseMaxStyle(style.maxHeight, canvas, 'clientHeight') || INFINITY; const containerSize = getContainerSize(canvas, bbWidth, bbHeight); let {width, height} = containerSize; if (style.boxSizing === 'content-box') { const borders = getPositionedStyle(style, 'border', 'width'); const paddings = getPositionedStyle(style, 'padding'); width -= paddings.width + borders.width; height -= paddings.height + borders.height; } width = Math.max(0, width - margins.width); height = Math.max(0, aspectRatio ? Math.floor(width / aspectRatio) : height - margins.height); width = round1(Math.min(width, maxWidth, containerSize.maxWidth)); height = round1(Math.min(height, maxHeight, containerSize.maxHeight)); if (width && !height) { height = round1(width / 2); } return { width, height }; } function retinaScale(chart, forceRatio, forceStyle) { const pixelRatio = forceRatio || 1; const deviceHeight = Math.floor(chart.height * pixelRatio); const deviceWidth = Math.floor(chart.width * pixelRatio); chart.height = deviceHeight / pixelRatio; chart.width = deviceWidth / pixelRatio; const canvas = chart.canvas; if (canvas.style && (forceStyle || (!canvas.style.height && !canvas.style.width))) { canvas.style.height = `${chart.height}px`; canvas.style.width = `${chart.width}px`; } if (chart.currentDevicePixelRatio !== pixelRatio || canvas.height !== deviceHeight || canvas.width !== deviceWidth) { chart.currentDevicePixelRatio = pixelRatio; canvas.height = deviceHeight; canvas.width = deviceWidth; chart.ctx.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0); return true; } return false; } const supportsEventListenerOptions = (function() { let passiveSupported = false; try { const options = { get passive() { passiveSupported = true; return false; } }; window.addEventListener('test', null, options); window.removeEventListener('test', null, options); } catch (e) { } return passiveSupported; }()); function readUsedSize(element, property) { const value = getStyle(element, property); const matches = value && value.match(/^(\d+)(\.\d+)?px$/); return matches ? +matches[1] : undefined; } function _pointInLine(p1, p2, t, mode) { return { x: p1.x + t * (p2.x - p1.x), y: p1.y + t * (p2.y - p1.y) }; } function _steppedInterpolation(p1, p2, t, mode) { return { x: p1.x + t * (p2.x - p1.x), y: mode === 'middle' ? t < 0.5 ? p1.y : p2.y : mode === 'after' ? t < 1 ? p1.y : p2.y : t > 0 ? p2.y : p1.y }; } function _bezierInterpolation(p1, p2, t, mode) { const cp1 = {x: p1.cp2x, y: p1.cp2y}; const cp2 = {x: p2.cp1x, y: p2.cp1y}; const a = _pointInLine(p1, cp1, t); const b = _pointInLine(cp1, cp2, t); const c = _pointInLine(cp2, p2, t); const d = _pointInLine(a, b, t); const e = _pointInLine(b, c, t); return _pointInLine(d, e, t); } const intlCache = new Map(); function getNumberFormat(locale, options) { options = options || {}; const cacheKey = locale + JSON.stringify(options); let formatter = intlCache.get(cacheKey); if (!formatter) { formatter = new Intl.NumberFormat(locale, options); intlCache.set(cacheKey, formatter); } return formatter; } function formatNumber(num, locale, options) { return getNumberFormat(locale, options).format(num); } const getRightToLeftAdapter = function(rectX, width) { return { x(x) { return rectX + rectX + width - x; }, setWidth(w) { width = w; }, textAlign(align) { if (align === 'center') { return align; } return align === 'right' ? 'left' : 'right'; }, xPlus(x, value) { return x - value; }, leftForLtr(x, itemWidth) { return x - itemWidth; }, }; }; const getLeftToRightAdapter = function() { return { x(x) { return x; }, setWidth(w) { }, textAlign(align) { return align; }, xPlus(x, value) { return x + value; }, leftForLtr(x, _itemWidth) { return x; }, }; }; function getRtlAdapter(rtl, rectX, width) { return rtl ? getRightToLeftAdapter(rectX, width) : getLeftToRightAdapter(); } function overrideTextDirection(ctx, direction) { let style, original; if (direction === 'ltr' || direction === 'rtl') { style = ctx.canvas.style; original = [ style.getPropertyValue('direction'), style.getPropertyPriority('direction'), ]; style.setProperty('direction', direction, 'important'); ctx.prevTextDirection = original; } } function restoreTextDirection(ctx, original) { if (original !== undefined) { delete ctx.prevTextDirection; ctx.canvas.style.setProperty('direction', original[0], original[1]); } } function propertyFn(property) { if (property === 'angle') { return { between: _angleBetween, compare: _angleDiff, normalize: _normalizeAngle, }; } return { between: _isBetween, compare: (a, b) => a - b, normalize: x => x }; } function normalizeSegment({start, end, count, loop, style}) { return { start: start % count, end: end % count, loop: loop && (end - start + 1) % count === 0, style }; } function getSegment(segment, points, bounds) { const {property, start: startBound, end: endBound} = bounds; const {between, normalize} = propertyFn(property); const count = points.length; let {start, end, loop} = segment; let i, ilen; if (loop) { start += count; end += count; for (i = 0, ilen = count; i < ilen; ++i) { if (!between(normalize(points[start % count][property]), startBound, endBound)) { break; } start--; end--; } start %= count; end %= count; } if (end < start) { end += count; } return {start, end, loop, style: segment.style}; } function _boundSegment(segment, points, bounds) { if (!bounds) { return [segment]; } const {property, start: startBound, end: endBound} = bounds; const count = points.length; const {compare, between, normalize} = propertyFn(property); const {start, end, loop, style} = getSegment(segment, points, bounds); const result = []; let inside = false; let subStart = null; let value, point, prevValue; const startIsBefore = () => between(startBound, prevValue, value) && compare(startBound, prevValue) !== 0; const endIsBefore = () => compare(endBound, value) === 0 || between(endBound, prevValue, value); const shouldStart = () => inside || startIsBefore(); const shouldStop = () => !inside || endIsBefore(); for (let i = start, prev = start; i <= end; ++i) { point = points[i % count]; if (point.skip) { continue; } value = normalize(point[property]); if (value === prevValue) { continue; } inside = between(value, startBound, endBound); if (subStart === null && shouldStart()) { subStart = compare(value, startBound) === 0 ? i : prev; } if (subStart !== null && shouldStop()) { result.push(normalizeSegment({start: subStart, end: i, loop, count, style})); subStart = null; } prev = i; prevValue = value; } if (subStart !== null) { result.push(normalizeSegment({start: subStart, end, loop, count, style})); } return result; } function _boundSegments(line, bounds) { const result = []; const segments = line.segments; for (let i = 0; i < segments.length; i++) { const sub = _boundSegment(segments[i], line.points, bounds); if (sub.length) { result.push(...sub); } } return result; } function findStartAndEnd(points, count, loop, spanGaps) { let start = 0; let end = count - 1; if (loop && !spanGaps) { while (start < count && !points[start].skip) { start++; } } while (start < count && points[start].skip) { start++; } start %= count; if (loop) { end += start; } while (end > start && points[end % count].skip) { end--; } end %= count; return {start, end}; } function solidSegments(points, start, max, loop) { const count = points.length; const result = []; let last = start; let prev = points[start]; let end; for (end = start + 1; end <= max; ++end) { const cur = points[end % count]; if (cur.skip || cur.stop) { if (!prev.skip) { loop = false; result.push({start: start % count, end: (end - 1) % count, loop}); start = last = cur.stop ? end : null; } } else { last = end; if (prev.skip) { start = end; } } prev = cur; } if (last !== null) { result.push({start: start % count, end: last % count, loop}); } return result; } function _computeSegments(line, segmentOptions) { const points = line.points; const spanGaps = line.options.spanGaps; const count = points.length; if (!count) { return []; } const loop = !!line._loop; const {start, end} = findStartAndEnd(points, count, loop, spanGaps); if (spanGaps === true) { return splitByStyles(line, [{start, end, loop}], points, segmentOptions); } const max = end < start ? end + count : end; const completeLoop = !!line._fullLoop && start === 0 && end === count - 1; return splitByStyles(line, solidSegments(points, start, max, completeLoop), points, segmentOptions); } function splitByStyles(line, segments, points, segmentOptions) { if (!segmentOptions || !segmentOptions.setContext || !points) { return segments; } return doSplitByStyles(line, segments, points, segmentOptions); } function doSplitByStyles(line, segments, points, segmentOptions) { const chartContext = line._chart.getContext(); const baseStyle = readStyle(line.options); const {_datasetIndex: datasetIndex, options: {spanGaps}} = line; const count = points.length; const result = []; let prevStyle = baseStyle; let start = segments[0].start; let i = start; function addStyle(s, e, l, st) { const dir = spanGaps ? -1 : 1; if (s === e) { return; } s += count; while (points[s % count].skip) { s -= dir; } while (points[e % count].skip) { e += dir; } if (s % count !== e % count) { result.push({start: s % count, end: e % count, loop: l, style: st}); prevStyle = st; start = e % count; } } for (const segment of segments) { start = spanGaps ? start : segment.start; let prev = points[start % count]; let style; for (i = start + 1; i <= segment.end; i++) { const pt = points[i % count]; style = readStyle(segmentOptions.setContext(createContext(chartContext, { type: 'segment', p0: prev, p1: pt, p0DataIndex: (i - 1) % count, p1DataIndex: i % count, datasetIndex }))); if (styleChanged(style, prevStyle)) { addStyle(start, i - 1, segment.loop, prevStyle); } prev = pt; prevStyle = style; } if (start < i - 1) { addStyle(start, i - 1, segment.loop, prevStyle); } } return result; } function readStyle(options) { return { backgroundColor: options.backgroundColor, borderCapStyle: options.borderCapStyle, borderDash: options.borderDash, borderDashOffset: options.borderDashOffset, borderJoinStyle: options.borderJoinStyle, borderWidth: options.borderWidth, borderColor: options.borderColor }; } function styleChanged(style, prevStyle) { return prevStyle && JSON.stringify(style) !== JSON.stringify(prevStyle); } export { _isPointInArea as $, _factorize as A, finiteOrDefault as B, callback as C, _addGrace as D, _limitValue as E, toDegrees as F, _measureText as G, HALF_PI as H, _int16Range as I, _alignPixel as J, toPadding as K, clipArea as L, renderText as M, unclipArea as N, toFont as O, PI as P, each as Q, _toLeftRightCenter as R, _alignStartEnd as S, TAU as T, overrides as U, merge as V, _capitalize as W, getRelativePosition as X, _rlookupByKey as Y, _lookupByKey as Z, _arrayUnique as _, resolve as a, toLineHeight as a$, getAngleFromPoint as a0, getMaximumSize as a1, _getParentNode as a2, readUsedSize as a3, throttled as a4, supportsEventListenerOptions as a5, _isDomSupported as a6, descriptors as a7, isFunction as a8, _attachContext as a9, getRtlAdapter as aA, overrideTextDirection as aB, _textX as aC, restoreTextDirection as aD, drawPointLegend as aE, noop as aF, distanceBetweenPoints as aG, _setMinAndMaxByKey as aH, niceNum as aI, almostWhole as aJ, almostEquals as aK, _decimalPlaces as aL, _longestText as aM, _filterBetween as aN, _lookup as aO, isPatternOrGradient as aP, getHoverColor as aQ, clone$1 as aR, _merger as aS, _mergerIf as aT, _deprecated as aU, _splitKey as aV, toFontString as aW, splineCurve as aX, splineCurveMonotone as aY, getStyle as aZ, fontString as a_, _createResolver as aa, _descriptors as ab, mergeIf as ac, uid as ad, debounce as ae, retinaScale as af, clearCanvas as ag, setsEqual as ah, _elementsEqual as ai, _isClickEvent as aj, _isBetween as ak, _readValueToProps as al, _updateBezierControlPoints as am, _computeSegments as an, _boundSegments as ao, _steppedInterpolation as ap, _bezierInterpolation as aq, _pointInLine as ar, _steppedLineTo as as, _bezierCurveTo as at, drawPoint as au, addRoundedRectPath as av, toTRBL as aw, toTRBLCorners as ax, _boundSegment as ay, _normalizeAngle as az, isArray as b, PITAU as b0, INFINITY as b1, RAD_PER_DEG as b2, QUARTER_PI as b3, TWO_THIRDS_PI as b4, _angleDiff as b5, color as c, defaults as d, effects as e, resolveObjectKey as f, isNumberFinite as g, createContext as h, isObject as i, defined as j, isNullOrUndef as k, listenArrayEvents as l, toPercentage as m, toDimension as n, formatNumber as o, _angleBetween as p, _getStartAndCountOfVisiblePoints as q, requestAnimFrame as r, sign as s, toRadians as t, unlistenArrayEvents as u, valueOrDefault as v, _scaleRangesChanged as w, isNumber as x, _parseObjectDataRadialScale as y, log10 as z }; ",
  "/*! * Chart.js v3.9.1 * https://www.chartjs.org * (c) 2022 Chart.js Contributors * Released under the MIT License */ import { r as requestAnimFrame, a as resolve, e as effects, c as color, d as defaults, i as isObject, b as isArray, v as valueOrDefault, u as unlistenArrayEvents, l as listenArrayEvents, f as resolveObjectKey, g as isNumberFinite, h as createContext, j as defined, s as sign, k as isNullOrUndef, _ as _arrayUnique, t as toRadians, m as toPercentage, n as toDimension, T as TAU, o as formatNumber, p as _angleBetween, H as HALF_PI, P as PI, q as _getStartAndCountOfVisiblePoints, w as _scaleRangesChanged, x as isNumber, y as _parseObjectDataRadialScale, z as log10, A as _factorize, B as finiteOrDefault, C as callback, D as _addGrace, E as _limitValue, F as toDegrees, G as _measureText, I as _int16Range, J as _alignPixel, K as toPadding, L as clipArea, M as renderText, N as unclipArea, O as toFont, Q as each, R as _toLeftRightCenter, S as _alignStartEnd, U as overrides, V as merge, W as _capitalize, X as getRelativePosition, Y as _rlookupByKey, Z as _lookupByKey, $ as _isPointInArea, a0 as getAngleFromPoint, a1 as getMaximumSize, a2 as _getParentNode, a3 as readUsedSize, a4 as throttled, a5 as supportsEventListenerOptions, a6 as _isDomSupported, a7 as descriptors, a8 as isFunction, a9 as _attachContext, aa as _createResolver, ab as _descriptors, ac as mergeIf, ad as uid, ae as debounce, af as retinaScale, ag as clearCanvas, ah as setsEqual, ai as _elementsEqual, aj as _isClickEvent, ak as _isBetween, al as _readValueToProps, am as _updateBezierControlPoints, an as _computeSegments, ao as _boundSegments, ap as _steppedInterpolation, aq as _bezierInterpolation, ar as _pointInLine, as as _steppedLineTo, at as _bezierCurveTo, au as drawPoint, av as addRoundedRectPath, aw as toTRBL, ax as toTRBLCorners, ay as _boundSegment, az as _normalizeAngle, aA as getRtlAdapter, aB as overrideTextDirection, aC as _textX, aD as restoreTextDirection, aE as drawPointLegend, aF as noop, aG as distanceBetweenPoints, aH as _setMinAndMaxByKey, aI as niceNum, aJ as almostWhole, aK as almostEquals, aL as _decimalPlaces, aM as _longestText, aN as _filterBetween, aO as _lookup } from './chunks/helpers.segment.mjs'; export { d as defaults } from './chunks/helpers.segment.mjs'; class Animator { constructor() { this._request = null; this._charts = new Map(); this._running = false; this._lastDate = undefined; } _notify(chart, anims, date, type) { const callbacks = anims.listeners[type]; const numSteps = anims.duration; callbacks.forEach(fn => fn({ chart, initial: anims.initial, numSteps, currentStep: Math.min(date - anims.start, numSteps) })); } _refresh() { if (this._request) { return; } this._running = true; this._request = requestAnimFrame.call(window, () => { this._update(); this._request = null; if (this._running) { this._refresh(); } }); } _update(date = Date.now()) { let remaining = 0; this._charts.forEach((anims, chart) => { if (!anims.running || !anims.items.length) { return; } const items = anims.items; let i = items.length - 1; let draw = false; let item; for (; i >= 0; --i) { item = items[i]; if (item._active) { if (item._total > anims.duration) { anims.duration = item._total; } item.tick(date); draw = true; } else { items[i] = items[items.length - 1]; items.pop(); } } if (draw) { chart.draw(); this._notify(chart, anims, date, 'progress'); } if (!items.length) { anims.running = false; this._notify(chart, anims, date, 'complete'); anims.initial = false; } remaining += items.length; }); this._lastDate = date; if (remaining === 0) { this._running = false; } } _getAnims(chart) { const charts = this._charts; let anims = charts.get(chart); if (!anims) { anims = { running: false, initial: true, items: [], listeners: { complete: [], progress: [] } }; charts.set(chart, anims); } return anims; } listen(chart, event, cb) { this._getAnims(chart).listeners[event].push(cb); } add(chart, items) { if (!items || !items.length) { return; } this._getAnims(chart).items.push(...items); } has(chart) { return this._getAnims(chart).items.length > 0; } start(chart) { const anims = this._charts.get(chart); if (!anims) { return; } anims.running = true; anims.start = Date.now(); anims.duration = anims.items.reduce((acc, cur) => Math.max(acc, cur._duration), 0); this._refresh(); } running(chart) { if (!this._running) { return false; } const anims = this._charts.get(chart); if (!anims || !anims.running || !anims.items.length) { return false; } return true; } stop(chart) { const anims = this._charts.get(chart); if (!anims || !anims.items.length) { return; } const items = anims.items; let i = items.length - 1; for (; i >= 0; --i) { items[i].cancel(); } anims.items = []; this._notify(chart, anims, Date.now(), 'complete'); } remove(chart) { return this._charts.delete(chart); } } var animator = new Animator(); const transparent = 'transparent'; const interpolators = { boolean(from, to, factor) { return factor > 0.5 ? to : from; }, color(from, to, factor) { const c0 = color(from || transparent); const c1 = c0.valid && color(to || transparent); return c1 && c1.valid ? c1.mix(c0, factor).hexString() : to; }, number(from, to, factor) { return from + (to - from) * factor; } }; class Animation { constructor(cfg, target, prop, to) { const currentValue = target[prop]; to = resolve([cfg.to, to, currentValue, cfg.from]); const from = resolve([cfg.from, currentValue, to]); this._active = true; this._fn = cfg.fn || interpolators[cfg.type || typeof from]; this._easing = effects[cfg.easing] || effects.linear; this._start = Math.floor(Date.now() + (cfg.delay || 0)); this._duration = this._total = Math.floor(cfg.duration); this._loop = !!cfg.loop; this._target = target; this._prop = prop; this._from = from; this._to = to; this._promises = undefined; } active() { return this._active; } update(cfg, to, date) { if (this._active) { this._notify(false); const currentValue = this._target[this._prop]; const elapsed = date - this._start; const remain = this._duration - elapsed; this._start = date; this._duration = Math.floor(Math.max(remain, cfg.duration)); this._total += elapsed; this._loop = !!cfg.loop; this._to = resolve([cfg.to, to, currentValue, cfg.from]); this._from = resolve([cfg.from, currentValue, to]); } } cancel() { if (this._active) { this.tick(Date.now()); this._active = false; this._notify(false); } } tick(date) { const elapsed = date - this._start; const duration = this._duration; const prop = this._prop; const from = this._from; const loop = this._loop; const to = this._to; let factor; this._active = from !== to && (loop || (elapsed < duration)); if (!this._active) { this._target[prop] = to; this._notify(true); return; } if (elapsed < 0) { this._target[prop] = from; return; } factor = (elapsed / duration) % 2; factor = loop && factor > 1 ? 2 - factor : factor; factor = this._easing(Math.min(1, Math.max(0, factor))); this._target[prop] = this._fn(from, to, factor); } wait() { const promises = this._promises || (this._promises = []); return new Promise((res, rej) => { promises.push({res, rej}); }); } _notify(resolved) { const method = resolved ? 'res' : 'rej'; const promises = this._promises || []; for (let i = 0; i < promises.length; i++) { promises[i][method](); } } } const numbers = ['x', 'y', 'borderWidth', 'radius', 'tension']; const colors = ['color', 'borderColor', 'backgroundColor']; defaults.set('animation', { delay: undefined, duration: 1000, easing: 'easeOutQuart', fn: undefined, from: undefined, loop: undefined, to: undefined, type: undefined, }); const animationOptions = Object.keys(defaults.animation); defaults.describe('animation', { _fallback: false, _indexable: false, _scriptable: (name) => name !== 'onProgress' && name !== 'onComplete' && name !== 'fn', }); defaults.set('animations', { colors: { type: 'color', properties: colors }, numbers: { type: 'number', properties: numbers }, }); defaults.describe('animations', { _fallback: 'animation', }); defaults.set('transitions', { active: { animation: { duration: 400 } }, resize: { animation: { duration: 0 } }, show: { animations: { colors: { from: 'transparent' }, visible: { type: 'boolean', duration: 0 }, } }, hide: { animations: { colors: { to: 'transparent' }, visible: { type: 'boolean', easing: 'linear', fn: v => v | 0 }, } } }); class Animations { constructor(chart, config) { this._chart = chart; this._properties = new Map(); this.configure(config); } configure(config) { if (!isObject(config)) { return; } const animatedProps = this._properties; Object.getOwnPropertyNames(config).forEach(key => { const cfg = config[key]; if (!isObject(cfg)) { return; } const resolved = {}; for (const option of animationOptions) { resolved[option] = cfg[option]; } (isArray(cfg.properties) && cfg.properties || [key]).forEach((prop) => { if (prop === key || !animatedProps.has(prop)) { animatedProps.set(prop, resolved); } }); }); } _animateOptions(target, values) { const newOptions = values.options; const options = resolveTargetOptions(target, newOptions); if (!options) { return []; } const animations = this._createAnimations(options, newOptions); if (newOptions.$shared) { awaitAll(target.options.$animations, newOptions).then(() => { target.options = newOptions; }, () => { }); } return animations; } _createAnimations(target, values) { const animatedProps = this._properties; const animations = []; const running = target.$animations || (target.$animations = {}); const props = Object.keys(values); const date = Date.now(); let i; for (i = props.length - 1; i >= 0; --i) { const prop = props[i]; if (prop.charAt(0) === '$') { continue; } if (prop === 'options') { animations.push(...this._animateOptions(target, values)); continue; } const value = values[prop]; let animation = running[prop]; const cfg = animatedProps.get(prop); if (animation) { if (cfg && animation.active()) { animation.update(cfg, value, date); continue; } else { animation.cancel(); } } if (!cfg || !cfg.duration) { target[prop] = value; continue; } running[prop] = animation = new Animation(cfg, target, prop, value); animations.push(animation); } return animations; } update(target, values) { if (this._properties.size === 0) { Object.assign(target, values); return; } const animations = this._createAnimations(target, values); if (animations.length) { animator.add(this._chart, animations); return true; } } } function awaitAll(animations, properties) { const running = []; const keys = Object.keys(properties); for (let i = 0; i < keys.length; i++) { const anim = animations[keys[i]]; if (anim && anim.active()) { running.push(anim.wait()); } } return Promise.all(running); } function resolveTargetOptions(target, newOptions) { if (!newOptions) { return; } let options = target.options; if (!options) { target.options = newOptions; return; } if (options.$shared) { target.options = options = Object.assign({}, options, {$shared: false, $animations: {}}); } return options; } function scaleClip(scale, allowedOverflow) { const opts = scale && scale.options || {}; const reverse = opts.reverse; const min = opts.min === undefined ? allowedOverflow : 0; const max = opts.max === undefined ? allowedOverflow : 0; return { start: reverse ? max : min, end: reverse ? min : max }; } function defaultClip(xScale, yScale, allowedOverflow) { if (allowedOverflow === false) { return false; } const x = scaleClip(xScale, allowedOverflow); const y = scaleClip(yScale, allowedOverflow); return { top: y.end, right: x.end, bottom: y.start, left: x.start }; } function toClip(value) { let t, r, b, l; if (isObject(value)) { t = value.top; r = value.right; b = value.bottom; l = value.left; } else { t = r = b = l = value; } return { top: t, right: r, bottom: b, left: l, disabled: value === false }; } function getSortedDatasetIndices(chart, filterVisible) { const keys = []; const metasets = chart._getSortedDatasetMetas(filterVisible); let i, ilen; for (i = 0, ilen = metasets.length; i < ilen; ++i) { keys.push(metasets[i].index); } return keys; } function applyStack(stack, value, dsIndex, options = {}) { const keys = stack.keys; const singleMode = options.mode === 'single'; let i, ilen, datasetIndex, otherValue; if (value === null) { return; } for (i = 0, ilen = keys.length; i < ilen; ++i) { datasetIndex = +keys[i]; if (datasetIndex === dsIndex) { if (options.all) { continue; } break; } otherValue = stack.values[datasetIndex]; if (isNumberFinite(otherValue) && (singleMode || (value === 0 || sign(value) === sign(otherValue)))) { value += otherValue; } } return value; } function convertObjectDataToArray(data) { const keys = Object.keys(data); const adata = new Array(keys.length); let i, ilen, key; for (i = 0, ilen = keys.length; i < ilen; ++i) { key = keys[i]; adata[i] = { x: key, y: data[key] }; } return adata; } function isStacked(scale, meta) { const stacked = scale && scale.options.stacked; return stacked || (stacked === undefined && meta.stack !== undefined); } function getStackKey(indexScale, valueScale, meta) { return `${indexScale.id}.${valueScale.id}.${meta.stack || meta.type}`; } function getUserBounds(scale) { const {min, max, minDefined, maxDefined} = scale.getUserBounds(); return { min: minDefined ? min : Number.NEGATIVE_INFINITY, max: maxDefined ? max : Number.POSITIVE_INFINITY }; } function getOrCreateStack(stacks, stackKey, indexValue) { const subStack = stacks[stackKey] || (stacks[stackKey] = {}); return subStack[indexValue] || (subStack[indexValue] = {}); } function getLastIndexInStack(stack, vScale, positive, type) { for (const meta of vScale.getMatchingVisibleMetas(type).reverse()) { const value = stack[meta.index]; if ((positive && value > 0) || (!positive && value < 0)) { return meta.index; } } return null; } function updateStacks(controller, parsed) { const {chart, _cachedMeta: meta} = controller; const stacks = chart._stacks || (chart._stacks = {}); const {iScale, vScale, index: datasetIndex} = meta; const iAxis = iScale.axis; const vAxis = vScale.axis; const key = getStackKey(iScale, vScale, meta); const ilen = parsed.length; let stack; for (let i = 0; i < ilen; ++i) { const item = parsed[i]; const {[iAxis]: index, [vAxis]: value} = item; const itemStacks = item._stacks || (item._stacks = {}); stack = itemStacks[vAxis] = getOrCreateStack(stacks, key, index); stack[datasetIndex] = value; stack._top = getLastIndexInStack(stack, vScale, true, meta.type); stack._bottom = getLastIndexInStack(stack, vScale, false, meta.type); } } function getFirstScaleId(chart, axis) { const scales = chart.scales; return Object.keys(scales).filter(key => scales[key].axis === axis).shift(); } function createDatasetContext(parent, index) { return createContext(parent, { active: false, dataset: undefined, datasetIndex: index, index, mode: 'default', type: 'dataset' } ); } function createDataContext(parent, index, element) { return createContext(parent, { active: false, dataIndex: index, parsed: undefined, raw: undefined, element, index, mode: 'default', type: 'data' }); } function clearStacks(meta, items) { const datasetIndex = meta.controller.index; const axis = meta.vScale && meta.vScale.axis; if (!axis) { return; } items = items || meta._parsed; for (const parsed of items) { const stacks = parsed._stacks; if (!stacks || stacks[axis] === undefined || stacks[axis][datasetIndex] === undefined) { return; } delete stacks[axis][datasetIndex]; } } const isDirectUpdateMode = (mode) => mode === 'reset' || mode === 'none'; const cloneIfNotShared = (cached, shared) => shared ? cached : Object.assign({}, cached); const createStack = (canStack, meta, chart) => canStack && !meta.hidden && meta._stacked && {keys: getSortedDatasetIndices(chart, true), values: null}; class DatasetController { constructor(chart, datasetIndex) { this.chart = chart; this._ctx = chart.ctx; this.index = datasetIndex; this._cachedDataOpts = {}; this._cachedMeta = this.getMeta(); this._type = this._cachedMeta.type; this.options = undefined; this._parsing = false; this._data = undefined; this._objectData = undefined; this._sharedOptions = undefined; this._drawStart = undefined; this._drawCount = undefined; this.enableOptionSharing = false; this.supportsDecimation = false; this.$context = undefined; this._syncList = []; this.initialize(); } initialize() { const meta = this._cachedMeta; this.configure(); this.linkScales(); meta._stacked = isStacked(meta.vScale, meta); this.addElements(); } updateIndex(datasetIndex) { if (this.index !== datasetIndex) { clearStacks(this._cachedMeta); } this.index = datasetIndex; } linkScales() { const chart = this.chart; const meta = this._cachedMeta; const dataset = this.getDataset(); const chooseId = (axis, x, y, r) => axis === 'x' ? x : axis === 'r' ? r : y; const xid = meta.xAxisID = valueOrDefault(dataset.xAxisID, getFirstScaleId(chart, 'x')); const yid = meta.yAxisID = valueOrDefault(dataset.yAxisID, getFirstScaleId(chart, 'y')); const rid = meta.rAxisID = valueOrDefault(dataset.rAxisID, getFirstScaleId(chart, 'r')); const indexAxis = meta.indexAxis; const iid = meta.iAxisID = chooseId(indexAxis, xid, yid, rid); const vid = meta.vAxisID = chooseId(indexAxis, yid, xid, rid); meta.xScale = this.getScaleForId(xid); meta.yScale = this.getScaleForId(yid); meta.rScale = this.getScaleForId(rid); meta.iScale = this.getScaleForId(iid); meta.vScale = this.getScaleForId(vid); } getDataset() { return this.chart.data.datasets[this.index]; } getMeta() { return this.chart.getDatasetMeta(this.index); } getScaleForId(scaleID) { return this.chart.scales[scaleID]; } _getOtherScale(scale) { const meta = this._cachedMeta; return scale === meta.iScale ? meta.vScale : meta.iScale; } reset() { this._update('reset'); } _destroy() { const meta = this._cachedMeta; if (this._data) { unlistenArrayEvents(this._data, this); } if (meta._stacked) { clearStacks(meta); } } _dataCheck() { const dataset = this.getDataset(); const data = dataset.data || (dataset.data = []); const _data = this._data; if (isObject(data)) { this._data = convertObjectDataToArray(data); } else if (_data !== data) { if (_data) { unlistenArrayEvents(_data, this); const meta = this._cachedMeta; clearStacks(meta); meta._parsed = []; } if (data && Object.isExtensible(data)) { listenArrayEvents(data, this); } this._syncList = []; this._data = data; } } addElements() { const meta = this._cachedMeta; this._dataCheck(); if (this.datasetElementType) { meta.dataset = new this.datasetElementType(); } } buildOrUpdateElements(resetNewElements) { const meta = this._cachedMeta; const dataset = this.getDataset(); let stackChanged = false; this._dataCheck(); const oldStacked = meta._stacked; meta._stacked = isStacked(meta.vScale, meta); if (meta.stack !== dataset.stack) { stackChanged = true; clearStacks(meta); meta.stack = dataset.stack; } this._resyncElements(resetNewElements); if (stackChanged || oldStacked !== meta._stacked) { updateStacks(this, meta._parsed); } } configure() { const config = this.chart.config; const scopeKeys = config.datasetScopeKeys(this._type); const scopes = config.getOptionScopes(this.getDataset(), scopeKeys, true); this.options = config.createResolver(scopes, this.getContext()); this._parsing = this.options.parsing; this._cachedDataOpts = {}; } parse(start, count) { const {_cachedMeta: meta, _data: data} = this; const {iScale, _stacked} = meta; const iAxis = iScale.axis; let sorted = start === 0 && count === data.length ? true : meta._sorted; let prev = start > 0 && meta._parsed[start - 1]; let i, cur, parsed; if (this._parsing === false) { meta._parsed = data; meta._sorted = true; parsed = data; } else { if (isArray(data[start])) { parsed = this.parseArrayData(meta, data, start, count); } else if (isObject(data[start])) { parsed = this.parseObjectData(meta, data, start, count); } else { parsed = this.parsePrimitiveData(meta, data, start, count); } const isNotInOrderComparedToPrev = () => cur[iAxis] === null || (prev && cur[iAxis] < prev[iAxis]); for (i = 0; i < count; ++i) { meta._parsed[i + start] = cur = parsed[i]; if (sorted) { if (isNotInOrderComparedToPrev()) { sorted = false; } prev = cur; } } meta._sorted = sorted; } if (_stacked) { updateStacks(this, parsed); } } parsePrimitiveData(meta, data, start, count) { const {iScale, vScale} = meta; const iAxis = iScale.axis; const vAxis = vScale.axis; const labels = iScale.getLabels(); const singleScale = iScale === vScale; const parsed = new Array(count); let i, ilen, index; for (i = 0, ilen = count; i < ilen; ++i) { index = i + start; parsed[i] = { [iAxis]: singleScale || iScale.parse(labels[index], index), [vAxis]: vScale.parse(data[index], index) }; } return parsed; } parseArrayData(meta, data, start, count) { const {xScale, yScale} = meta; const parsed = new Array(count); let i, ilen, index, item; for (i = 0, ilen = count; i < ilen; ++i) { index = i + start; item = data[index]; parsed[i] = { x: xScale.parse(item[0], index), y: yScale.parse(item[1], index) }; } return parsed; } parseObjectData(meta, data, start, count) { const {xScale, yScale} = meta; const {xAxisKey = 'x', yAxisKey = 'y'} = this._parsing; const parsed = new Array(count); let i, ilen, index, item; for (i = 0, ilen = count; i < ilen; ++i) { index = i + start; item = data[index]; parsed[i] = { x: xScale.parse(resolveObjectKey(item, xAxisKey), index), y: yScale.parse(resolveObjectKey(item, yAxisKey), index) }; } return parsed; } getParsed(index) { return this._cachedMeta._parsed[index]; } getDataElement(index) { return this._cachedMeta.data[index]; } applyStack(scale, parsed, mode) { const chart = this.chart; const meta = this._cachedMeta; const value = parsed[scale.axis]; const stack = { keys: getSortedDatasetIndices(chart, true), values: parsed._stacks[scale.axis] }; return applyStack(stack, value, meta.index, {mode}); } updateRangeFromParsed(range, scale, parsed, stack) { const parsedValue = parsed[scale.axis]; let value = parsedValue === null ? NaN : parsedValue; const values = stack && parsed._stacks[scale.axis]; if (stack && values) { stack.values = values; value = applyStack(stack, parsedValue, this._cachedMeta.index); } range.min = Math.min(range.min, value); range.max = Math.max(range.max, value); } getMinMax(scale, canStack) { const meta = this._cachedMeta; const _parsed = meta._parsed; const sorted = meta._sorted && scale === meta.iScale; const ilen = _parsed.length; const otherScale = this._getOtherScale(scale); const stack = createStack(canStack, meta, this.chart); const range = {min: Number.POSITIVE_INFINITY, max: Number.NEGATIVE_INFINITY}; const {min: otherMin, max: otherMax} = getUserBounds(otherScale); let i, parsed; function _skip() { parsed = _parsed[i]; const otherValue = parsed[otherScale.axis]; return !isNumberFinite(parsed[scale.axis]) || otherMin > otherValue || otherMax < otherValue; } for (i = 0; i < ilen; ++i) { if (_skip()) { continue; } this.updateRangeFromParsed(range, scale, parsed, stack); if (sorted) { break; } } if (sorted) { for (i = ilen - 1; i >= 0; --i) { if (_skip()) { continue; } this.updateRangeFromParsed(range, scale, parsed, stack); break; } } return range; } getAllParsedValues(scale) { const parsed = this._cachedMeta._parsed; const values = []; let i, ilen, value; for (i = 0, ilen = parsed.length; i < ilen; ++i) { value = parsed[i][scale.axis]; if (isNumberFinite(value)) { values.push(value); } } return values; } getMaxOverflow() { return false; } getLabelAndValue(index) { const meta = this._cachedMeta; const iScale = meta.iScale; const vScale = meta.vScale; const parsed = this.getParsed(index); return { label: iScale ? '' + iScale.getLabelForValue(parsed[iScale.axis]) : '', value: vScale ? '' + vScale.getLabelForValue(parsed[vScale.axis]) : '' }; } _update(mode) { const meta = this._cachedMeta; this.update(mode || 'default'); meta._clip = toClip(valueOrDefault(this.options.clip, defaultClip(meta.xScale, meta.yScale, this.getMaxOverflow()))); } update(mode) {} draw() { const ctx = this._ctx; const chart = this.chart; const meta = this._cachedMeta; const elements = meta.data || []; const area = chart.chartArea; const active = []; const start = this._drawStart || 0; const count = this._drawCount || (elements.length - start); const drawActiveElementsOnTop = this.options.drawActiveElementsOnTop; let i; if (meta.dataset) { meta.dataset.draw(ctx, area, start, count); } for (i = start; i < start + count; ++i) { const element = elements[i]; if (element.hidden) { continue; } if (element.active && drawActiveElementsOnTop) { active.push(element); } else { element.draw(ctx, area); } } for (i = 0; i < active.length; ++i) { active[i].draw(ctx, area); } } getStyle(index, active) { const mode = active ? 'active' : 'default'; return index === undefined && this._cachedMeta.dataset ? this.resolveDatasetElementOptions(mode) : this.resolveDataElementOptions(index || 0, mode); } getContext(index, active, mode) { const dataset = this.getDataset(); let context; if (index >= 0 && index < this._cachedMeta.data.length) { const element = this._cachedMeta.data[index]; context = element.$context || (element.$context = createDataContext(this.getContext(), index, element)); context.parsed = this.getParsed(index); context.raw = dataset.data[index]; context.index = context.dataIndex = index; } else { context = this.$context || (this.$context = createDatasetContext(this.chart.getContext(), this.index)); context.dataset = dataset; context.index = context.datasetIndex = this.index; } context.active = !!active; context.mode = mode; return context; } resolveDatasetElementOptions(mode) { return this._resolveElementOptions(this.datasetElementType.id, mode); } resolveDataElementOptions(index, mode) { return this._resolveElementOptions(this.dataElementType.id, mode, index); } _resolveElementOptions(elementType, mode = 'default', index) { const active = mode === 'active'; const cache = this._cachedDataOpts; const cacheKey = elementType + '-' + mode; const cached = cache[cacheKey]; const sharing = this.enableOptionSharing && defined(index); if (cached) { return cloneIfNotShared(cached, sharing); } const config = this.chart.config; const scopeKeys = config.datasetElementScopeKeys(this._type, elementType); const prefixes = active ? [`${elementType}Hover`, 'hover', elementType, ''] : [elementType, '']; const scopes = config.getOptionScopes(this.getDataset(), scopeKeys); const names = Object.keys(defaults.elements[elementType]); const context = () => this.getContext(index, active); const values = config.resolveNamedOptions(scopes, names, context, prefixes); if (values.$shared) { values.$shared = sharing; cache[cacheKey] = Object.freeze(cloneIfNotShared(values, sharing)); } return values; } _resolveAnimations(index, transition, active) { const chart = this.chart; const cache = this._cachedDataOpts; const cacheKey = `animation-${transition}`; const cached = cache[cacheKey]; if (cached) { return cached; } let options; if (chart.options.animation !== false) { const config = this.chart.config; const scopeKeys = config.datasetAnimationScopeKeys(this._type, transition); const scopes = config.getOptionScopes(this.getDataset(), scopeKeys); options = config.createResolver(scopes, this.getContext(index, active, transition)); } const animations = new Animations(chart, options && options.animations); if (options && options._cacheable) { cache[cacheKey] = Object.freeze(animations); } return animations; } getSharedOptions(options) { if (!options.$shared) { return; } return this._sharedOptions || (this._sharedOptions = Object.assign({}, options)); } includeOptions(mode, sharedOptions) { return !sharedOptions || isDirectUpdateMode(mode) || this.chart._animationsDisabled; } _getSharedOptions(start, mode) { const firstOpts = this.resolveDataElementOptions(start, mode); const previouslySharedOptions = this._sharedOptions; const sharedOptions = this.getSharedOptions(firstOpts); const includeOptions = this.includeOptions(mode, sharedOptions) || (sharedOptions !== previouslySharedOptions); this.updateSharedOptions(sharedOptions, mode, firstOpts); return {sharedOptions, includeOptions}; } updateElement(element, index, properties, mode) { if (isDirectUpdateMode(mode)) { Object.assign(element, properties); } else { this._resolveAnimations(index, mode).update(element, properties); } } updateSharedOptions(sharedOptions, mode, newOptions) { if (sharedOptions && !isDirectUpdateMode(mode)) { this._resolveAnimations(undefined, mode).update(sharedOptions, newOptions); } } _setStyle(element, index, mode, active) { element.active = active; const options = this.getStyle(index, active); this._resolveAnimations(index, mode, active).update(element, { options: (!active && this.getSharedOptions(options)) || options }); } removeHoverStyle(element, datasetIndex, index) { this._setStyle(element, index, 'active', false); } setHoverStyle(element, datasetIndex, index) { this._setStyle(element, index, 'active', true); } _removeDatasetHoverStyle() { const element = this._cachedMeta.dataset; if (element) { this._setStyle(element, undefined, 'active', false); } } _setDatasetHoverStyle() { const element = this._cachedMeta.dataset; if (element) { this._setStyle(element, undefined, 'active', true); } } _resyncElements(resetNewElements) { const data = this._data; const elements = this._cachedMeta.data; for (const [method, arg1, arg2] of this._syncList) { this[method](arg1, arg2); } this._syncList = []; const numMeta = elements.length; const numData = data.length; const count = Math.min(numData, numMeta); if (count) { this.parse(0, count); } if (numData > numMeta) { this._insertElements(numMeta, numData - numMeta, resetNewElements); } else if (numData < numMeta) { this._removeElements(numData, numMeta - numData); } } _insertElements(start, count, resetNewElements = true) { const meta = this._cachedMeta; const data = meta.data; const end = start + count; let i; const move = (arr) => { arr.length += count; for (i = arr.length - 1; i >= end; i--) { arr[i] = arr[i - count]; } }; move(data); for (i = start; i < end; ++i) { data[i] = new this.dataElementType(); } if (this._parsing) { move(meta._parsed); } this.parse(start, count); if (resetNewElements) { this.updateElements(data, start, count, 'reset'); } } updateElements(element, start, count, mode) {} _removeElements(start, count) { const meta = this._cachedMeta; if (this._parsing) { const removed = meta._parsed.splice(start, count); if (meta._stacked) { clearStacks(meta, removed); } } meta.data.splice(start, count); } _sync(args) { if (this._parsing) { this._syncList.push(args); } else { const [method, arg1, arg2] = args; this[method](arg1, arg2); } this.chart._dataChanges.push([this.index, ...args]); } _onDataPush() { const count = arguments.length; this._sync(['_insertElements', this.getDataset().data.length - count, count]); } _onDataPop() { this._sync(['_removeElements', this._cachedMeta.data.length - 1, 1]); } _onDataShift() { this._sync(['_removeElements', 0, 1]); } _onDataSplice(start, count) { if (count) { this._sync(['_removeElements', start, count]); } const newCount = arguments.length - 2; if (newCount) { this._sync(['_insertElements', start, newCount]); } } _onDataUnshift() { this._sync(['_insertElements', 0, arguments.length]); } } DatasetController.defaults = {}; DatasetController.prototype.datasetElementType = null; DatasetController.prototype.dataElementType = null; function getAllScaleValues(scale, type) { if (!scale._cache.$bar) { const visibleMetas = scale.getMatchingVisibleMetas(type); let values = []; for (let i = 0, ilen = visibleMetas.length; i < ilen; i++) { values = values.concat(visibleMetas[i].controller.getAllParsedValues(scale)); } scale._cache.$bar = _arrayUnique(values.sort((a, b) => a - b)); } return scale._cache.$bar; } function computeMinSampleSize(meta) { const scale = meta.iScale; const values = getAllScaleValues(scale, meta.type); let min = scale._length; let i, ilen, curr, prev; const updateMinAndPrev = () => { if (curr === 32767 || curr === -32768) { return; } if (defined(prev)) { min = Math.min(min, Math.abs(curr - prev) || min); } prev = curr; }; for (i = 0, ilen = values.length; i < ilen; ++i) { curr = scale.getPixelForValue(values[i]); updateMinAndPrev(); } prev = undefined; for (i = 0, ilen = scale.ticks.length; i < ilen; ++i) { curr = scale.getPixelForTick(i); updateMinAndPrev(); } return min; } function computeFitCategoryTraits(index, ruler, options, stackCount) { const thickness = options.barThickness; let size, ratio; if (isNullOrUndef(thickness)) { size = ruler.min * options.categoryPercentage; ratio = options.barPercentage; } else { size = thickness * stackCount; ratio = 1; } return { chunk: size / stackCount, ratio, start: ruler.pixels[index] - (size / 2) }; } function computeFlexCategoryTraits(index, ruler, options, stackCount) { const pixels = ruler.pixels; const curr = pixels[index]; let prev = index > 0 ? pixels[index - 1] : null; let next = index < pixels.length - 1 ? pixels[index + 1] : null; const percent = options.categoryPercentage; if (prev === null) { prev = curr - (next === null ? ruler.end - ruler.start : next - curr); } if (next === null) { next = curr + curr - prev; } const start = curr - (curr - Math.min(prev, next)) / 2 * percent; const size = Math.abs(next - prev) / 2 * percent; return { chunk: size / stackCount, ratio: options.barPercentage, start }; } function parseFloatBar(entry, item, vScale, i) { const startValue = vScale.parse(entry[0], i); const endValue = vScale.parse(entry[1], i); const min = Math.min(startValue, endValue); const max = Math.max(startValue, endValue); let barStart = min; let barEnd = max; if (Math.abs(min) > Math.abs(max)) { barStart = max; barEnd = min; } item[vScale.axis] = barEnd; item._custom = { barStart, barEnd, start: startValue, end: endValue, min, max }; } function parseValue(entry, item, vScale, i) { if (isArray(entry)) { parseFloatBar(entry, item, vScale, i); } else { item[vScale.axis] = vScale.parse(entry, i); } return item; } function parseArrayOrPrimitive(meta, data, start, count) { const iScale = meta.iScale; const vScale = meta.vScale; const labels = iScale.getLabels(); const singleScale = iScale === vScale; const parsed = []; let i, ilen, item, entry; for (i = start, ilen = start + count; i < ilen; ++i) { entry = data[i]; item = {}; item[iScale.axis] = singleScale || iScale.parse(labels[i], i); parsed.push(parseValue(entry, item, vScale, i)); } return parsed; } function isFloatBar(custom) { return custom && custom.barStart !== undefined && custom.barEnd !== undefined; } function barSign(size, vScale, actualBase) { if (size !== 0) { return sign(size); } return (vScale.isHorizontal() ? 1 : -1) * (vScale.min >= actualBase ? 1 : -1); } function borderProps(properties) { let reverse, start, end, top, bottom; if (properties.horizontal) { reverse = properties.base > properties.x; start = 'left'; end = 'right'; } else { reverse = properties.base < properties.y; start = 'bottom'; end = 'top'; } if (reverse) { top = 'end'; bottom = 'start'; } else { top = 'start'; bottom = 'end'; } return {start, end, reverse, top, bottom}; } function setBorderSkipped(properties, options, stack, index) { let edge = options.borderSkipped; const res = {}; if (!edge) { properties.borderSkipped = res; return; } if (edge === true) { properties.borderSkipped = {top: true, right: true, bottom: true, left: true}; return; } const {start, end, reverse, top, bottom} = borderProps(properties); if (edge === 'middle' && stack) { properties.enableBorderRadius = true; if ((stack._top || 0) === index) { edge = top; } else if ((stack._bottom || 0) === index) { edge = bottom; } else { res[parseEdge(bottom, start, end, reverse)] = true; edge = top; } } res[parseEdge(edge, start, end, reverse)] = true; properties.borderSkipped = res; } function parseEdge(edge, a, b, reverse) { if (reverse) { edge = swap(edge, a, b); edge = startEnd(edge, b, a); } else { edge = startEnd(edge, a, b); } return edge; } function swap(orig, v1, v2) { return orig === v1 ? v2 : orig === v2 ? v1 : orig; } function startEnd(v, start, end) { return v === 'start' ? start : v === 'end' ? end : v; } function setInflateAmount(properties, {inflateAmount}, ratio) { properties.inflateAmount = inflateAmount === 'auto' ? ratio === 1 ? 0.33 : 0 : inflateAmount; } class BarController extends DatasetController { parsePrimitiveData(meta, data, start, count) { return parseArrayOrPrimitive(meta, data, start, count); } parseArrayData(meta, data, start, count) { return parseArrayOrPrimitive(meta, data, start, count); } parseObjectData(meta, data, start, count) { const {iScale, vScale} = meta; const {xAxisKey = 'x', yAxisKey = 'y'} = this._parsing; const iAxisKey = iScale.axis === 'x' ? xAxisKey : yAxisKey; const vAxisKey = vScale.axis === 'x' ? xAxisKey : yAxisKey; const parsed = []; let i, ilen, item, obj; for (i = start, ilen = start + count; i < ilen; ++i) { obj = data[i]; item = {}; item[iScale.axis] = iScale.parse(resolveObjectKey(obj, iAxisKey), i); parsed.push(parseValue(resolveObjectKey(obj, vAxisKey), item, vScale, i)); } return parsed; } updateRangeFromParsed(range, scale, parsed, stack) { super.updateRangeFromParsed(range, scale, parsed, stack); const custom = parsed._custom; if (custom && scale === this._cachedMeta.vScale) { range.min = Math.min(range.min, custom.min); range.max = Math.max(range.max, custom.max); } } getMaxOverflow() { return 0; } getLabelAndValue(index) { const meta = this._cachedMeta; const {iScale, vScale} = meta; const parsed = this.getParsed(index); const custom = parsed._custom; const value = isFloatBar(custom) ? '[' + custom.start + ', ' + custom.end + ']' : '' + vScale.getLabelForValue(parsed[vScale.axis]); return { label: '' + iScale.getLabelForValue(parsed[iScale.axis]), value }; } initialize() { this.enableOptionSharing = true; super.initialize(); const meta = this._cachedMeta; meta.stack = this.getDataset().stack; } update(mode) { const meta = this._cachedMeta; this.updateElements(meta.data, 0, meta.data.length, mode); } updateElements(bars, start, count, mode) { const reset = mode === 'reset'; const {index, _cachedMeta: {vScale}} = this; const base = vScale.getBasePixel(); const horizontal = vScale.isHorizontal(); const ruler = this._getRuler(); const {sharedOptions, includeOptions} = this._getSharedOptions(start, mode); for (let i = start; i < start + count; i++) { const parsed = this.getParsed(i); const vpixels = reset || isNullOrUndef(parsed[vScale.axis]) ? {base, head: base} : this._calculateBarValuePixels(i); const ipixels = this._calculateBarIndexPixels(i, ruler); const stack = (parsed._stacks || {})[vScale.axis]; const properties = { horizontal, base: vpixels.base, enableBorderRadius: !stack || isFloatBar(parsed._custom) || (index === stack._top || index === stack._bottom), x: horizontal ? vpixels.head : ipixels.center, y: horizontal ? ipixels.center : vpixels.head, height: horizontal ? ipixels.size : Math.abs(vpixels.size), width: horizontal ? Math.abs(vpixels.size) : ipixels.size }; if (includeOptions) { properties.options = sharedOptions || this.resolveDataElementOptions(i, bars[i].active ? 'active' : mode); } const options = properties.options || bars[i].options; setBorderSkipped(properties, options, stack, index); setInflateAmount(properties, options, ruler.ratio); this.updateElement(bars[i], i, properties, mode); } } _getStacks(last, dataIndex) { const {iScale} = this._cachedMeta; const metasets = iScale.getMatchingVisibleMetas(this._type) .filter(meta => meta.controller.options.grouped); const stacked = iScale.options.stacked; const stacks = []; const skipNull = (meta) => { const parsed = meta.controller.getParsed(dataIndex); const val = parsed && parsed[meta.vScale.axis]; if (isNullOrUndef(val) || isNaN(val)) { return true; } }; for (const meta of metasets) { if (dataIndex !== undefined && skipNull(meta)) { continue; } if (stacked === false || stacks.indexOf(meta.stack) === -1 || (stacked === undefined && meta.stack === undefined)) { stacks.push(meta.stack); } if (meta.index === last) { break; } } if (!stacks.length) { stacks.push(undefined); } return stacks; } _getStackCount(index) { return this._getStacks(undefined, index).length; } _getStackIndex(datasetIndex, name, dataIndex) { const stacks = this._getStacks(datasetIndex, dataIndex); const index = (name !== undefined) ? stacks.indexOf(name) : -1; return (index === -1) ? stacks.length - 1 : index; } _getRuler() { const opts = this.options; const meta = this._cachedMeta; const iScale = meta.iScale; const pixels = []; let i, ilen; for (i = 0, ilen = meta.data.length; i < ilen; ++i) { pixels.push(iScale.getPixelForValue(this.getParsed(i)[iScale.axis], i)); } const barThickness = opts.barThickness; const min = barThickness || computeMinSampleSize(meta); return { min, pixels, start: iScale._startPixel, end: iScale._endPixel, stackCount: this._getStackCount(), scale: iScale, grouped: opts.grouped, ratio: barThickness ? 1 : opts.categoryPercentage * opts.barPercentage }; } _calculateBarValuePixels(index) { const {_cachedMeta: {vScale, _stacked}, options: {base: baseValue, minBarLength}} = this; const actualBase = baseValue || 0; const parsed = this.getParsed(index); const custom = parsed._custom; const floating = isFloatBar(custom); let value = parsed[vScale.axis]; let start = 0; let length = _stacked ? this.applyStack(vScale, parsed, _stacked) : value; let head, size; if (length !== value) { start = length - value; length = value; } if (floating) { value = custom.barStart; length = custom.barEnd - custom.barStart; if (value !== 0 && sign(value) !== sign(custom.barEnd)) { start = 0; } start += value; } const startValue = !isNullOrUndef(baseValue) && !floating ? baseValue : start; let base = vScale.getPixelForValue(startValue); if (this.chart.getDataVisibility(index)) { head = vScale.getPixelForValue(start + length); } else { head = base; } size = head - base; if (Math.abs(size) < minBarLength) { size = barSign(size, vScale, actualBase) * minBarLength; if (value === actualBase) { base -= size / 2; } const startPixel = vScale.getPixelForDecimal(0); const endPixel = vScale.getPixelForDecimal(1); const min = Math.min(startPixel, endPixel); const max = Math.max(startPixel, endPixel); base = Math.max(Math.min(base, max), min); head = base + size; } if (base === vScale.getPixelForValue(actualBase)) { const halfGrid = sign(size) * vScale.getLineWidthForValue(actualBase) / 2; base += halfGrid; size -= halfGrid; } return { size, base, head, center: head + size / 2 }; } _calculateBarIndexPixels(index, ruler) { const scale = ruler.scale; const options = this.options; const skipNull = options.skipNull; const maxBarThickness = valueOrDefault(options.maxBarThickness, Infinity); let center, size; if (ruler.grouped) { const stackCount = skipNull ? this._getStackCount(index) : ruler.stackCount; const range = options.barThickness === 'flex' ? computeFlexCategoryTraits(index, ruler, options, stackCount) : computeFitCategoryTraits(index, ruler, options, stackCount); const stackIndex = this._getStackIndex(this.index, this._cachedMeta.stack, skipNull ? index : undefined); center = range.start + (range.chunk * stackIndex) + (range.chunk / 2); size = Math.min(maxBarThickness, range.chunk * range.ratio); } else { center = scale.getPixelForValue(this.getParsed(index)[scale.axis], index); size = Math.min(maxBarThickness, ruler.min * ruler.ratio); } return { base: center - size / 2, head: center + size / 2, center, size }; } draw() { const meta = this._cachedMeta; const vScale = meta.vScale; const rects = meta.data; const ilen = rects.length; let i = 0; for (; i < ilen; ++i) { if (this.getParsed(i)[vScale.axis] !== null) { rects[i].draw(this._ctx); } } } } BarController.id = 'bar'; BarController.defaults = { datasetElementType: false, dataElementType: 'bar', categoryPercentage: 0.8, barPercentage: 0.9, grouped: true, animations: { numbers: { type: 'number', properties: ['x', 'y', 'base', 'width', 'height'] } } }; BarController.overrides = { scales: { _index_: { type: 'category', offset: true, grid: { offset: true } }, _value_: { type: 'linear', beginAtZero: true, } } }; class BubbleController extends DatasetController { initialize() { this.enableOptionSharing = true; super.initialize(); } parsePrimitiveData(meta, data, start, count) { const parsed = super.parsePrimitiveData(meta, data, start, count); for (let i = 0; i < parsed.length; i++) { parsed[i]._custom = this.resolveDataElementOptions(i + start).radius; } return parsed; } parseArrayData(meta, data, start, count) { const parsed = super.parseArrayData(meta, data, start, count); for (let i = 0; i < parsed.length; i++) { const item = data[start + i]; parsed[i]._custom = valueOrDefault(item[2], this.resolveDataElementOptions(i + start).radius); } return parsed; } parseObjectData(meta, data, start, count) { const parsed = super.parseObjectData(meta, data, start, count); for (let i = 0; i < parsed.length; i++) { const item = data[start + i]; parsed[i]._custom = valueOrDefault(item && item.r && +item.r, this.resolveDataElementOptions(i + start).radius); } return parsed; } getMaxOverflow() { const data = this._cachedMeta.data; let max = 0; for (let i = data.length - 1; i >= 0; --i) { max = Math.max(max, data[i].size(this.resolveDataElementOptions(i)) / 2); } return max > 0 && max; } getLabelAndValue(index) { const meta = this._cachedMeta; const {xScale, yScale} = meta; const parsed = this.getParsed(index); const x = xScale.getLabelForValue(parsed.x); const y = yScale.getLabelForValue(parsed.y); const r = parsed._custom; return { label: meta.label, value: '(' + x + ', ' + y + (r ? ', ' + r : '') + ')' }; } update(mode) { const points = this._cachedMeta.data; this.updateElements(points, 0, points.length, mode); } updateElements(points, start, count, mode) { const reset = mode === 'reset'; const {iScale, vScale} = this._cachedMeta; const {sharedOptions, includeOptions} = this._getSharedOptions(start, mode); const iAxis = iScale.axis; const vAxis = vScale.axis; for (let i = start; i < start + count; i++) { const point = points[i]; const parsed = !reset && this.getParsed(i); const properties = {}; const iPixel = properties[iAxis] = reset ? iScale.getPixelForDecimal(0.5) : iScale.getPixelForValue(parsed[iAxis]); const vPixel = properties[vAxis] = reset ? vScale.getBasePixel() : vScale.getPixelForValue(parsed[vAxis]); properties.skip = isNaN(iPixel) || isNaN(vPixel); if (includeOptions) { properties.options = sharedOptions || this.resolveDataElementOptions(i, point.active ? 'active' : mode); if (reset) { properties.options.radius = 0; } } this.updateElement(point, i, properties, mode); } } resolveDataElementOptions(index, mode) { const parsed = this.getParsed(index); let values = super.resolveDataElementOptions(index, mode); if (values.$shared) { values = Object.assign({}, values, {$shared: false}); } const radius = values.radius; if (mode !== 'active') { values.radius = 0; } values.radius += valueOrDefault(parsed && parsed._custom, radius); return values; } } BubbleController.id = 'bubble'; BubbleController.defaults = { datasetElementType: false, dataElementType: 'point', animations: { numbers: { type: 'number', properties: ['x', 'y', 'borderWidth', 'radius'] } } }; BubbleController.overrides = { scales: { x: { type: 'linear' }, y: { type: 'linear' } }, plugins: { tooltip: { callbacks: { title() { return ''; } } } } }; function getRatioAndOffset(rotation, circumference, cutout) { let ratioX = 1; let ratioY = 1; let offsetX = 0; let offsetY = 0; if (circumference < TAU) { const startAngle = rotation; const endAngle = startAngle + circumference; const startX = Math.cos(startAngle); const startY = Math.sin(startAngle); const endX = Math.cos(endAngle); const endY = Math.sin(endAngle); const calcMax = (angle, a, b) => _angleBetween(angle, startAngle, endAngle, true) ? 1 : Math.max(a, a * cutout, b, b * cutout); const calcMin = (angle, a, b) => _angleBetween(angle, startAngle, endAngle, true) ? -1 : Math.min(a, a * cutout, b, b * cutout); const maxX = calcMax(0, startX, endX); const maxY = calcMax(HALF_PI, startY, endY); const minX = calcMin(PI, startX, endX); const minY = calcMin(PI + HALF_PI, startY, endY); ratioX = (maxX - minX) / 2; ratioY = (maxY - minY) / 2; offsetX = -(maxX + minX) / 2; offsetY = -(maxY + minY) / 2; } return {ratioX, ratioY, offsetX, offsetY}; } class DoughnutController extends DatasetController { constructor(chart, datasetIndex) { super(chart, datasetIndex); this.enableOptionSharing = true; this.innerRadius = undefined; this.outerRadius = undefined; this.offsetX = undefined; this.offsetY = undefined; } linkScales() {} parse(start, count) { const data = this.getDataset().data; const meta = this._cachedMeta; if (this._parsing === false) { meta._parsed = data; } else { let getter = (i) => +data[i]; if (isObject(data[start])) { const {key = 'value'} = this._parsing; getter = (i) => +resolveObjectKey(data[i], key); } let i, ilen; for (i = start, ilen = start + count; i < ilen; ++i) { meta._parsed[i] = getter(i); } } } _getRotation() { return toRadians(this.options.rotation - 90); } _getCircumference() { return toRadians(this.options.circumference); } _getRotationExtents() { let min = TAU; let max = -TAU; for (let i = 0; i < this.chart.data.datasets.length; ++i) { if (this.chart.isDatasetVisible(i)) { const controller = this.chart.getDatasetMeta(i).controller; const rotation = controller._getRotation(); const circumference = controller._getCircumference(); min = Math.min(min, rotation); max = Math.max(max, rotation + circumference); } } return { rotation: min, circumference: max - min, }; } update(mode) { const chart = this.chart; const {chartArea} = chart; const meta = this._cachedMeta; const arcs = meta.data; const spacing = this.getMaxBorderWidth() + this.getMaxOffset(arcs) + this.options.spacing; const maxSize = Math.max((Math.min(chartArea.width, chartArea.height) - spacing) / 2, 0); const cutout = Math.min(toPercentage(this.options.cutout, maxSize), 1); const chartWeight = this._getRingWeight(this.index); const {circumference, rotation} = this._getRotationExtents(); const {ratioX, ratioY, offsetX, offsetY} = getRatioAndOffset(rotation, circumference, cutout); const maxWidth = (chartArea.width - spacing) / ratioX; const maxHeight = (chartArea.height - spacing) / ratioY; const maxRadius = Math.max(Math.min(maxWidth, maxHeight) / 2, 0); const outerRadius = toDimension(this.options.radius, maxRadius); const innerRadius = Math.max(outerRadius * cutout, 0); const radiusLength = (outerRadius - innerRadius) / this._getVisibleDatasetWeightTotal(); this.offsetX = offsetX * outerRadius; this.offsetY = offsetY * outerRadius; meta.total = this.calculateTotal(); this.outerRadius = outerRadius - radiusLength * this._getRingWeightOffset(this.index); this.innerRadius = Math.max(this.outerRadius - radiusLength * chartWeight, 0); this.updateElements(arcs, 0, arcs.length, mode); } _circumference(i, reset) { const opts = this.options; const meta = this._cachedMeta; const circumference = this._getCircumference(); if ((reset && opts.animation.animateRotate) || !this.chart.getDataVisibility(i) || meta._parsed[i] === null || meta.data[i].hidden) { return 0; } return this.calculateCircumference(meta._parsed[i] * circumference / TAU); } updateElements(arcs, start, count, mode) { const reset = mode === 'reset'; const chart = this.chart; const chartArea = chart.chartArea; const opts = chart.options; const animationOpts = opts.animation; const centerX = (chartArea.left + chartArea.right) / 2; const centerY = (chartArea.top + chartArea.bottom) / 2; const animateScale = reset && animationOpts.animateScale; const innerRadius = animateScale ? 0 : this.innerRadius; const outerRadius = animateScale ? 0 : this.outerRadius; const {sharedOptions, includeOptions} = this._getSharedOptions(start, mode); let startAngle = this._getRotation(); let i; for (i = 0; i < start; ++i) { startAngle += this._circumference(i, reset); } for (i = start; i < start + count; ++i) { const circumference = this._circumference(i, reset); const arc = arcs[i]; const properties = { x: centerX + this.offsetX, y: centerY + this.offsetY, startAngle, endAngle: startAngle + circumference, circumference, outerRadius, innerRadius }; if (includeOptions) { properties.options = sharedOptions || this.resolveDataElementOptions(i, arc.active ? 'active' : mode); } startAngle += circumference; this.updateElement(arc, i, properties, mode); } } calculateTotal() { const meta = this._cachedMeta; const metaData = meta.data; let total = 0; let i; for (i = 0; i < metaData.length; i++) { const value = meta._parsed[i]; if (value !== null && !isNaN(value) && this.chart.getDataVisibility(i) && !metaData[i].hidden) { total += Math.abs(value); } } return total; } calculateCircumference(value) { const total = this._cachedMeta.total; if (total > 0 && !isNaN(value)) { return TAU * (Math.abs(value) / total); } return 0; } getLabelAndValue(index) { const meta = this._cachedMeta; const chart = this.chart; const labels = chart.data.labels || []; const value = formatNumber(meta._parsed[index], chart.options.locale); return { label: labels[index] || '', value, }; } getMaxBorderWidth(arcs) { let max = 0; const chart = this.chart; let i, ilen, meta, controller, options; if (!arcs) { for (i = 0, ilen = chart.data.datasets.length; i < ilen; ++i) { if (chart.isDatasetVisible(i)) { meta = chart.getDatasetMeta(i); arcs = meta.data; controller = meta.controller; break; } } } if (!arcs) { return 0; } for (i = 0, ilen = arcs.length; i < ilen; ++i) { options = controller.resolveDataElementOptions(i); if (options.borderAlign !== 'inner') { max = Math.max(max, options.borderWidth || 0, options.hoverBorderWidth || 0); } } return max; } getMaxOffset(arcs) { let max = 0; for (let i = 0, ilen = arcs.length; i < ilen; ++i) { const options = this.resolveDataElementOptions(i); max = Math.max(max, options.offset || 0, options.hoverOffset || 0); } return max; } _getRingWeightOffset(datasetIndex) { let ringWeightOffset = 0; for (let i = 0; i < datasetIndex; ++i) { if (this.chart.isDatasetVisible(i)) { ringWeightOffset += this._getRingWeight(i); } } return ringWeightOffset; } _getRingWeight(datasetIndex) { return Math.max(valueOrDefault(this.chart.data.datasets[datasetIndex].weight, 1), 0); } _getVisibleDatasetWeightTotal() { return this._getRingWeightOffset(this.chart.data.datasets.length) || 1; } } DoughnutController.id = 'doughnut'; DoughnutController.defaults = { datasetElementType: false, dataElementType: 'arc', animation: { animateRotate: true, animateScale: false }, animations: { numbers: { type: 'number', properties: ['circumference', 'endAngle', 'innerRadius', 'outerRadius', 'startAngle', 'x', 'y', 'offset', 'borderWidth', 'spacing'] }, }, cutout: '50%', rotation: 0, circumference: 360, radius: '100%', spacing: 0, indexAxis: 'r', }; DoughnutController.descriptors = { _scriptable: (name) => name !== 'spacing', _indexable: (name) => name !== 'spacing', }; DoughnutController.overrides = { aspectRatio: 1, plugins: { legend: { labels: { generateLabels(chart) { const data = chart.data; if (data.labels.length && data.datasets.length) { const {labels: {pointStyle}} = chart.legend.options; return data.labels.map((label, i) => { const meta = chart.getDatasetMeta(0); const style = meta.controller.getStyle(i); return { text: label, fillStyle: style.backgroundColor, strokeStyle: style.borderColor, lineWidth: style.borderWidth, pointStyle: pointStyle, hidden: !chart.getDataVisibility(i), index: i }; }); } return []; } }, onClick(e, legendItem, legend) { legend.chart.toggleDataVisibility(legendItem.index); legend.chart.update(); } }, tooltip: { callbacks: { title() { return ''; }, label(tooltipItem) { let dataLabel = tooltipItem.label; const value = ': ' + tooltipItem.formattedValue; if (isArray(dataLabel)) { dataLabel = dataLabel.slice(); dataLabel[0] += value; } else { dataLabel += value; } return dataLabel; } } } } }; class LineController extends DatasetController { initialize() { this.enableOptionSharing = true; this.supportsDecimation = true; super.initialize(); } update(mode) { const meta = this._cachedMeta; const {dataset: line, data: points = [], _dataset} = meta; const animationsDisabled = this.chart._animationsDisabled; let {start, count} = _getStartAndCountOfVisiblePoints(meta, points, animationsDisabled); this._drawStart = start; this._drawCount = count; if (_scaleRangesChanged(meta)) { start = 0; count = points.length; } line._chart = this.chart; line._datasetIndex = this.index; line._decimated = !!_dataset._decimated; line.points = points; const options = this.resolveDatasetElementOptions(mode); if (!this.options.showLine) { options.borderWidth = 0; } options.segment = this.options.segment; this.updateElement(line, undefined, { animated: !animationsDisabled, options }, mode); this.updateElements(points, start, count, mode); } updateElements(points, start, count, mode) { const reset = mode === 'reset'; const {iScale, vScale, _stacked, _dataset} = this._cachedMeta; const {sharedOptions, includeOptions} = this._getSharedOptions(start, mode); const iAxis = iScale.axis; const vAxis = vScale.axis; const {spanGaps, segment} = this.options; const maxGapLength = isNumber(spanGaps) ? spanGaps : Number.POSITIVE_INFINITY; const directUpdate = this.chart._animationsDisabled || reset || mode === 'none'; let prevParsed = start > 0 && this.getParsed(start - 1); for (let i = start; i < start + count; ++i) { const point = points[i]; const parsed = this.getParsed(i); const properties = directUpdate ? point : {}; const nullData = isNullOrUndef(parsed[vAxis]); const iPixel = properties[iAxis] = iScale.getPixelForValue(parsed[iAxis], i); const vPixel = properties[vAxis] = reset || nullData ? vScale.getBasePixel() : vScale.getPixelForValue(_stacked ? this.applyStack(vScale, parsed, _stacked) : parsed[vAxis], i); properties.skip = isNaN(iPixel) || isNaN(vPixel) || nullData; properties.stop = i > 0 && (Math.abs(parsed[iAxis] - prevParsed[iAxis])) > maxGapLength; if (segment) { properties.parsed = parsed; properties.raw = _dataset.data[i]; } if (includeOptions) { properties.options = sharedOptions || this.resolveDataElementOptions(i, point.active ? 'active' : mode); } if (!directUpdate) { this.updateElement(point, i, properties, mode); } prevParsed = parsed; } } getMaxOverflow() { const meta = this._cachedMeta; const dataset = meta.dataset; const border = dataset.options && dataset.options.borderWidth || 0; const data = meta.data || []; if (!data.length) { return border; } const firstPoint = data[0].size(this.resolveDataElementOptions(0)); const lastPoint = data[data.length - 1].size(this.resolveDataElementOptions(data.length - 1)); return Math.max(border, firstPoint, lastPoint) / 2; } draw() { const meta = this._cachedMeta; meta.dataset.updateControlPoints(this.chart.chartArea, meta.iScale.axis); super.draw(); } } LineController.id = 'line'; LineController.defaults = { datasetElementType: 'line', dataElementType: 'point', showLine: true, spanGaps: false, }; LineController.overrides = { scales: { _index_: { type: 'category', }, _value_: { type: 'linear', }, } }; class PolarAreaController extends DatasetController { constructor(chart, datasetIndex) { super(chart, datasetIndex); this.innerRadius = undefined; this.outerRadius = undefined; } getLabelAndValue(index) { const meta = this._cachedMeta; const chart = this.chart; const labels = chart.data.labels || []; const value = formatNumber(meta._parsed[index].r, chart.options.locale); return { label: labels[index] || '', value, }; } parseObjectData(meta, data, start, count) { return _parseObjectDataRadialScale.bind(this)(meta, data, start, count); } update(mode) { const arcs = this._cachedMeta.data; this._updateRadius(); this.updateElements(arcs, 0, arcs.length, mode); } getMinMax() { const meta = this._cachedMeta; const range = {min: Number.POSITIVE_INFINITY, max: Number.NEGATIVE_INFINITY}; meta.data.forEach((element, index) => { const parsed = this.getParsed(index).r; if (!isNaN(parsed) && this.chart.getDataVisibility(index)) { if (parsed < range.min) { range.min = parsed; } if (parsed > range.max) { range.max = parsed; } } }); return range; } _updateRadius() { const chart = this.chart; const chartArea = chart.chartArea; const opts = chart.options; const minSize = Math.min(chartArea.right - chartArea.left, chartArea.bottom - chartArea.top); const outerRadius = Math.max(minSize / 2, 0); const innerRadius = Math.max(opts.cutoutPercentage ? (outerRadius / 100) * (opts.cutoutPercentage) : 1, 0); const radiusLength = (outerRadius - innerRadius) / chart.getVisibleDatasetCount(); this.outerRadius = outerRadius - (radiusLength * this.index); this.innerRadius = this.outerRadius - radiusLength; } updateElements(arcs, start, count, mode) { const reset = mode === 'reset'; const chart = this.chart; const opts = chart.options; const animationOpts = opts.animation; const scale = this._cachedMeta.rScale; const centerX = scale.xCenter; const centerY = scale.yCenter; const datasetStartAngle = scale.getIndexAngle(0) - 0.5 * PI; let angle = datasetStartAngle; let i; const defaultAngle = 360 / this.countVisibleElements(); for (i = 0; i < start; ++i) { angle += this._computeAngle(i, mode, defaultAngle); } for (i = start; i < start + count; i++) { const arc = arcs[i]; let startAngle = angle; let endAngle = angle + this._computeAngle(i, mode, defaultAngle); let outerRadius = chart.getDataVisibility(i) ? scale.getDistanceFromCenterForValue(this.getParsed(i).r) : 0; angle = endAngle; if (reset) { if (animationOpts.animateScale) { outerRadius = 0; } if (animationOpts.animateRotate) { startAngle = endAngle = datasetStartAngle; } } const properties = { x: centerX, y: centerY, innerRadius: 0, outerRadius, startAngle, endAngle, options: this.resolveDataElementOptions(i, arc.active ? 'active' : mode) }; this.updateElement(arc, i, properties, mode); } } countVisibleElements() { const meta = this._cachedMeta; let count = 0; meta.data.forEach((element, index) => { if (!isNaN(this.getParsed(index).r) && this.chart.getDataVisibility(index)) { count++; } }); return count; } _computeAngle(index, mode, defaultAngle) { return this.chart.getDataVisibility(index) ? toRadians(this.resolveDataElementOptions(index, mode).angle || defaultAngle) : 0; } } PolarAreaController.id = 'polarArea'; PolarAreaController.defaults = { dataElementType: 'arc', animation: { animateRotate: true, animateScale: true }, animations: { numbers: { type: 'number', properties: ['x', 'y', 'startAngle', 'endAngle', 'innerRadius', 'outerRadius'] }, }, indexAxis: 'r', startAngle: 0, }; PolarAreaController.overrides = { aspectRatio: 1, plugins: { legend: { labels: { generateLabels(chart) { const data = chart.data; if (data.labels.length && data.datasets.length) { const {labels: {pointStyle}} = chart.legend.options; return data.labels.map((label, i) => { const meta = chart.getDatasetMeta(0); const style = meta.controller.getStyle(i); return { text: label, fillStyle: style.backgroundColor, strokeStyle: style.borderColor, lineWidth: style.borderWidth, pointStyle: pointStyle, hidden: !chart.getDataVisibility(i), index: i }; }); } return []; } }, onClick(e, legendItem, legend) { legend.chart.toggleDataVisibility(legendItem.index); legend.chart.update(); } }, tooltip: { callbacks: { title() { return ''; }, label(context) { return context.chart.data.labels[context.dataIndex] + ': ' + context.formattedValue; } } } }, scales: { r: { type: 'radialLinear', angleLines: { display: false }, beginAtZero: true, grid: { circular: true }, pointLabels: { display: false }, startAngle: 0 } } }; class PieController extends DoughnutController { } PieController.id = 'pie'; PieController.defaults = { cutout: 0, rotation: 0, circumference: 360, radius: '100%' }; class RadarController extends DatasetController { getLabelAndValue(index) { const vScale = this._cachedMeta.vScale; const parsed = this.getParsed(index); return { label: vScale.getLabels()[index], value: '' + vScale.getLabelForValue(parsed[vScale.axis]) }; } parseObjectData(meta, data, start, count) { return _parseObjectDataRadialScale.bind(this)(meta, data, start, count); } update(mode) { const meta = this._cachedMeta; const line = meta.dataset; const points = meta.data || []; const labels = meta.iScale.getLabels(); line.points = points; if (mode !== 'resize') { const options = this.resolveDatasetElementOptions(mode); if (!this.options.showLine) { options.borderWidth = 0; } const properties = { _loop: true, _fullLoop: labels.length === points.length, options }; this.updateElement(line, undefined, properties, mode); } this.updateElements(points, 0, points.length, mode); } updateElements(points, start, count, mode) { const scale = this._cachedMeta.rScale; const reset = mode === 'reset'; for (let i = start; i < start + count; i++) { const point = points[i]; const options = this.resolveDataElementOptions(i, point.active ? 'active' : mode); const pointPosition = scale.getPointPositionForValue(i, this.getParsed(i).r); const x = reset ? scale.xCenter : pointPosition.x; const y = reset ? scale.yCenter : pointPosition.y; const properties = { x, y, angle: pointPosition.angle, skip: isNaN(x) || isNaN(y), options }; this.updateElement(point, i, properties, mode); } } } RadarController.id = 'radar'; RadarController.defaults = { datasetElementType: 'line', dataElementType: 'point', indexAxis: 'r', showLine: true, elements: { line: { fill: 'start' } }, }; RadarController.overrides = { aspectRatio: 1, scales: { r: { type: 'radialLinear', } } }; class Element { constructor() { this.x = undefined; this.y = undefined; this.active = false; this.options = undefined; this.$animations = undefined; } tooltipPosition(useFinalPosition) { const {x, y} = this.getProps(['x', 'y'], useFinalPosition); return {x, y}; } hasValue() { return isNumber(this.x) && isNumber(this.y); } getProps(props, final) { const anims = this.$animations; if (!final || !anims) { return this; } const ret = {}; props.forEach(prop => { ret[prop] = anims[prop] && anims[prop].active() ? anims[prop]._to : this[prop]; }); return ret; } } Element.defaults = {}; Element.defaultRoutes = undefined; const formatters = { values(value) { return isArray(value) ? value : '' + value; }, numeric(tickValue, index, ticks) { if (tickValue === 0) { return '0'; } const locale = this.chart.options.locale; let notation; let delta = tickValue; if (ticks.length > 1) { const maxTick = Math.max(Math.abs(ticks[0].value), Math.abs(ticks[ticks.length - 1].value)); if (maxTick < 1e-4 || maxTick > 1e+15) { notation = 'scientific'; } delta = calculateDelta(tickValue, ticks); } const logDelta = log10(Math.abs(delta)); const numDecimal = Math.max(Math.min(-1 * Math.floor(logDelta), 20), 0); const options = {notation, minimumFractionDigits: numDecimal, maximumFractionDigits: numDecimal}; Object.assign(options, this.options.ticks.format); return formatNumber(tickValue, locale, options); }, logarithmic(tickValue, index, ticks) { if (tickValue === 0) { return '0'; } const remain = tickValue / (Math.pow(10, Math.floor(log10(tickValue)))); if (remain === 1 || remain === 2 || remain === 5) { return formatters.numeric.call(this, tickValue, index, ticks); } return ''; } }; function calculateDelta(tickValue, ticks) { let delta = ticks.length > 3 ? ticks[2].value - ticks[1].value : ticks[1].value - ticks[0].value; if (Math.abs(delta) >= 1 && tickValue !== Math.floor(tickValue)) { delta = tickValue - Math.floor(tickValue); } return delta; } var Ticks = {formatters}; defaults.set('scale', { display: true, offset: false, reverse: false, beginAtZero: false, bounds: 'ticks', grace: 0, grid: { display: true, lineWidth: 1, drawBorder: true, drawOnChartArea: true, drawTicks: true, tickLength: 8, tickWidth: (_ctx, options) => options.lineWidth, tickColor: (_ctx, options) => options.color, offset: false, borderDash: [], borderDashOffset: 0.0, borderWidth: 1 }, title: { display: false, text: '', padding: { top: 4, bottom: 4 } }, ticks: { minRotation: 0, maxRotation: 50, mirror: false, textStrokeWidth: 0, textStrokeColor: '', padding: 3, display: true, autoSkip: true, autoSkipPadding: 3, labelOffset: 0, callback: Ticks.formatters.values, minor: {}, major: {}, align: 'center', crossAlign: 'near', showLabelBackdrop: false, backdropColor: 'rgba(255, 255, 255, 0.75)', backdropPadding: 2, } }); defaults.route('scale.ticks', 'color', '', 'color'); defaults.route('scale.grid', 'color', '', 'borderColor'); defaults.route('scale.grid', 'borderColor', '', 'borderColor'); defaults.route('scale.title', 'color', '', 'color'); defaults.describe('scale', { _fallback: false, _scriptable: (name) => !name.startsWith('before') && !name.startsWith('after') && name !== 'callback' && name !== 'parser', _indexable: (name) => name !== 'borderDash' && name !== 'tickBorderDash', }); defaults.describe('scales', { _fallback: 'scale', }); defaults.describe('scale.ticks', { _scriptable: (name) => name !== 'backdropPadding' && name !== 'callback', _indexable: (name) => name !== 'backdropPadding', }); function autoSkip(scale, ticks) { const tickOpts = scale.options.ticks; const ticksLimit = tickOpts.maxTicksLimit || determineMaxTicks(scale); const majorIndices = tickOpts.major.enabled ? getMajorIndices(ticks) : []; const numMajorIndices = majorIndices.length; const first = majorIndices[0]; const last = majorIndices[numMajorIndices - 1]; const newTicks = []; if (numMajorIndices > ticksLimit) { skipMajors(ticks, newTicks, majorIndices, numMajorIndices / ticksLimit); return newTicks; } const spacing = calculateSpacing(majorIndices, ticks, ticksLimit); if (numMajorIndices > 0) { let i, ilen; const avgMajorSpacing = numMajorIndices > 1 ? Math.round((last - first) / (numMajorIndices - 1)) : null; skip(ticks, newTicks, spacing, isNullOrUndef(avgMajorSpacing) ? 0 : first - avgMajorSpacing, first); for (i = 0, ilen = numMajorIndices - 1; i < ilen; i++) { skip(ticks, newTicks, spacing, majorIndices[i], majorIndices[i + 1]); } skip(ticks, newTicks, spacing, last, isNullOrUndef(avgMajorSpacing) ? ticks.length : last + avgMajorSpacing); return newTicks; } skip(ticks, newTicks, spacing); return newTicks; } function determineMaxTicks(scale) { const offset = scale.options.offset; const tickLength = scale._tickSize(); const maxScale = scale._length / tickLength + (offset ? 0 : 1); const maxChart = scale._maxLength / tickLength; return Math.floor(Math.min(maxScale, maxChart)); } function calculateSpacing(majorIndices, ticks, ticksLimit) { const evenMajorSpacing = getEvenSpacing(majorIndices); const spacing = ticks.length / ticksLimit; if (!evenMajorSpacing) { return Math.max(spacing, 1); } const factors = _factorize(evenMajorSpacing); for (let i = 0, ilen = factors.length - 1; i < ilen; i++) { const factor = factors[i]; if (factor > spacing) { return factor; } } return Math.max(spacing, 1); } function getMajorIndices(ticks) { const result = []; let i, ilen; for (i = 0, ilen = ticks.length; i < ilen; i++) { if (ticks[i].major) { result.push(i); } } return result; } function skipMajors(ticks, newTicks, majorIndices, spacing) { let count = 0; let next = majorIndices[0]; let i; spacing = Math.ceil(spacing); for (i = 0; i < ticks.length; i++) { if (i === next) { newTicks.push(ticks[i]); count++; next = majorIndices[count * spacing]; } } } function skip(ticks, newTicks, spacing, majorStart, majorEnd) { const start = valueOrDefault(majorStart, 0); const end = Math.min(valueOrDefault(majorEnd, ticks.length), ticks.length); let count = 0; let length, i, next; spacing = Math.ceil(spacing); if (majorEnd) { length = majorEnd - majorStart; spacing = length / Math.floor(length / spacing); } next = start; while (next < 0) { count++; next = Math.round(start + count * spacing); } for (i = Math.max(start, 0); i < end; i++) { if (i === next) { newTicks.push(ticks[i]); count++; next = Math.round(start + count * spacing); } } } function getEvenSpacing(arr) { const len = arr.length; let i, diff; if (len < 2) { return false; } for (diff = arr[0], i = 1; i < len; ++i) { if (arr[i] - arr[i - 1] !== diff) { return false; } } return diff; } const reverseAlign = (align) => align === 'left' ? 'right' : align === 'right' ? 'left' : align; const offsetFromEdge = (scale, edge, offset) => edge === 'top' || edge === 'left' ? scale[edge] + offset : scale[edge] - offset; function sample(arr, numItems) { const result = []; const increment = arr.length / numItems; const len = arr.length; let i = 0; for (; i < len; i += increment) { result.push(arr[Math.floor(i)]); } return result; } function getPixelForGridLine(scale, index, offsetGridLines) { const length = scale.ticks.length; const validIndex = Math.min(index, length - 1); const start = scale._startPixel; const end = scale._endPixel; const epsilon = 1e-6; let lineValue = scale.getPixelForTick(validIndex); let offset; if (offsetGridLines) { if (length === 1) { offset = Math.max(lineValue - start, end - lineValue); } else if (index === 0) { offset = (scale.getPixelForTick(1) - lineValue) / 2; } else { offset = (lineValue - scale.getPixelForTick(validIndex - 1)) / 2; } lineValue += validIndex < index ? offset : -offset; if (lineValue < start - epsilon || lineValue > end + epsilon) { return; } } return lineValue; } function garbageCollect(caches, length) { each(caches, (cache) => { const gc = cache.gc; const gcLen = gc.length / 2; let i; if (gcLen > length) { for (i = 0; i < gcLen; ++i) { delete cache.data[gc[i]]; } gc.splice(0, gcLen); } }); } function getTickMarkLength(options) { return options.drawTicks ? options.tickLength : 0; } function getTitleHeight(options, fallback) { if (!options.display) { return 0; } const font = toFont(options.font, fallback); const padding = toPadding(options.padding); const lines = isArray(options.text) ? options.text.length : 1; return (lines * font.lineHeight) + padding.height; } function createScaleContext(parent, scale) { return createContext(parent, { scale, type: 'scale' }); } function createTickContext(parent, index, tick) { return createContext(parent, { tick, index, type: 'tick' }); } function titleAlign(align, position, reverse) { let ret = _toLeftRightCenter(align); if ((reverse && position !== 'right') || (!reverse && position === 'right')) { ret = reverseAlign(ret); } return ret; } function titleArgs(scale, offset, position, align) { const {top, left, bottom, right, chart} = scale; const {chartArea, scales} = chart; let rotation = 0; let maxWidth, titleX, titleY; const height = bottom - top; const width = right - left; if (scale.isHorizontal()) { titleX = _alignStartEnd(align, left, right); if (isObject(position)) { const positionAxisID = Object.keys(position)[0]; const value = position[positionAxisID]; titleY = scales[positionAxisID].getPixelForValue(value) + height - offset; } else if (position === 'center') { titleY = (chartArea.bottom + chartArea.top) / 2 + height - offset; } else { titleY = offsetFromEdge(scale, position, offset); } maxWidth = right - left; } else { if (isObject(position)) { const positionAxisID = Object.keys(position)[0]; const value = position[positionAxisID]; titleX = scales[positionAxisID].getPixelForValue(value) - width + offset; } else if (position === 'center') { titleX = (chartArea.left + chartArea.right) / 2 - width + offset; } else { titleX = offsetFromEdge(scale, position, offset); } titleY = _alignStartEnd(align, bottom, top); rotation = position === 'left' ? -HALF_PI : HALF_PI; } return {titleX, titleY, maxWidth, rotation}; } class Scale extends Element { constructor(cfg) { super(); this.id = cfg.id; this.type = cfg.type; this.options = undefined; this.ctx = cfg.ctx; this.chart = cfg.chart; this.top = undefined; this.bottom = undefined; this.left = undefined; this.right = undefined; this.width = undefined; this.height = undefined; this._margins = { left: 0, right: 0, top: 0, bottom: 0 }; this.maxWidth = undefined; this.maxHeight = undefined; this.paddingTop = undefined; this.paddingBottom = undefined; this.paddingLeft = undefined; this.paddingRight = undefined; this.axis = undefined; this.labelRotation = undefined; this.min = undefined; this.max = undefined; this._range = undefined; this.ticks = []; this._gridLineItems = null; this._labelItems = null; this._labelSizes = null; this._length = 0; this._maxLength = 0; this._longestTextCache = {}; this._startPixel = undefined; this._endPixel = undefined; this._reversePixels = false; this._userMax = undefined; this._userMin = undefined; this._suggestedMax = undefined; this._suggestedMin = undefined; this._ticksLength = 0; this._borderValue = 0; this._cache = {}; this._dataLimitsCached = false; this.$context = undefined; } init(options) { this.options = options.setContext(this.getContext()); this.axis = options.axis; this._userMin = this.parse(options.min); this._userMax = this.parse(options.max); this._suggestedMin = this.parse(options.suggestedMin); this._suggestedMax = this.parse(options.suggestedMax); } parse(raw, index) { return raw; } getUserBounds() { let {_userMin, _userMax, _suggestedMin, _suggestedMax} = this; _userMin = finiteOrDefault(_userMin, Number.POSITIVE_INFINITY); _userMax = finiteOrDefault(_userMax, Number.NEGATIVE_INFINITY); _suggestedMin = finiteOrDefault(_suggestedMin, Number.POSITIVE_INFINITY); _suggestedMax = finiteOrDefault(_suggestedMax, Number.NEGATIVE_INFINITY); return { min: finiteOrDefault(_userMin, _suggestedMin), max: finiteOrDefault(_userMax, _suggestedMax), minDefined: isNumberFinite(_userMin), maxDefined: isNumberFinite(_userMax) }; } getMinMax(canStack) { let {min, max, minDefined, maxDefined} = this.getUserBounds(); let range; if (minDefined && maxDefined) { return {min, max}; } const metas = this.getMatchingVisibleMetas(); for (let i = 0, ilen = metas.length; i < ilen; ++i) { range = metas[i].controller.getMinMax(this, canStack); if (!minDefined) { min = Math.min(min, range.min); } if (!maxDefined) { max = Math.max(max, range.max); } } min = maxDefined && min > max ? max : min; max = minDefined && min > max ? min : max; return { min: finiteOrDefault(min, finiteOrDefault(max, min)), max: finiteOrDefault(max, finiteOrDefault(min, max)) }; } getPadding() { return { left: this.paddingLeft || 0, top: this.paddingTop || 0, right: this.paddingRight || 0, bottom: this.paddingBottom || 0 }; } getTicks() { return this.ticks; } getLabels() { const data = this.chart.data; return this.options.labels || (this.isHorizontal() ? data.xLabels : data.yLabels) || data.labels || []; } beforeLayout() { this._cache = {}; this._dataLimitsCached = false; } beforeUpdate() { callback(this.options.beforeUpdate, [this]); } update(maxWidth, maxHeight, margins) { const {beginAtZero, grace, ticks: tickOpts} = this.options; const sampleSize = tickOpts.sampleSize; this.beforeUpdate(); this.maxWidth = maxWidth; this.maxHeight = maxHeight; this._margins = margins = Object.assign({ left: 0, right: 0, top: 0, bottom: 0 }, margins); this.ticks = null; this._labelSizes = null; this._gridLineItems = null; this._labelItems = null; this.beforeSetDimensions(); this.setDimensions(); this.afterSetDimensions(); this._maxLength = this.isHorizontal() ? this.width + margins.left + margins.right : this.height + margins.top + margins.bottom; if (!this._dataLimitsCached) { this.beforeDataLimits(); this.determineDataLimits(); this.afterDataLimits(); this._range = _addGrace(this, grace, beginAtZero); this._dataLimitsCached = true; } this.beforeBuildTicks(); this.ticks = this.buildTicks() || []; this.afterBuildTicks(); const samplingEnabled = sampleSize < this.ticks.length; this._convertTicksToLabels(samplingEnabled ? sample(this.ticks, sampleSize) : this.ticks); this.configure(); this.beforeCalculateLabelRotation(); this.calculateLabelRotation(); this.afterCalculateLabelRotation(); if (tickOpts.display && (tickOpts.autoSkip || tickOpts.source === 'auto')) { this.ticks = autoSkip(this, this.ticks); this._labelSizes = null; this.afterAutoSkip(); } if (samplingEnabled) { this._convertTicksToLabels(this.ticks); } this.beforeFit(); this.fit(); this.afterFit(); this.afterUpdate(); } configure() { let reversePixels = this.options.reverse; let startPixel, endPixel; if (this.isHorizontal()) { startPixel = this.left; endPixel = this.right; } else { startPixel = this.top; endPixel = this.bottom; reversePixels = !reversePixels; } this._startPixel = startPixel; this._endPixel = endPixel; this._reversePixels = reversePixels; this._length = endPixel - startPixel; this._alignToPixels = this.options.alignToPixels; } afterUpdate() { callback(this.options.afterUpdate, [this]); } beforeSetDimensions() { callback(this.options.beforeSetDimensions, [this]); } setDimensions() { if (this.isHorizontal()) { this.width = this.maxWidth; this.left = 0; this.right = this.width; } else { this.height = this.maxHeight; this.top = 0; this.bottom = this.height; } this.paddingLeft = 0; this.paddingTop = 0; this.paddingRight = 0; this.paddingBottom = 0; } afterSetDimensions() { callback(this.options.afterSetDimensions, [this]); } _callHooks(name) { this.chart.notifyPlugins(name, this.getContext()); callback(this.options[name], [this]); } beforeDataLimits() { this._callHooks('beforeDataLimits'); } determineDataLimits() {} afterDataLimits() { this._callHooks('afterDataLimits'); } beforeBuildTicks() { this._callHooks('beforeBuildTicks'); } buildTicks() { return []; } afterBuildTicks() { this._callHooks('afterBuildTicks'); } beforeTickToLabelConversion() { callback(this.options.beforeTickToLabelConversion, [this]); } generateTickLabels(ticks) { const tickOpts = this.options.ticks; let i, ilen, tick; for (i = 0, ilen = ticks.length; i < ilen; i++) { tick = ticks[i]; tick.label = callback(tickOpts.callback, [tick.value, i, ticks], this); } } afterTickToLabelConversion() { callback(this.options.afterTickToLabelConversion, [this]); } beforeCalculateLabelRotation() { callback(this.options.beforeCalculateLabelRotation, [this]); } calculateLabelRotation() { const options = this.options; const tickOpts = options.ticks; const numTicks = this.ticks.length; const minRotation = tickOpts.minRotation || 0; const maxRotation = tickOpts.maxRotation; let labelRotation = minRotation; let tickWidth, maxHeight, maxLabelDiagonal; if (!this._isVisible() || !tickOpts.display || minRotation >= maxRotation || numTicks <= 1 || !this.isHorizontal()) { this.labelRotation = minRotation; return; } const labelSizes = this._getLabelSizes(); const maxLabelWidth = labelSizes.widest.width; const maxLabelHeight = labelSizes.highest.height; const maxWidth = _limitValue(this.chart.width - maxLabelWidth, 0, this.maxWidth); tickWidth = options.offset ? this.maxWidth / numTicks : maxWidth / (numTicks - 1); if (maxLabelWidth + 6 > tickWidth) { tickWidth = maxWidth / (numTicks - (options.offset ? 0.5 : 1)); maxHeight = this.maxHeight - getTickMarkLength(options.grid) - tickOpts.padding - getTitleHeight(options.title, this.chart.options.font); maxLabelDiagonal = Math.sqrt(maxLabelWidth * maxLabelWidth + maxLabelHeight * maxLabelHeight); labelRotation = toDegrees(Math.min( Math.asin(_limitValue((labelSizes.highest.height + 6) / tickWidth, -1, 1)), Math.asin(_limitValue(maxHeight / maxLabelDiagonal, -1, 1)) - Math.asin(_limitValue(maxLabelHeight / maxLabelDiagonal, -1, 1)) )); labelRotation = Math.max(minRotation, Math.min(maxRotation, labelRotation)); } this.labelRotation = labelRotation; } afterCalculateLabelRotation() { callback(this.options.afterCalculateLabelRotation, [this]); } afterAutoSkip() {} beforeFit() { callback(this.options.beforeFit, [this]); } fit() { const minSize = { width: 0, height: 0 }; const {chart, options: {ticks: tickOpts, title: titleOpts, grid: gridOpts}} = this; const display = this._isVisible(); const isHorizontal = this.isHorizontal(); if (display) { const titleHeight = getTitleHeight(titleOpts, chart.options.font); if (isHorizontal) { minSize.width = this.maxWidth; minSize.height = getTickMarkLength(gridOpts) + titleHeight; } else { minSize.height = this.maxHeight; minSize.width = getTickMarkLength(gridOpts) + titleHeight; } if (tickOpts.display && this.ticks.length) { const {first, last, widest, highest} = this._getLabelSizes(); const tickPadding = tickOpts.padding * 2; const angleRadians = toRadians(this.labelRotation); const cos = Math.cos(angleRadians); const sin = Math.sin(angleRadians); if (isHorizontal) { const labelHeight = tickOpts.mirror ? 0 : sin * widest.width + cos * highest.height; minSize.height = Math.min(this.maxHeight, minSize.height + labelHeight + tickPadding); } else { const labelWidth = tickOpts.mirror ? 0 : cos * widest.width + sin * highest.height; minSize.width = Math.min(this.maxWidth, minSize.width + labelWidth + tickPadding); } this._calculatePadding(first, last, sin, cos); } } this._handleMargins(); if (isHorizontal) { this.width = this._length = chart.width - this._margins.left - this._margins.right; this.height = minSize.height; } else { this.width = minSize.width; this.height = this._length = chart.height - this._margins.top - this._margins.bottom; } } _calculatePadding(first, last, sin, cos) { const {ticks: {align, padding}, position} = this.options; const isRotated = this.labelRotation !== 0; const labelsBelowTicks = position !== 'top' && this.axis === 'x'; if (this.isHorizontal()) { const offsetLeft = this.getPixelForTick(0) - this.left; const offsetRight = this.right - this.getPixelForTick(this.ticks.length - 1); let paddingLeft = 0; let paddingRight = 0; if (isRotated) { if (labelsBelowTicks) { paddingLeft = cos * first.width; paddingRight = sin * last.height; } else { paddingLeft = sin * first.height; paddingRight = cos * last.width; } } else if (align === 'start') { paddingRight = last.width; } else if (align === 'end') { paddingLeft = first.width; } else if (align !== 'inner') { paddingLeft = first.width / 2; paddingRight = last.width / 2; } this.paddingLeft = Math.max((paddingLeft - offsetLeft + padding) * this.width / (this.width - offsetLeft), 0); this.paddingRight = Math.max((paddingRight - offsetRight + padding) * this.width / (this.width - offsetRight), 0); } else { let paddingTop = last.height / 2; let paddingBottom = first.height / 2; if (align === 'start') { paddingTop = 0; paddingBottom = first.height; } else if (align === 'end') { paddingTop = last.height; paddingBottom = 0; } this.paddingTop = paddingTop + padding; this.paddingBottom = paddingBottom + padding; } } _handleMargins() { if (this._margins) { this._margins.left = Math.max(this.paddingLeft, this._margins.left); this._margins.top = Math.max(this.paddingTop, this._margins.top); this._margins.right = Math.max(this.paddingRight, this._margins.right); this._margins.bottom = Math.max(this.paddingBottom, this._margins.bottom); } } afterFit() { callback(this.options.afterFit, [this]); } isHorizontal() { const {axis, position} = this.options; return position === 'top' || position === 'bottom' || axis === 'x'; } isFullSize() { return this.options.fullSize; } _convertTicksToLabels(ticks) { this.beforeTickToLabelConversion(); this.generateTickLabels(ticks); let i, ilen; for (i = 0, ilen = ticks.length; i < ilen; i++) { if (isNullOrUndef(ticks[i].label)) { ticks.splice(i, 1); ilen--; i--; } } this.afterTickToLabelConversion(); } _getLabelSizes() { let labelSizes = this._labelSizes; if (!labelSizes) { const sampleSize = this.options.ticks.sampleSize; let ticks = this.ticks; if (sampleSize < ticks.length) { ticks = sample(ticks, sampleSize); } this._labelSizes = labelSizes = this._computeLabelSizes(ticks, ticks.length); } return labelSizes; } _computeLabelSizes(ticks, length) { const {ctx, _longestTextCache: caches} = this; const widths = []; const heights = []; let widestLabelSize = 0; let highestLabelSize = 0; let i, j, jlen, label, tickFont, fontString, cache, lineHeight, width, height, nestedLabel; for (i = 0; i < length; ++i) { label = ticks[i].label; tickFont = this._resolveTickFontOptions(i); ctx.font = fontString = tickFont.string; cache = caches[fontString] = caches[fontString] || {data: {}, gc: []}; lineHeight = tickFont.lineHeight; width = height = 0; if (!isNullOrUndef(label) && !isArray(label)) { width = _measureText(ctx, cache.data, cache.gc, width, label); height = lineHeight; } else if (isArray(label)) { for (j = 0, jlen = label.length; j < jlen; ++j) { nestedLabel = label[j]; if (!isNullOrUndef(nestedLabel) && !isArray(nestedLabel)) { width = _measureText(ctx, cache.data, cache.gc, width, nestedLabel); height += lineHeight; } } } widths.push(width); heights.push(height); widestLabelSize = Math.max(width, widestLabelSize); highestLabelSize = Math.max(height, highestLabelSize); } garbageCollect(caches, length); const widest = widths.indexOf(widestLabelSize); const highest = heights.indexOf(highestLabelSize); const valueAt = (idx) => ({width: widths[idx] || 0, height: heights[idx] || 0}); return { first: valueAt(0), last: valueAt(length - 1), widest: valueAt(widest), highest: valueAt(highest), widths, heights, }; } getLabelForValue(value) { return value; } getPixelForValue(value, index) { return NaN; } getValueForPixel(pixel) {} getPixelForTick(index) { const ticks = this.ticks; if (index < 0 || index > ticks.length - 1) { return null; } return this.getPixelForValue(ticks[index].value); } getPixelForDecimal(decimal) { if (this._reversePixels) { decimal = 1 - decimal; } const pixel = this._startPixel + decimal * this._length; return _int16Range(this._alignToPixels ? _alignPixel(this.chart, pixel, 0) : pixel); } getDecimalForPixel(pixel) { const decimal = (pixel - this._startPixel) / this._length; return this._reversePixels ? 1 - decimal : decimal; } getBasePixel() { return this.getPixelForValue(this.getBaseValue()); } getBaseValue() { const {min, max} = this; return min < 0 && max < 0 ? max : min > 0 && max > 0 ? min : 0; } getContext(index) { const ticks = this.ticks || []; if (index >= 0 && index < ticks.length) { const tick = ticks[index]; return tick.$context || (tick.$context = createTickContext(this.getContext(), index, tick)); } return this.$context || (this.$context = createScaleContext(this.chart.getContext(), this)); } _tickSize() { const optionTicks = this.options.ticks; const rot = toRadians(this.labelRotation); const cos = Math.abs(Math.cos(rot)); const sin = Math.abs(Math.sin(rot)); const labelSizes = this._getLabelSizes(); const padding = optionTicks.autoSkipPadding || 0; const w = labelSizes ? labelSizes.widest.width + padding : 0; const h = labelSizes ? labelSizes.highest.height + padding : 0; return this.isHorizontal() ? h * cos > w * sin ? w / cos : h / sin : h * sin < w * cos ? h / cos : w / sin; } _isVisible() { const display = this.options.display; if (display !== 'auto') { return !!display; } return this.getMatchingVisibleMetas().length > 0; } _computeGridLineItems(chartArea) { const axis = this.axis; const chart = this.chart; const options = this.options; const {grid, position} = options; const offset = grid.offset; const isHorizontal = this.isHorizontal(); const ticks = this.ticks; const ticksLength = ticks.length + (offset ? 1 : 0); const tl = getTickMarkLength(grid); const items = []; const borderOpts = grid.setContext(this.getContext()); const axisWidth = borderOpts.drawBorder ? borderOpts.borderWidth : 0; const axisHalfWidth = axisWidth / 2; const alignBorderValue = function(pixel) { return _alignPixel(chart, pixel, axisWidth); }; let borderValue, i, lineValue, alignedLineValue; let tx1, ty1, tx2, ty2, x1, y1, x2, y2; if (position === 'top') { borderValue = alignBorderValue(this.bottom); ty1 = this.bottom - tl; ty2 = borderValue - axisHalfWidth; y1 = alignBorderValue(chartArea.top) + axisHalfWidth; y2 = chartArea.bottom; } else if (position === 'bottom') { borderValue = alignBorderValue(this.top); y1 = chartArea.top; y2 = alignBorderValue(chartArea.bottom) - axisHalfWidth; ty1 = borderValue + axisHalfWidth; ty2 = this.top + tl; } else if (position === 'left') { borderValue = alignBorderValue(this.right); tx1 = this.right - tl; tx2 = borderValue - axisHalfWidth; x1 = alignBorderValue(chartArea.left) + axisHalfWidth; x2 = chartArea.right; } else if (position === 'right') { borderValue = alignBorderValue(this.left); x1 = chartArea.left; x2 = alignBorderValue(chartArea.right) - axisHalfWidth; tx1 = borderValue + axisHalfWidth; tx2 = this.left + tl; } else if (axis === 'x') { if (position === 'center') { borderValue = alignBorderValue((chartArea.top + chartArea.bottom) / 2 + 0.5); } else if (isObject(position)) { const positionAxisID = Object.keys(position)[0]; const value = position[positionAxisID]; borderValue = alignBorderValue(this.chart.scales[positionAxisID].getPixelForValue(value)); } y1 = chartArea.top; y2 = chartArea.bottom; ty1 = borderValue + axisHalfWidth; ty2 = ty1 + tl; } else if (axis === 'y') { if (position === 'center') { borderValue = alignBorderValue((chartArea.left + chartArea.right) / 2); } else if (isObject(position)) { const positionAxisID = Object.keys(position)[0]; const value = position[positionAxisID]; borderValue = alignBorderValue(this.chart.scales[positionAxisID].getPixelForValue(value)); } tx1 = borderValue - axisHalfWidth; tx2 = tx1 - tl; x1 = chartArea.left; x2 = chartArea.right; } const limit = valueOrDefault(options.ticks.maxTicksLimit, ticksLength); const step = Math.max(1, Math.ceil(ticksLength / limit)); for (i = 0; i < ticksLength; i += step) { const optsAtIndex = grid.setContext(this.getContext(i)); const lineWidth = optsAtIndex.lineWidth; const lineColor = optsAtIndex.color; const borderDash = optsAtIndex.borderDash || []; const borderDashOffset = optsAtIndex.borderDashOffset; const tickWidth = optsAtIndex.tickWidth; const tickColor = optsAtIndex.tickColor; const tickBorderDash = optsAtIndex.tickBorderDash || []; const tickBorderDashOffset = optsAtIndex.tickBorderDashOffset; lineValue = getPixelForGridLine(this, i, offset); if (lineValue === undefined) { continue; } alignedLineValue = _alignPixel(chart, lineValue, lineWidth); if (isHorizontal) { tx1 = tx2 = x1 = x2 = alignedLineValue; } else { ty1 = ty2 = y1 = y2 = alignedLineValue; } items.push({ tx1, ty1, tx2, ty2, x1, y1, x2, y2, width: lineWidth, color: lineColor, borderDash, borderDashOffset, tickWidth, tickColor, tickBorderDash, tickBorderDashOffset, }); } this._ticksLength = ticksLength; this._borderValue = borderValue; return items; } _computeLabelItems(chartArea) { const axis = this.axis; const options = this.options; const {position, ticks: optionTicks} = options; const isHorizontal = this.isHorizontal(); const ticks = this.ticks; const {align, crossAlign, padding, mirror} = optionTicks; const tl = getTickMarkLength(options.grid); const tickAndPadding = tl + padding; const hTickAndPadding = mirror ? -padding : tickAndPadding; const rotation = -toRadians(this.labelRotation); const items = []; let i, ilen, tick, label, x, y, textAlign, pixel, font, lineHeight, lineCount, textOffset; let textBaseline = 'middle'; if (position === 'top') { y = this.bottom - hTickAndPadding; textAlign = this._getXAxisLabelAlignment(); } else if (position === 'bottom') { y = this.top + hTickAndPadding; textAlign = this._getXAxisLabelAlignment(); } else if (position === 'left') { const ret = this._getYAxisLabelAlignment(tl); textAlign = ret.textAlign; x = ret.x; } else if (position === 'right') { const ret = this._getYAxisLabelAlignment(tl); textAlign = ret.textAlign; x = ret.x; } else if (axis === 'x') { if (position === 'center') { y = ((chartArea.top + chartArea.bottom) / 2) + tickAndPadding; } else if (isObject(position)) { const positionAxisID = Object.keys(position)[0]; const value = position[positionAxisID]; y = this.chart.scales[positionAxisID].getPixelForValue(value) + tickAndPadding; } textAlign = this._getXAxisLabelAlignment(); } else if (axis === 'y') { if (position === 'center') { x = ((chartArea.left + chartArea.right) / 2) - tickAndPadding; } else if (isObject(position)) { const positionAxisID = Object.keys(position)[0]; const value = position[positionAxisID]; x = this.chart.scales[positionAxisID].getPixelForValue(value); } textAlign = this._getYAxisLabelAlignment(tl).textAlign; } if (axis === 'y') { if (align === 'start') { textBaseline = 'top'; } else if (align === 'end') { textBaseline = 'bottom'; } } const labelSizes = this._getLabelSizes(); for (i = 0, ilen = ticks.length; i < ilen; ++i) { tick = ticks[i]; label = tick.label; const optsAtIndex = optionTicks.setContext(this.getContext(i)); pixel = this.getPixelForTick(i) + optionTicks.labelOffset; font = this._resolveTickFontOptions(i); lineHeight = font.lineHeight; lineCount = isArray(label) ? label.length : 1; const halfCount = lineCount / 2; const color = optsAtIndex.color; const strokeColor = optsAtIndex.textStrokeColor; const strokeWidth = optsAtIndex.textStrokeWidth; let tickTextAlign = textAlign; if (isHorizontal) { x = pixel; if (textAlign === 'inner') { if (i === ilen - 1) { tickTextAlign = !this.options.reverse ? 'right' : 'left'; } else if (i === 0) { tickTextAlign = !this.options.reverse ? 'left' : 'right'; } else { tickTextAlign = 'center'; } } if (position === 'top') { if (crossAlign === 'near' || rotation !== 0) { textOffset = -lineCount * lineHeight + lineHeight / 2; } else if (crossAlign === 'center') { textOffset = -labelSizes.highest.height / 2 - halfCount * lineHeight + lineHeight; } else { textOffset = -labelSizes.highest.height + lineHeight / 2; } } else { if (crossAlign === 'near' || rotation !== 0) { textOffset = lineHeight / 2; } else if (crossAlign === 'center') { textOffset = labelSizes.highest.height / 2 - halfCount * lineHeight; } else { textOffset = labelSizes.highest.height - lineCount * lineHeight; } } if (mirror) { textOffset *= -1; } } else { y = pixel; textOffset = (1 - lineCount) * lineHeight / 2; } let backdrop; if (optsAtIndex.showLabelBackdrop) { const labelPadding = toPadding(optsAtIndex.backdropPadding); const height = labelSizes.heights[i]; const width = labelSizes.widths[i]; let top = y + textOffset - labelPadding.top; let left = x - labelPadding.left; switch (textBaseline) { case 'middle': top -= height / 2; break; case 'bottom': top -= height; break; } switch (textAlign) { case 'center': left -= width / 2; break; case 'right': left -= width; break; } backdrop = { left, top, width: width + labelPadding.width, height: height + labelPadding.height, color: optsAtIndex.backdropColor, }; } items.push({ rotation, label, font, color, strokeColor, strokeWidth, textOffset, textAlign: tickTextAlign, textBaseline, translation: [x, y], backdrop, }); } return items; } _getXAxisLabelAlignment() { const {position, ticks} = this.options; const rotation = -toRadians(this.labelRotation); if (rotation) { return position === 'top' ? 'left' : 'right'; } let align = 'center'; if (ticks.align === 'start') { align = 'left'; } else if (ticks.align === 'end') { align = 'right'; } else if (ticks.align === 'inner') { align = 'inner'; } return align; } _getYAxisLabelAlignment(tl) { const {position, ticks: {crossAlign, mirror, padding}} = this.options; const labelSizes = this._getLabelSizes(); const tickAndPadding = tl + padding; const widest = labelSizes.widest.width; let textAlign; let x; if (position === 'left') { if (mirror) { x = this.right + padding; if (crossAlign === 'near') { textAlign = 'left'; } else if (crossAlign === 'center') { textAlign = 'center'; x += (widest / 2); } else { textAlign = 'right'; x += widest; } } else { x = this.right - tickAndPadding; if (crossAlign === 'near') { textAlign = 'right'; } else if (crossAlign === 'center') { textAlign = 'center'; x -= (widest / 2); } else { textAlign = 'left'; x = this.left; } } } else if (position === 'right') { if (mirror) { x = this.left + padding; if (crossAlign === 'near') { textAlign = 'right'; } else if (crossAlign === 'center') { textAlign = 'center'; x -= (widest / 2); } else { textAlign = 'left'; x -= widest; } } else { x = this.left + tickAndPadding; if (crossAlign === 'near') { textAlign = 'left'; } else if (crossAlign === 'center') { textAlign = 'center'; x += widest / 2; } else { textAlign = 'right'; x = this.right; } } } else { textAlign = 'right'; } return {textAlign, x}; } _computeLabelArea() { if (this.options.ticks.mirror) { return; } const chart = this.chart; const position = this.options.position; if (position === 'left' || position === 'right') { return {top: 0, left: this.left, bottom: chart.height, right: this.right}; } if (position === 'top' || position === 'bottom') { return {top: this.top, left: 0, bottom: this.bottom, right: chart.width}; } } drawBackground() { const {ctx, options: {backgroundColor}, left, top, width, height} = this; if (backgroundColor) { ctx.save(); ctx.fillStyle = backgroundColor; ctx.fillRect(left, top, width, height); ctx.restore(); } } getLineWidthForValue(value) { const grid = this.options.grid; if (!this._isVisible() || !grid.display) { return 0; } const ticks = this.ticks; const index = ticks.findIndex(t => t.value === value); if (index >= 0) { const opts = grid.setContext(this.getContext(index)); return opts.lineWidth; } return 0; } drawGrid(chartArea) { const grid = this.options.grid; const ctx = this.ctx; const items = this._gridLineItems || (this._gridLineItems = this._computeGridLineItems(chartArea)); let i, ilen; const drawLine = (p1, p2, style) => { if (!style.width || !style.color) { return; } ctx.save(); ctx.lineWidth = style.width; ctx.strokeStyle = style.color; ctx.setLineDash(style.borderDash || []); ctx.lineDashOffset = style.borderDashOffset; ctx.beginPath(); ctx.moveTo(p1.x, p1.y); ctx.lineTo(p2.x, p2.y); ctx.stroke(); ctx.restore(); }; if (grid.display) { for (i = 0, ilen = items.length; i < ilen; ++i) { const item = items[i]; if (grid.drawOnChartArea) { drawLine( {x: item.x1, y: item.y1}, {x: item.x2, y: item.y2}, item ); } if (grid.drawTicks) { drawLine( {x: item.tx1, y: item.ty1}, {x: item.tx2, y: item.ty2}, { color: item.tickColor, width: item.tickWidth, borderDash: item.tickBorderDash, borderDashOffset: item.tickBorderDashOffset } ); } } } } drawBorder() { const {chart, ctx, options: {grid}} = this; const borderOpts = grid.setContext(this.getContext()); const axisWidth = grid.drawBorder ? borderOpts.borderWidth : 0; if (!axisWidth) { return; } const lastLineWidth = grid.setContext(this.getContext(0)).lineWidth; const borderValue = this._borderValue; let x1, x2, y1, y2; if (this.isHorizontal()) { x1 = _alignPixel(chart, this.left, axisWidth) - axisWidth / 2; x2 = _alignPixel(chart, this.right, lastLineWidth) + lastLineWidth / 2; y1 = y2 = borderValue; } else { y1 = _alignPixel(chart, this.top, axisWidth) - axisWidth / 2; y2 = _alignPixel(chart, this.bottom, lastLineWidth) + lastLineWidth / 2; x1 = x2 = borderValue; } ctx.save(); ctx.lineWidth = borderOpts.borderWidth; ctx.strokeStyle = borderOpts.borderColor; ctx.beginPath(); ctx.moveTo(x1, y1); ctx.lineTo(x2, y2); ctx.stroke(); ctx.restore(); } drawLabels(chartArea) { const optionTicks = this.options.ticks; if (!optionTicks.display) { return; } const ctx = this.ctx; const area = this._computeLabelArea(); if (area) { clipArea(ctx, area); } const items = this._labelItems || (this._labelItems = this._computeLabelItems(chartArea)); let i, ilen; for (i = 0, ilen = items.length; i < ilen; ++i) { const item = items[i]; const tickFont = item.font; const label = item.label; if (item.backdrop) { ctx.fillStyle = item.backdrop.color; ctx.fillRect(item.backdrop.left, item.backdrop.top, item.backdrop.width, item.backdrop.height); } let y = item.textOffset; renderText(ctx, label, 0, y, tickFont, item); } if (area) { unclipArea(ctx); } } drawTitle() { const {ctx, options: {position, title, reverse}} = this; if (!title.display) { return; } const font = toFont(title.font); const padding = toPadding(title.padding); const align = title.align; let offset = font.lineHeight / 2; if (position === 'bottom' || position === 'center' || isObject(position)) { offset += padding.bottom; if (isArray(title.text)) { offset += font.lineHeight * (title.text.length - 1); } } else { offset += padding.top; } const {titleX, titleY, maxWidth, rotation} = titleArgs(this, offset, position, align); renderText(ctx, title.text, 0, 0, font, { color: title.color, maxWidth, rotation, textAlign: titleAlign(align, position, reverse), textBaseline: 'middle', translation: [titleX, titleY], }); } draw(chartArea) { if (!this._isVisible()) { return; } this.drawBackground(); this.drawGrid(chartArea); this.drawBorder(); this.drawTitle(); this.drawLabels(chartArea); } _layers() { const opts = this.options; const tz = opts.ticks && opts.ticks.z || 0; const gz = valueOrDefault(opts.grid && opts.grid.z, -1); if (!this._isVisible() || this.draw !== Scale.prototype.draw) { return [{ z: tz, draw: (chartArea) => { this.draw(chartArea); } }]; } return [{ z: gz, draw: (chartArea) => { this.drawBackground(); this.drawGrid(chartArea); this.drawTitle(); } }, { z: gz + 1, draw: () => { this.drawBorder(); } }, { z: tz, draw: (chartArea) => { this.drawLabels(chartArea); } }]; } getMatchingVisibleMetas(type) { const metas = this.chart.getSortedVisibleDatasetMetas(); const axisID = this.axis + 'AxisID'; const result = []; let i, ilen; for (i = 0, ilen = metas.length; i < ilen; ++i) { const meta = metas[i]; if (meta[axisID] === this.id && (!type || meta.type === type)) { result.push(meta); } } return result; } _resolveTickFontOptions(index) { const opts = this.options.ticks.setContext(this.getContext(index)); return toFont(opts.font); } _maxDigits() { const fontSize = this._resolveTickFontOptions(0).lineHeight; return (this.isHorizontal() ? this.width : this.height) / fontSize; } } class TypedRegistry { constructor(type, scope, override) { this.type = type; this.scope = scope; this.override = override; this.items = Object.create(null); } isForType(type) { return Object.prototype.isPrototypeOf.call(this.type.prototype, type.prototype); } register(item) { const proto = Object.getPrototypeOf(item); let parentScope; if (isIChartComponent(proto)) { parentScope = this.register(proto); } const items = this.items; const id = item.id; const scope = this.scope + '.' + id; if (!id) { throw new Error('class does not have id: ' + item); } if (id in items) { return scope; } items[id] = item; registerDefaults(item, scope, parentScope); if (this.override) { defaults.override(item.id, item.overrides); } return scope; } get(id) { return this.items[id]; } unregister(item) { const items = this.items; const id = item.id; const scope = this.scope; if (id in items) { delete items[id]; } if (scope && id in defaults[scope]) { delete defaults[scope][id]; if (this.override) { delete overrides[id]; } } } } function registerDefaults(item, scope, parentScope) { const itemDefaults = merge(Object.create(null), [ parentScope ? defaults.get(parentScope) : {}, defaults.get(scope), item.defaults ]); defaults.set(scope, itemDefaults); if (item.defaultRoutes) { routeDefaults(scope, item.defaultRoutes); } if (item.descriptors) { defaults.describe(scope, item.descriptors); } } function routeDefaults(scope, routes) { Object.keys(routes).forEach(property => { const propertyParts = property.split('.'); const sourceName = propertyParts.pop(); const sourceScope = [scope].concat(propertyParts).join('.'); const parts = routes[property].split('.'); const targetName = parts.pop(); const targetScope = parts.join('.'); defaults.route(sourceScope, sourceName, targetScope, targetName); }); } function isIChartComponent(proto) { return 'id' in proto && 'defaults' in proto; } class Registry { constructor() { this.controllers = new TypedRegistry(DatasetController, 'datasets', true); this.elements = new TypedRegistry(Element, 'elements'); this.plugins = new TypedRegistry(Object, 'plugins'); this.scales = new TypedRegistry(Scale, 'scales'); this._typedRegistries = [this.controllers, this.scales, this.elements]; } add(...args) { this._each('register', args); } remove(...args) { this._each('unregister', args); } addControllers(...args) { this._each('register', args, this.controllers); } addElements(...args) { this._each('register', args, this.elements); } addPlugins(...args) { this._each('register', args, this.plugins); } addScales(...args) { this._each('register', args, this.scales); } getController(id) { return this._get(id, this.controllers, 'controller'); } getElement(id) { return this._get(id, this.elements, 'element'); } getPlugin(id) { return this._get(id, this.plugins, 'plugin'); } getScale(id) { return this._get(id, this.scales, 'scale'); } removeControllers(...args) { this._each('unregister', args, this.controllers); } removeElements(...args) { this._each('unregister', args, this.elements); } removePlugins(...args) { this._each('unregister', args, this.plugins); } removeScales(...args) { this._each('unregister', args, this.scales); } _each(method, args, typedRegistry) { [...args].forEach(arg => { const reg = typedRegistry || this._getRegistryForType(arg); if (typedRegistry || reg.isForType(arg) || (reg === this.plugins && arg.id)) { this._exec(method, reg, arg); } else { each(arg, item => { const itemReg = typedRegistry || this._getRegistryForType(item); this._exec(method, itemReg, item); }); } }); } _exec(method, registry, component) { const camelMethod = _capitalize(method); callback(component['before' + camelMethod], [], component); registry[method](component); callback(component['after' + camelMethod], [], component); } _getRegistryForType(type) { for (let i = 0; i < this._typedRegistries.length; i++) { const reg = this._typedRegistries[i]; if (reg.isForType(type)) { return reg; } } return this.plugins; } _get(id, typedRegistry, type) { const item = typedRegistry.get(id); if (item === undefined) { throw new Error('"' + id + '" is not a registered ' + type + '.'); } return item; } } var registry = new Registry(); class ScatterController extends DatasetController { update(mode) { const meta = this._cachedMeta; const {data: points = []} = meta; const animationsDisabled = this.chart._animationsDisabled; let {start, count} = _getStartAndCountOfVisiblePoints(meta, points, animationsDisabled); this._drawStart = start; this._drawCount = count; if (_scaleRangesChanged(meta)) { start = 0; count = points.length; } if (this.options.showLine) { const {dataset: line, _dataset} = meta; line._chart = this.chart; line._datasetIndex = this.index; line._decimated = !!_dataset._decimated; line.points = points; const options = this.resolveDatasetElementOptions(mode); options.segment = this.options.segment; this.updateElement(line, undefined, { animated: !animationsDisabled, options }, mode); } this.updateElements(points, start, count, mode); } addElements() { const {showLine} = this.options; if (!this.datasetElementType && showLine) { this.datasetElementType = registry.getElement('line'); } super.addElements(); } updateElements(points, start, count, mode) { const reset = mode === 'reset'; const {iScale, vScale, _stacked, _dataset} = this._cachedMeta; const firstOpts = this.resolveDataElementOptions(start, mode); const sharedOptions = this.getSharedOptions(firstOpts); const includeOptions = this.includeOptions(mode, sharedOptions); const iAxis = iScale.axis; const vAxis = vScale.axis; const {spanGaps, segment} = this.options; const maxGapLength = isNumber(spanGaps) ? spanGaps : Number.POSITIVE_INFINITY; const directUpdate = this.chart._animationsDisabled || reset || mode === 'none'; let prevParsed = start > 0 && this.getParsed(start - 1); for (let i = start; i < start + count; ++i) { const point = points[i]; const parsed = this.getParsed(i); const properties = directUpdate ? point : {}; const nullData = isNullOrUndef(parsed[vAxis]); const iPixel = properties[iAxis] = iScale.getPixelForValue(parsed[iAxis], i); const vPixel = properties[vAxis] = reset || nullData ? vScale.getBasePixel() : vScale.getPixelForValue(_stacked ? this.applyStack(vScale, parsed, _stacked) : parsed[vAxis], i); properties.skip = isNaN(iPixel) || isNaN(vPixel) || nullData; properties.stop = i > 0 && (Math.abs(parsed[iAxis] - prevParsed[iAxis])) > maxGapLength; if (segment) { properties.parsed = parsed; properties.raw = _dataset.data[i]; } if (includeOptions) { properties.options = sharedOptions || this.resolveDataElementOptions(i, point.active ? 'active' : mode); } if (!directUpdate) { this.updateElement(point, i, properties, mode); } prevParsed = parsed; } this.updateSharedOptions(sharedOptions, mode, firstOpts); } getMaxOverflow() { const meta = this._cachedMeta; const data = meta.data || []; if (!this.options.showLine) { let max = 0; for (let i = data.length - 1; i >= 0; --i) { max = Math.max(max, data[i].size(this.resolveDataElementOptions(i)) / 2); } return max > 0 && max; } const dataset = meta.dataset; const border = dataset.options && dataset.options.borderWidth || 0; if (!data.length) { return border; } const firstPoint = data[0].size(this.resolveDataElementOptions(0)); const lastPoint = data[data.length - 1].size(this.resolveDataElementOptions(data.length - 1)); return Math.max(border, firstPoint, lastPoint) / 2; } } ScatterController.id = 'scatter'; ScatterController.defaults = { datasetElementType: false, dataElementType: 'point', showLine: false, fill: false }; ScatterController.overrides = { interaction: { mode: 'point' }, plugins: { tooltip: { callbacks: { title() { return ''; }, label(item) { return '(' + item.label + ', ' + item.formattedValue + ')'; } } } }, scales: { x: { type: 'linear' }, y: { type: 'linear' } } }; var controllers = /*#__PURE__*/Object.freeze({ __proto__: null, BarController: BarController, BubbleController: BubbleController, DoughnutController: DoughnutController, LineController: LineController, PolarAreaController: PolarAreaController, PieController: PieController, RadarController: RadarController, ScatterController: ScatterController }); function abstract() { throw new Error('This method is not implemented: Check that a complete date adapter is provided.'); } class DateAdapter { constructor(options) { this.options = options || {}; } init(chartOptions) {} formats() { return abstract(); } parse(value, format) { return abstract(); } format(timestamp, format) { return abstract(); } add(timestamp, amount, unit) { return abstract(); } diff(a, b, unit) { return abstract(); } startOf(timestamp, unit, weekday) { return abstract(); } endOf(timestamp, unit) { return abstract(); } } DateAdapter.override = function(members) { Object.assign(DateAdapter.prototype, members); }; var adapters = { _date: DateAdapter }; function binarySearch(metaset, axis, value, intersect) { const {controller, data, _sorted} = metaset; const iScale = controller._cachedMeta.iScale; if (iScale && axis === iScale.axis && axis !== 'r' && _sorted && data.length) { const lookupMethod = iScale._reversePixels ? _rlookupByKey : _lookupByKey; if (!intersect) { return lookupMethod(data, axis, value); } else if (controller._sharedOptions) { const el = data[0]; const range = typeof el.getRange === 'function' && el.getRange(axis); if (range) { const start = lookupMethod(data, axis, value - range); const end = lookupMethod(data, axis, value + range); return {lo: start.lo, hi: end.hi}; } } } return {lo: 0, hi: data.length - 1}; } function evaluateInteractionItems(chart, axis, position, handler, intersect) { const metasets = chart.getSortedVisibleDatasetMetas(); const value = position[axis]; for (let i = 0, ilen = metasets.length; i < ilen; ++i) { const {index, data} = metasets[i]; const {lo, hi} = binarySearch(metasets[i], axis, value, intersect); for (let j = lo; j <= hi; ++j) { const element = data[j]; if (!element.skip) { handler(element, index, j); } } } } function getDistanceMetricForAxis(axis) { const useX = axis.indexOf('x') !== -1; const useY = axis.indexOf('y') !== -1; return function(pt1, pt2) { const deltaX = useX ? Math.abs(pt1.x - pt2.x) : 0; const deltaY = useY ? Math.abs(pt1.y - pt2.y) : 0; return Math.sqrt(Math.pow(deltaX, 2) + Math.pow(deltaY, 2)); }; } function getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible) { const items = []; if (!includeInvisible && !chart.isPointInArea(position)) { return items; } const evaluationFunc = function(element, datasetIndex, index) { if (!includeInvisible && !_isPointInArea(element, chart.chartArea, 0)) { return; } if (element.inRange(position.x, position.y, useFinalPosition)) { items.push({element, datasetIndex, index}); } }; evaluateInteractionItems(chart, axis, position, evaluationFunc, true); return items; } function getNearestRadialItems(chart, position, axis, useFinalPosition) { let items = []; function evaluationFunc(element, datasetIndex, index) { const {startAngle, endAngle} = element.getProps(['startAngle', 'endAngle'], useFinalPosition); const {angle} = getAngleFromPoint(element, {x: position.x, y: position.y}); if (_angleBetween(angle, startAngle, endAngle)) { items.push({element, datasetIndex, index}); } } evaluateInteractionItems(chart, axis, position, evaluationFunc); return items; } function getNearestCartesianItems(chart, position, axis, intersect, useFinalPosition, includeInvisible) { let items = []; const distanceMetric = getDistanceMetricForAxis(axis); let minDistance = Number.POSITIVE_INFINITY; function evaluationFunc(element, datasetIndex, index) { const inRange = element.inRange(position.x, position.y, useFinalPosition); if (intersect && !inRange) { return; } const center = element.getCenterPoint(useFinalPosition); const pointInArea = !!includeInvisible || chart.isPointInArea(center); if (!pointInArea && !inRange) { return; } const distance = distanceMetric(position, center); if (distance < minDistance) { items = [{element, datasetIndex, index}]; minDistance = distance; } else if (distance === minDistance) { items.push({element, datasetIndex, index}); } } evaluateInteractionItems(chart, axis, position, evaluationFunc); return items; } function getNearestItems(chart, position, axis, intersect, useFinalPosition, includeInvisible) { if (!includeInvisible && !chart.isPointInArea(position)) { return []; } return axis === 'r' && !intersect ? getNearestRadialItems(chart, position, axis, useFinalPosition) : getNearestCartesianItems(chart, position, axis, intersect, useFinalPosition, includeInvisible); } function getAxisItems(chart, position, axis, intersect, useFinalPosition) { const items = []; const rangeMethod = axis === 'x' ? 'inXRange' : 'inYRange'; let intersectsItem = false; evaluateInteractionItems(chart, axis, position, (element, datasetIndex, index) => { if (element[rangeMethod](position[axis], useFinalPosition)) { items.push({element, datasetIndex, index}); intersectsItem = intersectsItem || element.inRange(position.x, position.y, useFinalPosition); } }); if (intersect && !intersectsItem) { return []; } return items; } var Interaction = { evaluateInteractionItems, modes: { index(chart, e, options, useFinalPosition) { const position = getRelativePosition(e, chart); const axis = options.axis || 'x'; const includeInvisible = options.includeInvisible || false; const items = options.intersect ? getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible) : getNearestItems(chart, position, axis, false, useFinalPosition, includeInvisible); const elements = []; if (!items.length) { return []; } chart.getSortedVisibleDatasetMetas().forEach((meta) => { const index = items[0].index; const element = meta.data[index]; if (element && !element.skip) { elements.push({element, datasetIndex: meta.index, index}); } }); return elements; }, dataset(chart, e, options, useFinalPosition) { const position = getRelativePosition(e, chart); const axis = options.axis || 'xy'; const includeInvisible = options.includeInvisible || false; let items = options.intersect ? getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible) : getNearestItems(chart, position, axis, false, useFinalPosition, includeInvisible); if (items.length > 0) { const datasetIndex = items[0].datasetIndex; const data = chart.getDatasetMeta(datasetIndex).data; items = []; for (let i = 0; i < data.length; ++i) { items.push({element: data[i], datasetIndex, index: i}); } } return items; }, point(chart, e, options, useFinalPosition) { const position = getRelativePosition(e, chart); const axis = options.axis || 'xy'; const includeInvisible = options.includeInvisible || false; return getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible); }, nearest(chart, e, options, useFinalPosition) { const position = getRelativePosition(e, chart); const axis = options.axis || 'xy'; const includeInvisible = options.includeInvisible || false; return getNearestItems(chart, position, axis, options.intersect, useFinalPosition, includeInvisible); }, x(chart, e, options, useFinalPosition) { const position = getRelativePosition(e, chart); return getAxisItems(chart, position, 'x', options.intersect, useFinalPosition); }, y(chart, e, options, useFinalPosition) { const position = getRelativePosition(e, chart); return getAxisItems(chart, position, 'y', options.intersect, useFinalPosition); } } }; const STATIC_POSITIONS = ['left', 'top', 'right', 'bottom']; function filterByPosition(array, position) { return array.filter(v => v.pos === position); } function filterDynamicPositionByAxis(array, axis) { return array.filter(v => STATIC_POSITIONS.indexOf(v.pos) === -1 && v.box.axis === axis); } function sortByWeight(array, reverse) { return array.sort((a, b) => { const v0 = reverse ? b : a; const v1 = reverse ? a : b; return v0.weight === v1.weight ? v0.index - v1.index : v0.weight - v1.weight; }); } function wrapBoxes(boxes) { const layoutBoxes = []; let i, ilen, box, pos, stack, stackWeight; for (i = 0, ilen = (boxes || []).length; i < ilen; ++i) { box = boxes[i]; ({position: pos, options: {stack, stackWeight = 1}} = box); layoutBoxes.push({ index: i, box, pos, horizontal: box.isHorizontal(), weight: box.weight, stack: stack && (pos + stack), stackWeight }); } return layoutBoxes; } function buildStacks(layouts) { const stacks = {}; for (const wrap of layouts) { const {stack, pos, stackWeight} = wrap; if (!stack || !STATIC_POSITIONS.includes(pos)) { continue; } const _stack = stacks[stack] || (stacks[stack] = {count: 0, placed: 0, weight: 0, size: 0}); _stack.count++; _stack.weight += stackWeight; } return stacks; } function setLayoutDims(layouts, params) { const stacks = buildStacks(layouts); const {vBoxMaxWidth, hBoxMaxHeight} = params; let i, ilen, layout; for (i = 0, ilen = layouts.length; i < ilen; ++i) { layout = layouts[i]; const {fullSize} = layout.box; const stack = stacks[layout.stack]; const factor = stack && layout.stackWeight / stack.weight; if (layout.horizontal) { layout.width = factor ? factor * vBoxMaxWidth : fullSize && params.availableWidth; layout.height = hBoxMaxHeight; } else { layout.width = vBoxMaxWidth; layout.height = factor ? factor * hBoxMaxHeight : fullSize && params.availableHeight; } } return stacks; } function buildLayoutBoxes(boxes) { const layoutBoxes = wrapBoxes(boxes); const fullSize = sortByWeight(layoutBoxes.filter(wrap => wrap.box.fullSize), true); const left = sortByWeight(filterByPosition(layoutBoxes, 'left'), true); const right = sortByWeight(filterByPosition(layoutBoxes, 'right')); const top = sortByWeight(filterByPosition(layoutBoxes, 'top'), true); const bottom = sortByWeight(filterByPosition(layoutBoxes, 'bottom')); const centerHorizontal = filterDynamicPositionByAxis(layoutBoxes, 'x'); const centerVertical = filterDynamicPositionByAxis(layoutBoxes, 'y'); return { fullSize, leftAndTop: left.concat(top), rightAndBottom: right.concat(centerVertical).concat(bottom).concat(centerHorizontal), chartArea: filterByPosition(layoutBoxes, 'chartArea'), vertical: left.concat(right).concat(centerVertical), horizontal: top.concat(bottom).concat(centerHorizontal) }; } function getCombinedMax(maxPadding, chartArea, a, b) { return Math.max(maxPadding[a], chartArea[a]) + Math.max(maxPadding[b], chartArea[b]); } function updateMaxPadding(maxPadding, boxPadding) { maxPadding.top = Math.max(maxPadding.top, boxPadding.top); maxPadding.left = Math.max(maxPadding.left, boxPadding.left); maxPadding.bottom = Math.max(maxPadding.bottom, boxPadding.bottom); maxPadding.right = Math.max(maxPadding.right, boxPadding.right); } function updateDims(chartArea, params, layout, stacks) { const {pos, box} = layout; const maxPadding = chartArea.maxPadding; if (!isObject(pos)) { if (layout.size) { chartArea[pos] -= layout.size; } const stack = stacks[layout.stack] || {size: 0, count: 1}; stack.size = Math.max(stack.size, layout.horizontal ? box.height : box.width); layout.size = stack.size / stack.count; chartArea[pos] += layout.size; } if (box.getPadding) { updateMaxPadding(maxPadding, box.getPadding()); } const newWidth = Math.max(0, params.outerWidth - getCombinedMax(maxPadding, chartArea, 'left', 'right')); const newHeight = Math.max(0, params.outerHeight - getCombinedMax(maxPadding, chartArea, 'top', 'bottom')); const widthChanged = newWidth !== chartArea.w; const heightChanged = newHeight !== chartArea.h; chartArea.w = newWidth; chartArea.h = newHeight; return layout.horizontal ? {same: widthChanged, other: heightChanged} : {same: heightChanged, other: widthChanged}; } function handleMaxPadding(chartArea) { const maxPadding = chartArea.maxPadding; function updatePos(pos) { const change = Math.max(maxPadding[pos] - chartArea[pos], 0); chartArea[pos] += change; return change; } chartArea.y += updatePos('top'); chartArea.x += updatePos('left'); updatePos('right'); updatePos('bottom'); } function getMargins(horizontal, chartArea) { const maxPadding = chartArea.maxPadding; function marginForPositions(positions) { const margin = {left: 0, top: 0, right: 0, bottom: 0}; positions.forEach((pos) => { margin[pos] = Math.max(chartArea[pos], maxPadding[pos]); }); return margin; } return horizontal ? marginForPositions(['left', 'right']) : marginForPositions(['top', 'bottom']); } function fitBoxes(boxes, chartArea, params, stacks) { const refitBoxes = []; let i, ilen, layout, box, refit, changed; for (i = 0, ilen = boxes.length, refit = 0; i < ilen; ++i) { layout = boxes[i]; box = layout.box; box.update( layout.width || chartArea.w, layout.height || chartArea.h, getMargins(layout.horizontal, chartArea) ); const {same, other} = updateDims(chartArea, params, layout, stacks); refit |= same && refitBoxes.length; changed = changed || other; if (!box.fullSize) { refitBoxes.push(layout); } } return refit && fitBoxes(refitBoxes, chartArea, params, stacks) || changed; } function setBoxDims(box, left, top, width, height) { box.top = top; box.left = left; box.right = left + width; box.bottom = top + height; box.width = width; box.height = height; } function placeBoxes(boxes, chartArea, params, stacks) { const userPadding = params.padding; let {x, y} = chartArea; for (const layout of boxes) { const box = layout.box; const stack = stacks[layout.stack] || {count: 1, placed: 0, weight: 1}; const weight = (layout.stackWeight / stack.weight) || 1; if (layout.horizontal) { const width = chartArea.w * weight; const height = stack.size || box.height; if (defined(stack.start)) { y = stack.start; } if (box.fullSize) { setBoxDims(box, userPadding.left, y, params.outerWidth - userPadding.right - userPadding.left, height); } else { setBoxDims(box, chartArea.left + stack.placed, y, width, height); } stack.start = y; stack.placed += width; y = box.bottom; } else { const height = chartArea.h * weight; const width = stack.size || box.width; if (defined(stack.start)) { x = stack.start; } if (box.fullSize) { setBoxDims(box, x, userPadding.top, width, params.outerHeight - userPadding.bottom - userPadding.top); } else { setBoxDims(box, x, chartArea.top + stack.placed, width, height); } stack.start = x; stack.placed += height; x = box.right; } } chartArea.x = x; chartArea.y = y; } defaults.set('layout', { autoPadding: true, padding: { top: 0, right: 0, bottom: 0, left: 0 } }); var layouts = { addBox(chart, item) { if (!chart.boxes) { chart.boxes = []; } item.fullSize = item.fullSize || false; item.position = item.position || 'top'; item.weight = item.weight || 0; item._layers = item._layers || function() { return [{ z: 0, draw(chartArea) { item.draw(chartArea); } }]; }; chart.boxes.push(item); }, removeBox(chart, layoutItem) { const index = chart.boxes ? chart.boxes.indexOf(layoutItem) : -1; if (index !== -1) { chart.boxes.splice(index, 1); } }, configure(chart, item, options) { item.fullSize = options.fullSize; item.position = options.position; item.weight = options.weight; }, update(chart, width, height, minPadding) { if (!chart) { return; } const padding = toPadding(chart.options.layout.padding); const availableWidth = Math.max(width - padding.width, 0); const availableHeight = Math.max(height - padding.height, 0); const boxes = buildLayoutBoxes(chart.boxes); const verticalBoxes = boxes.vertical; const horizontalBoxes = boxes.horizontal; each(chart.boxes, box => { if (typeof box.beforeLayout === 'function') { box.beforeLayout(); } }); const visibleVerticalBoxCount = verticalBoxes.reduce((total, wrap) => wrap.box.options && wrap.box.options.display === false ? total : total + 1, 0) || 1; const params = Object.freeze({ outerWidth: width, outerHeight: height, padding, availableWidth, availableHeight, vBoxMaxWidth: availableWidth / 2 / visibleVerticalBoxCount, hBoxMaxHeight: availableHeight / 2 }); const maxPadding = Object.assign({}, padding); updateMaxPadding(maxPadding, toPadding(minPadding)); const chartArea = Object.assign({ maxPadding, w: availableWidth, h: availableHeight, x: padding.left, y: padding.top }, padding); const stacks = setLayoutDims(verticalBoxes.concat(horizontalBoxes), params); fitBoxes(boxes.fullSize, chartArea, params, stacks); fitBoxes(verticalBoxes, chartArea, params, stacks); if (fitBoxes(horizontalBoxes, chartArea, params, stacks)) { fitBoxes(verticalBoxes, chartArea, params, stacks); } handleMaxPadding(chartArea); placeBoxes(boxes.leftAndTop, chartArea, params, stacks); chartArea.x += chartArea.w; chartArea.y += chartArea.h; placeBoxes(boxes.rightAndBottom, chartArea, params, stacks); chart.chartArea = { left: chartArea.left, top: chartArea.top, right: chartArea.left + chartArea.w, bottom: chartArea.top + chartArea.h, height: chartArea.h, width: chartArea.w, }; each(boxes.chartArea, (layout) => { const box = layout.box; Object.assign(box, chart.chartArea); box.update(chartArea.w, chartArea.h, {left: 0, top: 0, right: 0, bottom: 0}); }); } }; class BasePlatform { acquireContext(canvas, aspectRatio) {} releaseContext(context) { return false; } addEventListener(chart, type, listener) {} removeEventListener(chart, type, listener) {} getDevicePixelRatio() { return 1; } getMaximumSize(element, width, height, aspectRatio) { width = Math.max(0, width || element.width); height = height || element.height; return { width, height: Math.max(0, aspectRatio ? Math.floor(width / aspectRatio) : height) }; } isAttached(canvas) { return true; } updateConfig(config) { } } class BasicPlatform extends BasePlatform { acquireContext(item) { return item && item.getContext && item.getContext('2d') || null; } updateConfig(config) { config.options.animation = false; } } const EXPANDO_KEY = '$chartjs'; const EVENT_TYPES = { touchstart: 'mousedown', touchmove: 'mousemove', touchend: 'mouseup', pointerenter: 'mouseenter', pointerdown: 'mousedown', pointermove: 'mousemove', pointerup: 'mouseup', pointerleave: 'mouseout', pointerout: 'mouseout' }; const isNullOrEmpty = value => value === null || value === ''; function initCanvas(canvas, aspectRatio) { const style = canvas.style; const renderHeight = canvas.getAttribute('height'); const renderWidth = canvas.getAttribute('width'); canvas[EXPANDO_KEY] = { initial: { height: renderHeight, width: renderWidth, style: { display: style.display, height: style.height, width: style.width } } }; style.display = style.display || 'block'; style.boxSizing = style.boxSizing || 'border-box'; if (isNullOrEmpty(renderWidth)) { const displayWidth = readUsedSize(canvas, 'width'); if (displayWidth !== undefined) { canvas.width = displayWidth; } } if (isNullOrEmpty(renderHeight)) { if (canvas.style.height === '') { canvas.height = canvas.width / (aspectRatio || 2); } else { const displayHeight = readUsedSize(canvas, 'height'); if (displayHeight !== undefined) { canvas.height = displayHeight; } } } return canvas; } const eventListenerOptions = supportsEventListenerOptions ? {passive: true} : false; function addListener(node, type, listener) { node.addEventListener(type, listener, eventListenerOptions); } function removeListener(chart, type, listener) { chart.canvas.removeEventListener(type, listener, eventListenerOptions); } function fromNativeEvent(event, chart) { const type = EVENT_TYPES[event.type] || event.type; const {x, y} = getRelativePosition(event, chart); return { type, chart, native: event, x: x !== undefined ? x : null, y: y !== undefined ? y : null, }; } function nodeListContains(nodeList, canvas) { for (const node of nodeList) { if (node === canvas || node.contains(canvas)) { return true; } } } function createAttachObserver(chart, type, listener) { const canvas = chart.canvas; const observer = new MutationObserver(entries => { let trigger = false; for (const entry of entries) { trigger = trigger || nodeListContains(entry.addedNodes, canvas); trigger = trigger && !nodeListContains(entry.removedNodes, canvas); } if (trigger) { listener(); } }); observer.observe(document, {childList: true, subtree: true}); return observer; } function createDetachObserver(chart, type, listener) { const canvas = chart.canvas; const observer = new MutationObserver(entries => { let trigger = false; for (const entry of entries) { trigger = trigger || nodeListContains(entry.removedNodes, canvas); trigger = trigger && !nodeListContains(entry.addedNodes, canvas); } if (trigger) { listener(); } }); observer.observe(document, {childList: true, subtree: true}); return observer; } const drpListeningCharts = new Map(); let oldDevicePixelRatio = 0; function onWindowResize() { const dpr = window.devicePixelRatio; if (dpr === oldDevicePixelRatio) { return; } oldDevicePixelRatio = dpr; drpListeningCharts.forEach((resize, chart) => { if (chart.currentDevicePixelRatio !== dpr) { resize(); } }); } function listenDevicePixelRatioChanges(chart, resize) { if (!drpListeningCharts.size) { window.addEventListener('resize', onWindowResize); } drpListeningCharts.set(chart, resize); } function unlistenDevicePixelRatioChanges(chart) { drpListeningCharts.delete(chart); if (!drpListeningCharts.size) { window.removeEventListener('resize', onWindowResize); } } function createResizeObserver(chart, type, listener) { const canvas = chart.canvas; const container = canvas && _getParentNode(canvas); if (!container) { return; } const resize = throttled((width, height) => { const w = container.clientWidth; listener(width, height); if (w < container.clientWidth) { listener(); } }, window); const observer = new ResizeObserver(entries => { const entry = entries[0]; const width = entry.contentRect.width; const height = entry.contentRect.height; if (width === 0 && height === 0) { return; } resize(width, height); }); observer.observe(container); listenDevicePixelRatioChanges(chart, resize); return observer; } function releaseObserver(chart, type, observer) { if (observer) { observer.disconnect(); } if (type === 'resize') { unlistenDevicePixelRatioChanges(chart); } } function createProxyAndListen(chart, type, listener) { const canvas = chart.canvas; const proxy = throttled((event) => { if (chart.ctx !== null) { listener(fromNativeEvent(event, chart)); } }, chart, (args) => { const event = args[0]; return [event, event.offsetX, event.offsetY]; }); addListener(canvas, type, proxy); return proxy; } class DomPlatform extends BasePlatform { acquireContext(canvas, aspectRatio) { const context = canvas && canvas.getContext && canvas.getContext('2d'); if (context && context.canvas === canvas) { initCanvas(canvas, aspectRatio); return context; } return null; } releaseContext(context) { const canvas = context.canvas; if (!canvas[EXPANDO_KEY]) { return false; } const initial = canvas[EXPANDO_KEY].initial; ['height', 'width'].forEach((prop) => { const value = initial[prop]; if (isNullOrUndef(value)) { canvas.removeAttribute(prop); } else { canvas.setAttribute(prop, value); } }); const style = initial.style || {}; Object.keys(style).forEach((key) => { canvas.style[key] = style[key]; }); canvas.width = canvas.width; delete canvas[EXPANDO_KEY]; return true; } addEventListener(chart, type, listener) { this.removeEventListener(chart, type); const proxies = chart.$proxies || (chart.$proxies = {}); const handlers = { attach: createAttachObserver, detach: createDetachObserver, resize: createResizeObserver }; const handler = handlers[type] || createProxyAndListen; proxies[type] = handler(chart, type, listener); } removeEventListener(chart, type) { const proxies = chart.$proxies || (chart.$proxies = {}); const proxy = proxies[type]; if (!proxy) { return; } const handlers = { attach: releaseObserver, detach: releaseObserver, resize: releaseObserver }; const handler = handlers[type] || removeListener; handler(chart, type, proxy); proxies[type] = undefined; } getDevicePixelRatio() { return window.devicePixelRatio; } getMaximumSize(canvas, width, height, aspectRatio) { return getMaximumSize(canvas, width, height, aspectRatio); } isAttached(canvas) { const container = _getParentNode(canvas); return !!(container && container.isConnected); } } function _detectPlatform(canvas) { if (!_isDomSupported() || (typeof OffscreenCanvas !== 'undefined' && canvas instanceof OffscreenCanvas)) { return BasicPlatform; } return DomPlatform; } class PluginService { constructor() { this._init = []; } notify(chart, hook, args, filter) { if (hook === 'beforeInit') { this._init = this._createDescriptors(chart, true); this._notify(this._init, chart, 'install'); } const descriptors = filter ? this._descriptors(chart).filter(filter) : this._descriptors(chart); const result = this._notify(descriptors, chart, hook, args); if (hook === 'afterDestroy') { this._notify(descriptors, chart, 'stop'); this._notify(this._init, chart, 'uninstall'); } return result; } _notify(descriptors, chart, hook, args) { args = args || {}; for (const descriptor of descriptors) { const plugin = descriptor.plugin; const method = plugin[hook]; const params = [chart, args, descriptor.options]; if (callback(method, params, plugin) === false && args.cancelable) { return false; } } return true; } invalidate() { if (!isNullOrUndef(this._cache)) { this._oldCache = this._cache; this._cache = undefined; } } _descriptors(chart) { if (this._cache) { return this._cache; } const descriptors = this._cache = this._createDescriptors(chart); this._notifyStateChanges(chart); return descriptors; } _createDescriptors(chart, all) { const config = chart && chart.config; const options = valueOrDefault(config.options && config.options.plugins, {}); const plugins = allPlugins(config); return options === false && !all ? [] : createDescriptors(chart, plugins, options, all); } _notifyStateChanges(chart) { const previousDescriptors = this._oldCache || []; const descriptors = this._cache; const diff = (a, b) => a.filter(x => !b.some(y => x.plugin.id === y.plugin.id)); this._notify(diff(previousDescriptors, descriptors), chart, 'stop'); this._notify(diff(descriptors, previousDescriptors), chart, 'start'); } } function allPlugins(config) { const localIds = {}; const plugins = []; const keys = Object.keys(registry.plugins.items); for (let i = 0; i < keys.length; i++) { plugins.push(registry.getPlugin(keys[i])); } const local = config.plugins || []; for (let i = 0; i < local.length; i++) { const plugin = local[i]; if (plugins.indexOf(plugin) === -1) { plugins.push(plugin); localIds[plugin.id] = true; } } return {plugins, localIds}; } function getOpts(options, all) { if (!all && options === false) { return null; } if (options === true) { return {}; } return options; } function createDescriptors(chart, {plugins, localIds}, options, all) { const result = []; const context = chart.getContext(); for (const plugin of plugins) { const id = plugin.id; const opts = getOpts(options[id], all); if (opts === null) { continue; } result.push({ plugin, options: pluginOpts(chart.config, {plugin, local: localIds[id]}, opts, context) }); } return result; } function pluginOpts(config, {plugin, local}, opts, context) { const keys = config.pluginScopeKeys(plugin); const scopes = config.getOptionScopes(opts, keys); if (local && plugin.defaults) { scopes.push(plugin.defaults); } return config.createResolver(scopes, context, [''], { scriptable: false, indexable: false, allKeys: true }); } function getIndexAxis(type, options) { const datasetDefaults = defaults.datasets[type] || {}; const datasetOptions = (options.datasets || {})[type] || {}; return datasetOptions.indexAxis || options.indexAxis || datasetDefaults.indexAxis || 'x'; } function getAxisFromDefaultScaleID(id, indexAxis) { let axis = id; if (id === '_index_') { axis = indexAxis; } else if (id === '_value_') { axis = indexAxis === 'x' ? 'y' : 'x'; } return axis; } function getDefaultScaleIDFromAxis(axis, indexAxis) { return axis === indexAxis ? '_index_' : '_value_'; } function axisFromPosition(position) { if (position === 'top' || position === 'bottom') { return 'x'; } if (position === 'left' || position === 'right') { return 'y'; } } function determineAxis(id, scaleOptions) { if (id === 'x' || id === 'y') { return id; } return scaleOptions.axis || axisFromPosition(scaleOptions.position) || id.charAt(0).toLowerCase(); } function mergeScaleConfig(config, options) { const chartDefaults = overrides[config.type] || {scales: {}}; const configScales = options.scales || {}; const chartIndexAxis = getIndexAxis(config.type, options); const firstIDs = Object.create(null); const scales = Object.create(null); Object.keys(configScales).forEach(id => { const scaleConf = configScales[id]; if (!isObject(scaleConf)) { return console.error(`Invalid scale configuration for scale: ${id}`); } if (scaleConf._proxy) { return console.warn(`Ignoring resolver passed as options for scale: ${id}`); } const axis = determineAxis(id, scaleConf); const defaultId = getDefaultScaleIDFromAxis(axis, chartIndexAxis); const defaultScaleOptions = chartDefaults.scales || {}; firstIDs[axis] = firstIDs[axis] || id; scales[id] = mergeIf(Object.create(null), [{axis}, scaleConf, defaultScaleOptions[axis], defaultScaleOptions[defaultId]]); }); config.data.datasets.forEach(dataset => { const type = dataset.type || config.type; const indexAxis = dataset.indexAxis || getIndexAxis(type, options); const datasetDefaults = overrides[type] || {}; const defaultScaleOptions = datasetDefaults.scales || {}; Object.keys(defaultScaleOptions).forEach(defaultID => { const axis = getAxisFromDefaultScaleID(defaultID, indexAxis); const id = dataset[axis + 'AxisID'] || firstIDs[axis] || axis; scales[id] = scales[id] || Object.create(null); mergeIf(scales[id], [{axis}, configScales[id], defaultScaleOptions[defaultID]]); }); }); Object.keys(scales).forEach(key => { const scale = scales[key]; mergeIf(scale, [defaults.scales[scale.type], defaults.scale]); }); return scales; } function initOptions(config) { const options = config.options || (config.options = {}); options.plugins = valueOrDefault(options.plugins, {}); options.scales = mergeScaleConfig(config, options); } function initData(data) { data = data || {}; data.datasets = data.datasets || []; data.labels = data.labels || []; return data; } function initConfig(config) { config = config || {}; config.data = initData(config.data); initOptions(config); return config; } const keyCache = new Map(); const keysCached = new Set(); function cachedKeys(cacheKey, generate) { let keys = keyCache.get(cacheKey); if (!keys) { keys = generate(); keyCache.set(cacheKey, keys); keysCached.add(keys); } return keys; } const addIfFound = (set, obj, key) => { const opts = resolveObjectKey(obj, key); if (opts !== undefined) { set.add(opts); } }; class Config { constructor(config) { this._config = initConfig(config); this._scopeCache = new Map(); this._resolverCache = new Map(); } get platform() { return this._config.platform; } get type() { return this._config.type; } set type(type) { this._config.type = type; } get data() { return this._config.data; } set data(data) { this._config.data = initData(data); } get options() { return this._config.options; } set options(options) { this._config.options = options; } get plugins() { return this._config.plugins; } update() { const config = this._config; this.clearCache(); initOptions(config); } clearCache() { this._scopeCache.clear(); this._resolverCache.clear(); } datasetScopeKeys(datasetType) { return cachedKeys(datasetType, () => [[ `datasets.${datasetType}`, '' ]]); } datasetAnimationScopeKeys(datasetType, transition) { return cachedKeys(`${datasetType}.transition.${transition}`, () => [ [ `datasets.${datasetType}.transitions.${transition}`, `transitions.${transition}`, ], [ `datasets.${datasetType}`, '' ] ]); } datasetElementScopeKeys(datasetType, elementType) { return cachedKeys(`${datasetType}-${elementType}`, () => [[ `datasets.${datasetType}.elements.${elementType}`, `datasets.${datasetType}`, `elements.${elementType}`, '' ]]); } pluginScopeKeys(plugin) { const id = plugin.id; const type = this.type; return cachedKeys(`${type}-plugin-${id}`, () => [[ `plugins.${id}`, ...plugin.additionalOptionScopes || [], ]]); } _cachedScopes(mainScope, resetCache) { const _scopeCache = this._scopeCache; let cache = _scopeCache.get(mainScope); if (!cache || resetCache) { cache = new Map(); _scopeCache.set(mainScope, cache); } return cache; } getOptionScopes(mainScope, keyLists, resetCache) { const {options, type} = this; const cache = this._cachedScopes(mainScope, resetCache); const cached = cache.get(keyLists); if (cached) { return cached; } const scopes = new Set(); keyLists.forEach(keys => { if (mainScope) { scopes.add(mainScope); keys.forEach(key => addIfFound(scopes, mainScope, key)); } keys.forEach(key => addIfFound(scopes, options, key)); keys.forEach(key => addIfFound(scopes, overrides[type] || {}, key)); keys.forEach(key => addIfFound(scopes, defaults, key)); keys.forEach(key => addIfFound(scopes, descriptors, key)); }); const array = Array.from(scopes); if (array.length === 0) { array.push(Object.create(null)); } if (keysCached.has(keyLists)) { cache.set(keyLists, array); } return array; } chartOptionScopes() { const {options, type} = this; return [ options, overrides[type] || {}, defaults.datasets[type] || {}, {type}, defaults, descriptors ]; } resolveNamedOptions(scopes, names, context, prefixes = ['']) { const result = {$shared: true}; const {resolver, subPrefixes} = getResolver(this._resolverCache, scopes, prefixes); let options = resolver; if (needContext(resolver, names)) { result.$shared = false; context = isFunction(context) ? context() : context; const subResolver = this.createResolver(scopes, context, subPrefixes); options = _attachContext(resolver, context, subResolver); } for (const prop of names) { result[prop] = options[prop]; } return result; } createResolver(scopes, context, prefixes = [''], descriptorDefaults) { const {resolver} = getResolver(this._resolverCache, scopes, prefixes); return isObject(context) ? _attachContext(resolver, context, undefined, descriptorDefaults) : resolver; } } function getResolver(resolverCache, scopes, prefixes) { let cache = resolverCache.get(scopes); if (!cache) { cache = new Map(); resolverCache.set(scopes, cache); } const cacheKey = prefixes.join(); let cached = cache.get(cacheKey); if (!cached) { const resolver = _createResolver(scopes, prefixes); cached = { resolver, subPrefixes: prefixes.filter(p => !p.toLowerCase().includes('hover')) }; cache.set(cacheKey, cached); } return cached; } const hasFunction = value => isObject(value) && Object.getOwnPropertyNames(value).reduce((acc, key) => acc || isFunction(value[key]), false); function needContext(proxy, names) { const {isScriptable, isIndexable} = _descriptors(proxy); for (const prop of names) { const scriptable = isScriptable(prop); const indexable = isIndexable(prop); const value = (indexable || scriptable) && proxy[prop]; if ((scriptable && (isFunction(value) || hasFunction(value))) || (indexable && isArray(value))) { return true; } } return false; } var version = "3.9.1"; const KNOWN_POSITIONS = ['top', 'bottom', 'left', 'right', 'chartArea']; function positionIsHorizontal(position, axis) { return position === 'top' || position === 'bottom' || (KNOWN_POSITIONS.indexOf(position) === -1 && axis === 'x'); } function compare2Level(l1, l2) { return function(a, b) { return a[l1] === b[l1] ? a[l2] - b[l2] : a[l1] - b[l1]; }; } function onAnimationsComplete(context) { const chart = context.chart; const animationOptions = chart.options.animation; chart.notifyPlugins('afterRender'); callback(animationOptions && animationOptions.onComplete, [context], chart); } function onAnimationProgress(context) { const chart = context.chart; const animationOptions = chart.options.animation; callback(animationOptions && animationOptions.onProgress, [context], chart); } function getCanvas(item) { if (_isDomSupported() && typeof item === 'string') { item = document.getElementById(item); } else if (item && item.length) { item = item[0]; } if (item && item.canvas) { item = item.canvas; } return item; } const instances = {}; const getChart = (key) => { const canvas = getCanvas(key); return Object.values(instances).filter((c) => c.canvas === canvas).pop(); }; function moveNumericKeys(obj, start, move) { const keys = Object.keys(obj); for (const key of keys) { const intKey = +key; if (intKey >= start) { const value = obj[key]; delete obj[key]; if (move > 0 || intKey > start) { obj[intKey + move] = value; } } } } function determineLastEvent(e, lastEvent, inChartArea, isClick) { if (!inChartArea || e.type === 'mouseout') { return null; } if (isClick) { return lastEvent; } return e; } class Chart { constructor(item, userConfig) { const config = this.config = new Config(userConfig); const initialCanvas = getCanvas(item); const existingChart = getChart(initialCanvas); if (existingChart) { throw new Error( 'Canvas is already in use. Chart with ID \'' + existingChart.id + '\'' + ' must be destroyed before the canvas with ID \'' + existingChart.canvas.id + '\' can be reused.' ); } const options = config.createResolver(config.chartOptionScopes(), this.getContext()); this.platform = new (config.platform || _detectPlatform(initialCanvas))(); this.platform.updateConfig(config); const context = this.platform.acquireContext(initialCanvas, options.aspectRatio); const canvas = context && context.canvas; const height = canvas && canvas.height; const width = canvas && canvas.width; this.id = uid(); this.ctx = context; this.canvas = canvas; this.width = width; this.height = height; this._options = options; this._aspectRatio = this.aspectRatio; this._layers = []; this._metasets = []; this._stacks = undefined; this.boxes = []; this.currentDevicePixelRatio = undefined; this.chartArea = undefined; this._active = []; this._lastEvent = undefined; this._listeners = {}; this._responsiveListeners = undefined; this._sortedMetasets = []; this.scales = {}; this._plugins = new PluginService(); this.$proxies = {}; this._hiddenIndices = {}; this.attached = false; this._animationsDisabled = undefined; this.$context = undefined; this._doResize = debounce(mode => this.update(mode), options.resizeDelay || 0); this._dataChanges = []; instances[this.id] = this; if (!context || !canvas) { console.error("Failed to create chart: can't acquire context from the given item"); return; } animator.listen(this, 'complete', onAnimationsComplete); animator.listen(this, 'progress', onAnimationProgress); this._initialize(); if (this.attached) { this.update(); } } get aspectRatio() { const {options: {aspectRatio, maintainAspectRatio}, width, height, _aspectRatio} = this; if (!isNullOrUndef(aspectRatio)) { return aspectRatio; } if (maintainAspectRatio && _aspectRatio) { return _aspectRatio; } return height ? width / height : null; } get data() { return this.config.data; } set data(data) { this.config.data = data; } get options() { return this._options; } set options(options) { this.config.options = options; } _initialize() { this.notifyPlugins('beforeInit'); if (this.options.responsive) { this.resize(); } else { retinaScale(this, this.options.devicePixelRatio); } this.bindEvents(); this.notifyPlugins('afterInit'); return this; } clear() { clearCanvas(this.canvas, this.ctx); return this; } stop() { animator.stop(this); return this; } resize(width, height) { if (!animator.running(this)) { this._resize(width, height); } else { this._resizeBeforeDraw = {width, height}; } } _resize(width, height) { const options = this.options; const canvas = this.canvas; const aspectRatio = options.maintainAspectRatio && this.aspectRatio; const newSize = this.platform.getMaximumSize(canvas, width, height, aspectRatio); const newRatio = options.devicePixelRatio || this.platform.getDevicePixelRatio(); const mode = this.width ? 'resize' : 'attach'; this.width = newSize.width; this.height = newSize.height; this._aspectRatio = this.aspectRatio; if (!retinaScale(this, newRatio, true)) { return; } this.notifyPlugins('resize', {size: newSize}); callback(options.onResize, [this, newSize], this); if (this.attached) { if (this._doResize(mode)) { this.render(); } } } ensureScalesHaveIDs() { const options = this.options; const scalesOptions = options.scales || {}; each(scalesOptions, (axisOptions, axisID) => { axisOptions.id = axisID; }); } buildOrUpdateScales() { const options = this.options; const scaleOpts = options.scales; const scales = this.scales; const updated = Object.keys(scales).reduce((obj, id) => { obj[id] = false; return obj; }, {}); let items = []; if (scaleOpts) { items = items.concat( Object.keys(scaleOpts).map((id) => { const scaleOptions = scaleOpts[id]; const axis = determineAxis(id, scaleOptions); const isRadial = axis === 'r'; const isHorizontal = axis === 'x'; return { options: scaleOptions, dposition: isRadial ? 'chartArea' : isHorizontal ? 'bottom' : 'left', dtype: isRadial ? 'radialLinear' : isHorizontal ? 'category' : 'linear' }; }) ); } each(items, (item) => { const scaleOptions = item.options; const id = scaleOptions.id; const axis = determineAxis(id, scaleOptions); const scaleType = valueOrDefault(scaleOptions.type, item.dtype); if (scaleOptions.position === undefined || positionIsHorizontal(scaleOptions.position, axis) !== positionIsHorizontal(item.dposition)) { scaleOptions.position = item.dposition; } updated[id] = true; let scale = null; if (id in scales && scales[id].type === scaleType) { scale = scales[id]; } else { const scaleClass = registry.getScale(scaleType); scale = new scaleClass({ id, type: scaleType, ctx: this.ctx, chart: this }); scales[scale.id] = scale; } scale.init(scaleOptions, options); }); each(updated, (hasUpdated, id) => { if (!hasUpdated) { delete scales[id]; } }); each(scales, (scale) => { layouts.configure(this, scale, scale.options); layouts.addBox(this, scale); }); } _updateMetasets() { const metasets = this._metasets; const numData = this.data.datasets.length; const numMeta = metasets.length; metasets.sort((a, b) => a.index - b.index); if (numMeta > numData) { for (let i = numData; i < numMeta; ++i) { this._destroyDatasetMeta(i); } metasets.splice(numData, numMeta - numData); } this._sortedMetasets = metasets.slice(0).sort(compare2Level('order', 'index')); } _removeUnreferencedMetasets() { const {_metasets: metasets, data: {datasets}} = this; if (metasets.length > datasets.length) { delete this._stacks; } metasets.forEach((meta, index) => { if (datasets.filter(x => x === meta._dataset).length === 0) { this._destroyDatasetMeta(index); } }); } buildOrUpdateControllers() { const newControllers = []; const datasets = this.data.datasets; let i, ilen; this._removeUnreferencedMetasets(); for (i = 0, ilen = datasets.length; i < ilen; i++) { const dataset = datasets[i]; let meta = this.getDatasetMeta(i); const type = dataset.type || this.config.type; if (meta.type && meta.type !== type) { this._destroyDatasetMeta(i); meta = this.getDatasetMeta(i); } meta.type = type; meta.indexAxis = dataset.indexAxis || getIndexAxis(type, this.options); meta.order = dataset.order || 0; meta.index = i; meta.label = '' + dataset.label; meta.visible = this.isDatasetVisible(i); if (meta.controller) { meta.controller.updateIndex(i); meta.controller.linkScales(); } else { const ControllerClass = registry.getController(type); const {datasetElementType, dataElementType} = defaults.datasets[type]; Object.assign(ControllerClass.prototype, { dataElementType: registry.getElement(dataElementType), datasetElementType: datasetElementType && registry.getElement(datasetElementType) }); meta.controller = new ControllerClass(this, i); newControllers.push(meta.controller); } } this._updateMetasets(); return newControllers; } _resetElements() { each(this.data.datasets, (dataset, datasetIndex) => { this.getDatasetMeta(datasetIndex).controller.reset(); }, this); } reset() { this._resetElements(); this.notifyPlugins('reset'); } update(mode) { const config = this.config; config.update(); const options = this._options = config.createResolver(config.chartOptionScopes(), this.getContext()); const animsDisabled = this._animationsDisabled = !options.animation; this._updateScales(); this._checkEventBindings(); this._updateHiddenIndices(); this._plugins.invalidate(); if (this.notifyPlugins('beforeUpdate', {mode, cancelable: true}) === false) { return; } const newControllers = this.buildOrUpdateControllers(); this.notifyPlugins('beforeElementsUpdate'); let minPadding = 0; for (let i = 0, ilen = this.data.datasets.length; i < ilen; i++) { const {controller} = this.getDatasetMeta(i); const reset = !animsDisabled && newControllers.indexOf(controller) === -1; controller.buildOrUpdateElements(reset); minPadding = Math.max(+controller.getMaxOverflow(), minPadding); } minPadding = this._minPadding = options.layout.autoPadding ? minPadding : 0; this._updateLayout(minPadding); if (!animsDisabled) { each(newControllers, (controller) => { controller.reset(); }); } this._updateDatasets(mode); this.notifyPlugins('afterUpdate', {mode}); this._layers.sort(compare2Level('z', '_idx')); const {_active, _lastEvent} = this; if (_lastEvent) { this._eventHandler(_lastEvent, true); } else if (_active.length) { this._updateHoverStyles(_active, _active, true); } this.render(); } _updateScales() { each(this.scales, (scale) => { layouts.removeBox(this, scale); }); this.ensureScalesHaveIDs(); this.buildOrUpdateScales(); } _checkEventBindings() { const options = this.options; const existingEvents = new Set(Object.keys(this._listeners)); const newEvents = new Set(options.events); if (!setsEqual(existingEvents, newEvents) || !!this._responsiveListeners !== options.responsive) { this.unbindEvents(); this.bindEvents(); } } _updateHiddenIndices() { const {_hiddenIndices} = this; const changes = this._getUniformDataChanges() || []; for (const {method, start, count} of changes) { const move = method === '_removeElements' ? -count : count; moveNumericKeys(_hiddenIndices, start, move); } } _getUniformDataChanges() { const _dataChanges = this._dataChanges; if (!_dataChanges || !_dataChanges.length) { return; } this._dataChanges = []; const datasetCount = this.data.datasets.length; const makeSet = (idx) => new Set( _dataChanges .filter(c => c[0] === idx) .map((c, i) => i + ',' + c.splice(1).join(',')) ); const changeSet = makeSet(0); for (let i = 1; i < datasetCount; i++) { if (!setsEqual(changeSet, makeSet(i))) { return; } } return Array.from(changeSet) .map(c => c.split(',')) .map(a => ({method: a[1], start: +a[2], count: +a[3]})); } _updateLayout(minPadding) { if (this.notifyPlugins('beforeLayout', {cancelable: true}) === false) { return; } layouts.update(this, this.width, this.height, minPadding); const area = this.chartArea; const noArea = area.width <= 0 || area.height <= 0; this._layers = []; each(this.boxes, (box) => { if (noArea && box.position === 'chartArea') { return; } if (box.configure) { box.configure(); } this._layers.push(...box._layers()); }, this); this._layers.forEach((item, index) => { item._idx = index; }); this.notifyPlugins('afterLayout'); } _updateDatasets(mode) { if (this.notifyPlugins('beforeDatasetsUpdate', {mode, cancelable: true}) === false) { return; } for (let i = 0, ilen = this.data.datasets.length; i < ilen; ++i) { this.getDatasetMeta(i).controller.configure(); } for (let i = 0, ilen = this.data.datasets.length; i < ilen; ++i) { this._updateDataset(i, isFunction(mode) ? mode({datasetIndex: i}) : mode); } this.notifyPlugins('afterDatasetsUpdate', {mode}); } _updateDataset(index, mode) { const meta = this.getDatasetMeta(index); const args = {meta, index, mode, cancelable: true}; if (this.notifyPlugins('beforeDatasetUpdate', args) === false) { return; } meta.controller._update(mode); args.cancelable = false; this.notifyPlugins('afterDatasetUpdate', args); } render() { if (this.notifyPlugins('beforeRender', {cancelable: true}) === false) { return; } if (animator.has(this)) { if (this.attached && !animator.running(this)) { animator.start(this); } } else { this.draw(); onAnimationsComplete({chart: this}); } } draw() { let i; if (this._resizeBeforeDraw) { const {width, height} = this._resizeBeforeDraw; this._resize(width, height); this._resizeBeforeDraw = null; } this.clear(); if (this.width <= 0 || this.height <= 0) { return; } if (this.notifyPlugins('beforeDraw', {cancelable: true}) === false) { return; } const layers = this._layers; for (i = 0; i < layers.length && layers[i].z <= 0; ++i) { layers[i].draw(this.chartArea); } this._drawDatasets(); for (; i < layers.length; ++i) { layers[i].draw(this.chartArea); } this.notifyPlugins('afterDraw'); } _getSortedDatasetMetas(filterVisible) { const metasets = this._sortedMetasets; const result = []; let i, ilen; for (i = 0, ilen = metasets.length; i < ilen; ++i) { const meta = metasets[i]; if (!filterVisible || meta.visible) { result.push(meta); } } return result; } getSortedVisibleDatasetMetas() { return this._getSortedDatasetMetas(true); } _drawDatasets() { if (this.notifyPlugins('beforeDatasetsDraw', {cancelable: true}) === false) { return; } const metasets = this.getSortedVisibleDatasetMetas(); for (let i = metasets.length - 1; i >= 0; --i) { this._drawDataset(metasets[i]); } this.notifyPlugins('afterDatasetsDraw'); } _drawDataset(meta) { const ctx = this.ctx; const clip = meta._clip; const useClip = !clip.disabled; const area = this.chartArea; const args = { meta, index: meta.index, cancelable: true }; if (this.notifyPlugins('beforeDatasetDraw', args) === false) { return; } if (useClip) { clipArea(ctx, { left: clip.left === false ? 0 : area.left - clip.left, right: clip.right === false ? this.width : area.right + clip.right, top: clip.top === false ? 0 : area.top - clip.top, bottom: clip.bottom === false ? this.height : area.bottom + clip.bottom }); } meta.controller.draw(); if (useClip) { unclipArea(ctx); } args.cancelable = false; this.notifyPlugins('afterDatasetDraw', args); } isPointInArea(point) { return _isPointInArea(point, this.chartArea, this._minPadding); } getElementsAtEventForMode(e, mode, options, useFinalPosition) { const method = Interaction.modes[mode]; if (typeof method === 'function') { return method(this, e, options, useFinalPosition); } return []; } getDatasetMeta(datasetIndex) { const dataset = this.data.datasets[datasetIndex]; const metasets = this._metasets; let meta = metasets.filter(x => x && x._dataset === dataset).pop(); if (!meta) { meta = { type: null, data: [], dataset: null, controller: null, hidden: null, xAxisID: null, yAxisID: null, order: dataset && dataset.order || 0, index: datasetIndex, _dataset: dataset, _parsed: [], _sorted: false }; metasets.push(meta); } return meta; } getContext() { return this.$context || (this.$context = createContext(null, {chart: this, type: 'chart'})); } getVisibleDatasetCount() { return this.getSortedVisibleDatasetMetas().length; } isDatasetVisible(datasetIndex) { const dataset = this.data.datasets[datasetIndex]; if (!dataset) { return false; } const meta = this.getDatasetMeta(datasetIndex); return typeof meta.hidden === 'boolean' ? !meta.hidden : !dataset.hidden; } setDatasetVisibility(datasetIndex, visible) { const meta = this.getDatasetMeta(datasetIndex); meta.hidden = !visible; } toggleDataVisibility(index) { this._hiddenIndices[index] = !this._hiddenIndices[index]; } getDataVisibility(index) { return !this._hiddenIndices[index]; } _updateVisibility(datasetIndex, dataIndex, visible) { const mode = visible ? 'show' : 'hide'; const meta = this.getDatasetMeta(datasetIndex); const anims = meta.controller._resolveAnimations(undefined, mode); if (defined(dataIndex)) { meta.data[dataIndex].hidden = !visible; this.update(); } else { this.setDatasetVisibility(datasetIndex, visible); anims.update(meta, {visible}); this.update((ctx) => ctx.datasetIndex === datasetIndex ? mode : undefined); } } hide(datasetIndex, dataIndex) { this._updateVisibility(datasetIndex, dataIndex, false); } show(datasetIndex, dataIndex) { this._updateVisibility(datasetIndex, dataIndex, true); } _destroyDatasetMeta(datasetIndex) { const meta = this._metasets[datasetIndex]; if (meta && meta.controller) { meta.controller._destroy(); } delete this._metasets[datasetIndex]; } _stop() { let i, ilen; this.stop(); animator.remove(this); for (i = 0, ilen = this.data.datasets.length; i < ilen; ++i) { this._destroyDatasetMeta(i); } } destroy() { this.notifyPlugins('beforeDestroy'); const {canvas, ctx} = this; this._stop(); this.config.clearCache(); if (canvas) { this.unbindEvents(); clearCanvas(canvas, ctx); this.platform.releaseContext(ctx); this.canvas = null; this.ctx = null; } this.notifyPlugins('destroy'); delete instances[this.id]; this.notifyPlugins('afterDestroy'); } toBase64Image(...args) { return this.canvas.toDataURL(...args); } bindEvents() { this.bindUserEvents(); if (this.options.responsive) { this.bindResponsiveEvents(); } else { this.attached = true; } } bindUserEvents() { const listeners = this._listeners; const platform = this.platform; const _add = (type, listener) => { platform.addEventListener(this, type, listener); listeners[type] = listener; }; const listener = (e, x, y) => { e.offsetX = x; e.offsetY = y; this._eventHandler(e); }; each(this.options.events, (type) => _add(type, listener)); } bindResponsiveEvents() { if (!this._responsiveListeners) { this._responsiveListeners = {}; } const listeners = this._responsiveListeners; const platform = this.platform; const _add = (type, listener) => { platform.addEventListener(this, type, listener); listeners[type] = listener; }; const _remove = (type, listener) => { if (listeners[type]) { platform.removeEventListener(this, type, listener); delete listeners[type]; } }; const listener = (width, height) => { if (this.canvas) { this.resize(width, height); } }; let detached; const attached = () => { _remove('attach', attached); this.attached = true; this.resize(); _add('resize', listener); _add('detach', detached); }; detached = () => { this.attached = false; _remove('resize', listener); this._stop(); this._resize(0, 0); _add('attach', attached); }; if (platform.isAttached(this.canvas)) { attached(); } else { detached(); } } unbindEvents() { each(this._listeners, (listener, type) => { this.platform.removeEventListener(this, type, listener); }); this._listeners = {}; each(this._responsiveListeners, (listener, type) => { this.platform.removeEventListener(this, type, listener); }); this._responsiveListeners = undefined; } updateHoverStyle(items, mode, enabled) { const prefix = enabled ? 'set' : 'remove'; let meta, item, i, ilen; if (mode === 'dataset') { meta = this.getDatasetMeta(items[0].datasetIndex); meta.controller['_' + prefix + 'DatasetHoverStyle'](); } for (i = 0, ilen = items.length; i < ilen; ++i) { item = items[i]; const controller = item && this.getDatasetMeta(item.datasetIndex).controller; if (controller) { controller[prefix + 'HoverStyle'](item.element, item.datasetIndex, item.index); } } } getActiveElements() { return this._active || []; } setActiveElements(activeElements) { const lastActive = this._active || []; const active = activeElements.map(({datasetIndex, index}) => { const meta = this.getDatasetMeta(datasetIndex); if (!meta) { throw new Error('No dataset found at index ' + datasetIndex); } return { datasetIndex, element: meta.data[index], index, }; }); const changed = !_elementsEqual(active, lastActive); if (changed) { this._active = active; this._lastEvent = null; this._updateHoverStyles(active, lastActive); } } notifyPlugins(hook, args, filter) { return this._plugins.notify(this, hook, args, filter); } _updateHoverStyles(active, lastActive, replay) { const hoverOptions = this.options.hover; const diff = (a, b) => a.filter(x => !b.some(y => x.datasetIndex === y.datasetIndex && x.index === y.index)); const deactivated = diff(lastActive, active); const activated = replay ? active : diff(active, lastActive); if (deactivated.length) { this.updateHoverStyle(deactivated, hoverOptions.mode, false); } if (activated.length && hoverOptions.mode) { this.updateHoverStyle(activated, hoverOptions.mode, true); } } _eventHandler(e, replay) { const args = { event: e, replay, cancelable: true, inChartArea: this.isPointInArea(e) }; const eventFilter = (plugin) => (plugin.options.events || this.options.events).includes(e.native.type); if (this.notifyPlugins('beforeEvent', args, eventFilter) === false) { return; } const changed = this._handleEvent(e, replay, args.inChartArea); args.cancelable = false; this.notifyPlugins('afterEvent', args, eventFilter); if (changed || args.changed) { this.render(); } return this; } _handleEvent(e, replay, inChartArea) { const {_active: lastActive = [], options} = this; const useFinalPosition = replay; const active = this._getActiveElements(e, lastActive, inChartArea, useFinalPosition); const isClick = _isClickEvent(e); const lastEvent = determineLastEvent(e, this._lastEvent, inChartArea, isClick); if (inChartArea) { this._lastEvent = null; callback(options.onHover, [e, active, this], this); if (isClick) { callback(options.onClick, [e, active, this], this); } } const changed = !_elementsEqual(active, lastActive); if (changed || replay) { this._active = active; this._updateHoverStyles(active, lastActive, replay); } this._lastEvent = lastEvent; return changed; } _getActiveElements(e, lastActive, inChartArea, useFinalPosition) { if (e.type === 'mouseout') { return []; } if (!inChartArea) { return lastActive; } const hoverOptions = this.options.hover; return this.getElementsAtEventForMode(e, hoverOptions.mode, hoverOptions, useFinalPosition); } } const invalidatePlugins = () => each(Chart.instances, (chart) => chart._plugins.invalidate()); const enumerable = true; Object.defineProperties(Chart, { defaults: { enumerable, value: defaults }, instances: { enumerable, value: instances }, overrides: { enumerable, value: overrides }, registry: { enumerable, value: registry }, version: { enumerable, value: version }, getChart: { enumerable, value: getChart }, register: { enumerable, value: (...items) => { registry.add(...items); invalidatePlugins(); } }, unregister: { enumerable, value: (...items) => { registry.remove(...items); invalidatePlugins(); } } }); function clipArc(ctx, element, endAngle) { const {startAngle, pixelMargin, x, y, outerRadius, innerRadius} = element; let angleMargin = pixelMargin / outerRadius; ctx.beginPath(); ctx.arc(x, y, outerRadius, startAngle - angleMargin, endAngle + angleMargin); if (innerRadius > pixelMargin) { angleMargin = pixelMargin / innerRadius; ctx.arc(x, y, innerRadius, endAngle + angleMargin, startAngle - angleMargin, true); } else { ctx.arc(x, y, pixelMargin, endAngle + HALF_PI, startAngle - HALF_PI); } ctx.closePath(); ctx.clip(); } function toRadiusCorners(value) { return _readValueToProps(value, ['outerStart', 'outerEnd', 'innerStart', 'innerEnd']); } function parseBorderRadius$1(arc, innerRadius, outerRadius, angleDelta) { const o = toRadiusCorners(arc.options.borderRadius); const halfThickness = (outerRadius - innerRadius) / 2; const innerLimit = Math.min(halfThickness, angleDelta * innerRadius / 2); const computeOuterLimit = (val) => { const outerArcLimit = (outerRadius - Math.min(halfThickness, val)) * angleDelta / 2; return _limitValue(val, 0, Math.min(halfThickness, outerArcLimit)); }; return { outerStart: computeOuterLimit(o.outerStart), outerEnd: computeOuterLimit(o.outerEnd), innerStart: _limitValue(o.innerStart, 0, innerLimit), innerEnd: _limitValue(o.innerEnd, 0, innerLimit), }; } function rThetaToXY(r, theta, x, y) { return { x: x + r * Math.cos(theta), y: y + r * Math.sin(theta), }; } function pathArc(ctx, element, offset, spacing, end, circular) { const {x, y, startAngle: start, pixelMargin, innerRadius: innerR} = element; const outerRadius = Math.max(element.outerRadius + spacing + offset - pixelMargin, 0); const innerRadius = innerR > 0 ? innerR + spacing + offset + pixelMargin : 0; let spacingOffset = 0; const alpha = end - start; if (spacing) { const noSpacingInnerRadius = innerR > 0 ? innerR - spacing : 0; const noSpacingOuterRadius = outerRadius > 0 ? outerRadius - spacing : 0; const avNogSpacingRadius = (noSpacingInnerRadius + noSpacingOuterRadius) / 2; const adjustedAngle = avNogSpacingRadius !== 0 ? (alpha * avNogSpacingRadius) / (avNogSpacingRadius + spacing) : alpha; spacingOffset = (alpha - adjustedAngle) / 2; } const beta = Math.max(0.001, alpha * outerRadius - offset / PI) / outerRadius; const angleOffset = (alpha - beta) / 2; const startAngle = start + angleOffset + spacingOffset; const endAngle = end - angleOffset - spacingOffset; const {outerStart, outerEnd, innerStart, innerEnd} = parseBorderRadius$1(element, innerRadius, outerRadius, endAngle - startAngle); const outerStartAdjustedRadius = outerRadius - outerStart; const outerEndAdjustedRadius = outerRadius - outerEnd; const outerStartAdjustedAngle = startAngle + outerStart / outerStartAdjustedRadius; const outerEndAdjustedAngle = endAngle - outerEnd / outerEndAdjustedRadius; const innerStartAdjustedRadius = innerRadius + innerStart; const innerEndAdjustedRadius = innerRadius + innerEnd; const innerStartAdjustedAngle = startAngle + innerStart / innerStartAdjustedRadius; const innerEndAdjustedAngle = endAngle - innerEnd / innerEndAdjustedRadius; ctx.beginPath(); if (circular) { ctx.arc(x, y, outerRadius, outerStartAdjustedAngle, outerEndAdjustedAngle); if (outerEnd > 0) { const pCenter = rThetaToXY(outerEndAdjustedRadius, outerEndAdjustedAngle, x, y); ctx.arc(pCenter.x, pCenter.y, outerEnd, outerEndAdjustedAngle, endAngle + HALF_PI); } const p4 = rThetaToXY(innerEndAdjustedRadius, endAngle, x, y); ctx.lineTo(p4.x, p4.y); if (innerEnd > 0) { const pCenter = rThetaToXY(innerEndAdjustedRadius, innerEndAdjustedAngle, x, y); ctx.arc(pCenter.x, pCenter.y, innerEnd, endAngle + HALF_PI, innerEndAdjustedAngle + Math.PI); } ctx.arc(x, y, innerRadius, endAngle - (innerEnd / innerRadius), startAngle + (innerStart / innerRadius), true); if (innerStart > 0) { const pCenter = rThetaToXY(innerStartAdjustedRadius, innerStartAdjustedAngle, x, y); ctx.arc(pCenter.x, pCenter.y, innerStart, innerStartAdjustedAngle + Math.PI, startAngle - HALF_PI); } const p8 = rThetaToXY(outerStartAdjustedRadius, startAngle, x, y); ctx.lineTo(p8.x, p8.y); if (outerStart > 0) { const pCenter = rThetaToXY(outerStartAdjustedRadius, outerStartAdjustedAngle, x, y); ctx.arc(pCenter.x, pCenter.y, outerStart, startAngle - HALF_PI, outerStartAdjustedAngle); } } else { ctx.moveTo(x, y); const outerStartX = Math.cos(outerStartAdjustedAngle) * outerRadius + x; const outerStartY = Math.sin(outerStartAdjustedAngle) * outerRadius + y; ctx.lineTo(outerStartX, outerStartY); const outerEndX = Math.cos(outerEndAdjustedAngle) * outerRadius + x; const outerEndY = Math.sin(outerEndAdjustedAngle) * outerRadius + y; ctx.lineTo(outerEndX, outerEndY); } ctx.closePath(); } function drawArc(ctx, element, offset, spacing, circular) { const {fullCircles, startAngle, circumference} = element; let endAngle = element.endAngle; if (fullCircles) { pathArc(ctx, element, offset, spacing, startAngle + TAU, circular); for (let i = 0; i < fullCircles; ++i) { ctx.fill(); } if (!isNaN(circumference)) { endAngle = startAngle + circumference % TAU; if (circumference % TAU === 0) { endAngle += TAU; } } } pathArc(ctx, element, offset, spacing, endAngle, circular); ctx.fill(); return endAngle; } function drawFullCircleBorders(ctx, element, inner) { const {x, y, startAngle, pixelMargin, fullCircles} = element; const outerRadius = Math.max(element.outerRadius - pixelMargin, 0); const innerRadius = element.innerRadius + pixelMargin; let i; if (inner) { clipArc(ctx, element, startAngle + TAU); } ctx.beginPath(); ctx.arc(x, y, innerRadius, startAngle + TAU, startAngle, true); for (i = 0; i < fullCircles; ++i) { ctx.stroke(); } ctx.beginPath(); ctx.arc(x, y, outerRadius, startAngle, startAngle + TAU); for (i = 0; i < fullCircles; ++i) { ctx.stroke(); } } function drawBorder(ctx, element, offset, spacing, endAngle, circular) { const {options} = element; const {borderWidth, borderJoinStyle} = options; const inner = options.borderAlign === 'inner'; if (!borderWidth) { return; } if (inner) { ctx.lineWidth = borderWidth * 2; ctx.lineJoin = borderJoinStyle || 'round'; } else { ctx.lineWidth = borderWidth; ctx.lineJoin = borderJoinStyle || 'bevel'; } if (element.fullCircles) { drawFullCircleBorders(ctx, element, inner); } if (inner) { clipArc(ctx, element, endAngle); } pathArc(ctx, element, offset, spacing, endAngle, circular); ctx.stroke(); } class ArcElement extends Element { constructor(cfg) { super(); this.options = undefined; this.circumference = undefined; this.startAngle = undefined; this.endAngle = undefined; this.innerRadius = undefined; this.outerRadius = undefined; this.pixelMargin = 0; this.fullCircles = 0; if (cfg) { Object.assign(this, cfg); } } inRange(chartX, chartY, useFinalPosition) { const point = this.getProps(['x', 'y'], useFinalPosition); const {angle, distance} = getAngleFromPoint(point, {x: chartX, y: chartY}); const {startAngle, endAngle, innerRadius, outerRadius, circumference} = this.getProps([ 'startAngle', 'endAngle', 'innerRadius', 'outerRadius', 'circumference' ], useFinalPosition); const rAdjust = this.options.spacing / 2; const _circumference = valueOrDefault(circumference, endAngle - startAngle); const betweenAngles = _circumference >= TAU || _angleBetween(angle, startAngle, endAngle); const withinRadius = _isBetween(distance, innerRadius + rAdjust, outerRadius + rAdjust); return (betweenAngles && withinRadius); } getCenterPoint(useFinalPosition) { const {x, y, startAngle, endAngle, innerRadius, outerRadius} = this.getProps([ 'x', 'y', 'startAngle', 'endAngle', 'innerRadius', 'outerRadius', 'circumference', ], useFinalPosition); const {offset, spacing} = this.options; const halfAngle = (startAngle + endAngle) / 2; const halfRadius = (innerRadius + outerRadius + spacing + offset) / 2; return { x: x + Math.cos(halfAngle) * halfRadius, y: y + Math.sin(halfAngle) * halfRadius }; } tooltipPosition(useFinalPosition) { return this.getCenterPoint(useFinalPosition); } draw(ctx) { const {options, circumference} = this; const offset = (options.offset || 0) / 2; const spacing = (options.spacing || 0) / 2; const circular = options.circular; this.pixelMargin = (options.borderAlign === 'inner') ? 0.33 : 0; this.fullCircles = circumference > TAU ? Math.floor(circumference / TAU) : 0; if (circumference === 0 || this.innerRadius < 0 || this.outerRadius < 0) { return; } ctx.save(); let radiusOffset = 0; if (offset) { radiusOffset = offset / 2; const halfAngle = (this.startAngle + this.endAngle) / 2; ctx.translate(Math.cos(halfAngle) * radiusOffset, Math.sin(halfAngle) * radiusOffset); if (this.circumference >= PI) { radiusOffset = offset; } } ctx.fillStyle = options.backgroundColor; ctx.strokeStyle = options.borderColor; const endAngle = drawArc(ctx, this, radiusOffset, spacing, circular); drawBorder(ctx, this, radiusOffset, spacing, endAngle, circular); ctx.restore(); } } ArcElement.id = 'arc'; ArcElement.defaults = { borderAlign: 'center', borderColor: '#fff', borderJoinStyle: undefined, borderRadius: 0, borderWidth: 2, offset: 0, spacing: 0, angle: undefined, circular: true, }; ArcElement.defaultRoutes = { backgroundColor: 'backgroundColor' }; function setStyle(ctx, options, style = options) { ctx.lineCap = valueOrDefault(style.borderCapStyle, options.borderCapStyle); ctx.setLineDash(valueOrDefault(style.borderDash, options.borderDash)); ctx.lineDashOffset = valueOrDefault(style.borderDashOffset, options.borderDashOffset); ctx.lineJoin = valueOrDefault(style.borderJoinStyle, options.borderJoinStyle); ctx.lineWidth = valueOrDefault(style.borderWidth, options.borderWidth); ctx.strokeStyle = valueOrDefault(style.borderColor, options.borderColor); } function lineTo(ctx, previous, target) { ctx.lineTo(target.x, target.y); } function getLineMethod(options) { if (options.stepped) { return _steppedLineTo; } if (options.tension || options.cubicInterpolationMode === 'monotone') { return _bezierCurveTo; } return lineTo; } function pathVars(points, segment, params = {}) { const count = points.length; const {start: paramsStart = 0, end: paramsEnd = count - 1} = params; const {start: segmentStart, end: segmentEnd} = segment; const start = Math.max(paramsStart, segmentStart); const end = Math.min(paramsEnd, segmentEnd); const outside = paramsStart < segmentStart && paramsEnd < segmentStart || paramsStart > segmentEnd && paramsEnd > segmentEnd; return { count, start, loop: segment.loop, ilen: end < start && !outside ? count + end - start : end - start }; } function pathSegment(ctx, line, segment, params) { const {points, options} = line; const {count, start, loop, ilen} = pathVars(points, segment, params); const lineMethod = getLineMethod(options); let {move = true, reverse} = params || {}; let i, point, prev; for (i = 0; i <= ilen; ++i) { point = points[(start + (reverse ? ilen - i : i)) % count]; if (point.skip) { continue; } else if (move) { ctx.moveTo(point.x, point.y); move = false; } else { lineMethod(ctx, prev, point, reverse, options.stepped); } prev = point; } if (loop) { point = points[(start + (reverse ? ilen : 0)) % count]; lineMethod(ctx, prev, point, reverse, options.stepped); } return !!loop; } function fastPathSegment(ctx, line, segment, params) { const points = line.points; const {count, start, ilen} = pathVars(points, segment, params); const {move = true, reverse} = params || {}; let avgX = 0; let countX = 0; let i, point, prevX, minY, maxY, lastY; const pointIndex = (index) => (start + (reverse ? ilen - index : index)) % count; const drawX = () => { if (minY !== maxY) { ctx.lineTo(avgX, maxY); ctx.lineTo(avgX, minY); ctx.lineTo(avgX, lastY); } }; if (move) { point = points[pointIndex(0)]; ctx.moveTo(point.x, point.y); } for (i = 0; i <= ilen; ++i) { point = points[pointIndex(i)]; if (point.skip) { continue; } const x = point.x; const y = point.y; const truncX = x | 0; if (truncX === prevX) { if (y < minY) { minY = y; } else if (y > maxY) { maxY = y; } avgX = (countX * avgX + x) / ++countX; } else { drawX(); ctx.lineTo(x, y); prevX = truncX; countX = 0; minY = maxY = y; } lastY = y; } drawX(); } function _getSegmentMethod(line) { const opts = line.options; const borderDash = opts.borderDash && opts.borderDash.length; const useFastPath = !line._decimated && !line._loop && !opts.tension && opts.cubicInterpolationMode !== 'monotone' && !opts.stepped && !borderDash; return useFastPath ? fastPathSegment : pathSegment; } function _getInterpolationMethod(options) { if (options.stepped) { return _steppedInterpolation; } if (options.tension || options.cubicInterpolationMode === 'monotone') { return _bezierInterpolation; } return _pointInLine; } function strokePathWithCache(ctx, line, start, count) { let path = line._path; if (!path) { path = line._path = new Path2D(); if (line.path(path, start, count)) { path.closePath(); } } setStyle(ctx, line.options); ctx.stroke(path); } function strokePathDirect(ctx, line, start, count) { const {segments, options} = line; const segmentMethod = _getSegmentMethod(line); for (const segment of segments) { setStyle(ctx, options, segment.style); ctx.beginPath(); if (segmentMethod(ctx, line, segment, {start, end: start + count - 1})) { ctx.closePath(); } ctx.stroke(); } } const usePath2D = typeof Path2D === 'function'; function draw(ctx, line, start, count) { if (usePath2D && !line.options.segment) { strokePathWithCache(ctx, line, start, count); } else { strokePathDirect(ctx, line, start, count); } } class LineElement extends Element { constructor(cfg) { super(); this.animated = true; this.options = undefined; this._chart = undefined; this._loop = undefined; this._fullLoop = undefined; this._path = undefined; this._points = undefined; this._segments = undefined; this._decimated = false; this._pointsUpdated = false; this._datasetIndex = undefined; if (cfg) { Object.assign(this, cfg); } } updateControlPoints(chartArea, indexAxis) { const options = this.options; if ((options.tension || options.cubicInterpolationMode === 'monotone') && !options.stepped && !this._pointsUpdated) { const loop = options.spanGaps ? this._loop : this._fullLoop; _updateBezierControlPoints(this._points, options, chartArea, loop, indexAxis); this._pointsUpdated = true; } } set points(points) { this._points = points; delete this._segments; delete this._path; this._pointsUpdated = false; } get points() { return this._points; } get segments() { return this._segments || (this._segments = _computeSegments(this, this.options.segment)); } first() { const segments = this.segments; const points = this.points; return segments.length && points[segments[0].start]; } last() { const segments = this.segments; const points = this.points; const count = segments.length; return count && points[segments[count - 1].end]; } interpolate(point, property) { const options = this.options; const value = point[property]; const points = this.points; const segments = _boundSegments(this, {property, start: value, end: value}); if (!segments.length) { return; } const result = []; const _interpolate = _getInterpolationMethod(options); let i, ilen; for (i = 0, ilen = segments.length; i < ilen; ++i) { const {start, end} = segments[i]; const p1 = points[start]; const p2 = points[end]; if (p1 === p2) { result.push(p1); continue; } const t = Math.abs((value - p1[property]) / (p2[property] - p1[property])); const interpolated = _interpolate(p1, p2, t, options.stepped); interpolated[property] = point[property]; result.push(interpolated); } return result.length === 1 ? result[0] : result; } pathSegment(ctx, segment, params) { const segmentMethod = _getSegmentMethod(this); return segmentMethod(ctx, this, segment, params); } path(ctx, start, count) { const segments = this.segments; const segmentMethod = _getSegmentMethod(this); let loop = this._loop; start = start || 0; count = count || (this.points.length - start); for (const segment of segments) { loop &= segmentMethod(ctx, this, segment, {start, end: start + count - 1}); } return !!loop; } draw(ctx, chartArea, start, count) { const options = this.options || {}; const points = this.points || []; if (points.length && options.borderWidth) { ctx.save(); draw(ctx, this, start, count); ctx.restore(); } if (this.animated) { this._pointsUpdated = false; this._path = undefined; } } } LineElement.id = 'line'; LineElement.defaults = { borderCapStyle: 'butt', borderDash: [], borderDashOffset: 0, borderJoinStyle: 'miter', borderWidth: 3, capBezierPoints: true, cubicInterpolationMode: 'default', fill: false, spanGaps: false, stepped: false, tension: 0, }; LineElement.defaultRoutes = { backgroundColor: 'backgroundColor', borderColor: 'borderColor' }; LineElement.descriptors = { _scriptable: true, _indexable: (name) => name !== 'borderDash' && name !== 'fill', }; function inRange$1(el, pos, axis, useFinalPosition) { const options = el.options; const {[axis]: value} = el.getProps([axis], useFinalPosition); return (Math.abs(pos - value) < options.radius + options.hitRadius); } class PointElement extends Element { constructor(cfg) { super(); this.options = undefined; this.parsed = undefined; this.skip = undefined; this.stop = undefined; if (cfg) { Object.assign(this, cfg); } } inRange(mouseX, mouseY, useFinalPosition) { const options = this.options; const {x, y} = this.getProps(['x', 'y'], useFinalPosition); return ((Math.pow(mouseX - x, 2) + Math.pow(mouseY - y, 2)) < Math.pow(options.hitRadius + options.radius, 2)); } inXRange(mouseX, useFinalPosition) { return inRange$1(this, mouseX, 'x', useFinalPosition); } inYRange(mouseY, useFinalPosition) { return inRange$1(this, mouseY, 'y', useFinalPosition); } getCenterPoint(useFinalPosition) { const {x, y} = this.getProps(['x', 'y'], useFinalPosition); return {x, y}; } size(options) { options = options || this.options || {}; let radius = options.radius || 0; radius = Math.max(radius, radius && options.hoverRadius || 0); const borderWidth = radius && options.borderWidth || 0; return (radius + borderWidth) * 2; } draw(ctx, area) { const options = this.options; if (this.skip || options.radius < 0.1 || !_isPointInArea(this, area, this.size(options) / 2)) { return; } ctx.strokeStyle = options.borderColor; ctx.lineWidth = options.borderWidth; ctx.fillStyle = options.backgroundColor; drawPoint(ctx, options, this.x, this.y); } getRange() { const options = this.options || {}; return options.radius + options.hitRadius; } } PointElement.id = 'point'; PointElement.defaults = { borderWidth: 1, hitRadius: 1, hoverBorderWidth: 1, hoverRadius: 4, pointStyle: 'circle', radius: 3, rotation: 0 }; PointElement.defaultRoutes = { backgroundColor: 'backgroundColor', borderColor: 'borderColor' }; function getBarBounds(bar, useFinalPosition) { const {x, y, base, width, height} = bar.getProps(['x', 'y', 'base', 'width', 'height'], useFinalPosition); let left, right, top, bottom, half; if (bar.horizontal) { half = height / 2; left = Math.min(x, base); right = Math.max(x, base); top = y - half; bottom = y + half; } else { half = width / 2; left = x - half; right = x + half; top = Math.min(y, base); bottom = Math.max(y, base); } return {left, top, right, bottom}; } function skipOrLimit(skip, value, min, max) { return skip ? 0 : _limitValue(value, min, max); } function parseBorderWidth(bar, maxW, maxH) { const value = bar.options.borderWidth; const skip = bar.borderSkipped; const o = toTRBL(value); return { t: skipOrLimit(skip.top, o.top, 0, maxH), r: skipOrLimit(skip.right, o.right, 0, maxW), b: skipOrLimit(skip.bottom, o.bottom, 0, maxH), l: skipOrLimit(skip.left, o.left, 0, maxW) }; } function parseBorderRadius(bar, maxW, maxH) { const {enableBorderRadius} = bar.getProps(['enableBorderRadius']); const value = bar.options.borderRadius; const o = toTRBLCorners(value); const maxR = Math.min(maxW, maxH); const skip = bar.borderSkipped; const enableBorder = enableBorderRadius || isObject(value); return { topLeft: skipOrLimit(!enableBorder || skip.top || skip.left, o.topLeft, 0, maxR), topRight: skipOrLimit(!enableBorder || skip.top || skip.right, o.topRight, 0, maxR), bottomLeft: skipOrLimit(!enableBorder || skip.bottom || skip.left, o.bottomLeft, 0, maxR), bottomRight: skipOrLimit(!enableBorder || skip.bottom || skip.right, o.bottomRight, 0, maxR) }; } function boundingRects(bar) { const bounds = getBarBounds(bar); const width = bounds.right - bounds.left; const height = bounds.bottom - bounds.top; const border = parseBorderWidth(bar, width / 2, height / 2); const radius = parseBorderRadius(bar, width / 2, height / 2); return { outer: { x: bounds.left, y: bounds.top, w: width, h: height, radius }, inner: { x: bounds.left + border.l, y: bounds.top + border.t, w: width - border.l - border.r, h: height - border.t - border.b, radius: { topLeft: Math.max(0, radius.topLeft - Math.max(border.t, border.l)), topRight: Math.max(0, radius.topRight - Math.max(border.t, border.r)), bottomLeft: Math.max(0, radius.bottomLeft - Math.max(border.b, border.l)), bottomRight: Math.max(0, radius.bottomRight - Math.max(border.b, border.r)), } } }; } function inRange(bar, x, y, useFinalPosition) { const skipX = x === null; const skipY = y === null; const skipBoth = skipX && skipY; const bounds = bar && !skipBoth && getBarBounds(bar, useFinalPosition); return bounds && (skipX || _isBetween(x, bounds.left, bounds.right)) && (skipY || _isBetween(y, bounds.top, bounds.bottom)); } function hasRadius(radius) { return radius.topLeft || radius.topRight || radius.bottomLeft || radius.bottomRight; } function addNormalRectPath(ctx, rect) { ctx.rect(rect.x, rect.y, rect.w, rect.h); } function inflateRect(rect, amount, refRect = {}) { const x = rect.x !== refRect.x ? -amount : 0; const y = rect.y !== refRect.y ? -amount : 0; const w = (rect.x + rect.w !== refRect.x + refRect.w ? amount : 0) - x; const h = (rect.y + rect.h !== refRect.y + refRect.h ? amount : 0) - y; return { x: rect.x + x, y: rect.y + y, w: rect.w + w, h: rect.h + h, radius: rect.radius }; } class BarElement extends Element { constructor(cfg) { super(); this.options = undefined; this.horizontal = undefined; this.base = undefined; this.width = undefined; this.height = undefined; this.inflateAmount = undefined; if (cfg) { Object.assign(this, cfg); } } draw(ctx) { const {inflateAmount, options: {borderColor, backgroundColor}} = this; const {inner, outer} = boundingRects(this); const addRectPath = hasRadius(outer.radius) ? addRoundedRectPath : addNormalRectPath; ctx.save(); if (outer.w !== inner.w || outer.h !== inner.h) { ctx.beginPath(); addRectPath(ctx, inflateRect(outer, inflateAmount, inner)); ctx.clip(); addRectPath(ctx, inflateRect(inner, -inflateAmount, outer)); ctx.fillStyle = borderColor; ctx.fill('evenodd'); } ctx.beginPath(); addRectPath(ctx, inflateRect(inner, inflateAmount)); ctx.fillStyle = backgroundColor; ctx.fill(); ctx.restore(); } inRange(mouseX, mouseY, useFinalPosition) { return inRange(this, mouseX, mouseY, useFinalPosition); } inXRange(mouseX, useFinalPosition) { return inRange(this, mouseX, null, useFinalPosition); } inYRange(mouseY, useFinalPosition) { return inRange(this, null, mouseY, useFinalPosition); } getCenterPoint(useFinalPosition) { const {x, y, base, horizontal} = this.getProps(['x', 'y', 'base', 'horizontal'], useFinalPosition); return { x: horizontal ? (x + base) / 2 : x, y: horizontal ? y : (y + base) / 2 }; } getRange(axis) { return axis === 'x' ? this.width / 2 : this.height / 2; } } BarElement.id = 'bar'; BarElement.defaults = { borderSkipped: 'start', borderWidth: 0, borderRadius: 0, inflateAmount: 'auto', pointStyle: undefined }; BarElement.defaultRoutes = { backgroundColor: 'backgroundColor', borderColor: 'borderColor' }; var elements = /*#__PURE__*/Object.freeze({ __proto__: null, ArcElement: ArcElement, LineElement: LineElement, PointElement: PointElement, BarElement: BarElement }); function lttbDecimation(data, start, count, availableWidth, options) { const samples = options.samples || availableWidth; if (samples >= count) { return data.slice(start, start + count); } const decimated = []; const bucketWidth = (count - 2) / (samples - 2); let sampledIndex = 0; const endIndex = start + count - 1; let a = start; let i, maxAreaPoint, maxArea, area, nextA; decimated[sampledIndex++] = data[a]; for (i = 0; i < samples - 2; i++) { let avgX = 0; let avgY = 0; let j; const avgRangeStart = Math.floor((i + 1) * bucketWidth) + 1 + start; const avgRangeEnd = Math.min(Math.floor((i + 2) * bucketWidth) + 1, count) + start; const avgRangeLength = avgRangeEnd - avgRangeStart; for (j = avgRangeStart; j < avgRangeEnd; j++) { avgX += data[j].x; avgY += data[j].y; } avgX /= avgRangeLength; avgY /= avgRangeLength; const rangeOffs = Math.floor(i * bucketWidth) + 1 + start; const rangeTo = Math.min(Math.floor((i + 1) * bucketWidth) + 1, count) + start; const {x: pointAx, y: pointAy} = data[a]; maxArea = area = -1; for (j = rangeOffs; j < rangeTo; j++) { area = 0.5 * Math.abs( (pointAx - avgX) * (data[j].y - pointAy) - (pointAx - data[j].x) * (avgY - pointAy) ); if (area > maxArea) { maxArea = area; maxAreaPoint = data[j]; nextA = j; } } decimated[sampledIndex++] = maxAreaPoint; a = nextA; } decimated[sampledIndex++] = data[endIndex]; return decimated; } function minMaxDecimation(data, start, count, availableWidth) { let avgX = 0; let countX = 0; let i, point, x, y, prevX, minIndex, maxIndex, startIndex, minY, maxY; const decimated = []; const endIndex = start + count - 1; const xMin = data[start].x; const xMax = data[endIndex].x; const dx = xMax - xMin; for (i = start; i < start + count; ++i) { point = data[i]; x = (point.x - xMin) / dx * availableWidth; y = point.y; const truncX = x | 0; if (truncX === prevX) { if (y < minY) { minY = y; minIndex = i; } else if (y > maxY) { maxY = y; maxIndex = i; } avgX = (countX * avgX + point.x) / ++countX; } else { const lastIndex = i - 1; if (!isNullOrUndef(minIndex) && !isNullOrUndef(maxIndex)) { const intermediateIndex1 = Math.min(minIndex, maxIndex); const intermediateIndex2 = Math.max(minIndex, maxIndex); if (intermediateIndex1 !== startIndex && intermediateIndex1 !== lastIndex) { decimated.push({ ...data[intermediateIndex1], x: avgX, }); } if (intermediateIndex2 !== startIndex && intermediateIndex2 !== lastIndex) { decimated.push({ ...data[intermediateIndex2], x: avgX }); } } if (i > 0 && lastIndex !== startIndex) { decimated.push(data[lastIndex]); } decimated.push(point); prevX = truncX; countX = 0; minY = maxY = y; minIndex = maxIndex = startIndex = i; } } return decimated; } function cleanDecimatedDataset(dataset) { if (dataset._decimated) { const data = dataset._data; delete dataset._decimated; delete dataset._data; Object.defineProperty(dataset, 'data', {value: data}); } } function cleanDecimatedData(chart) { chart.data.datasets.forEach((dataset) => { cleanDecimatedDataset(dataset); }); } function getStartAndCountOfVisiblePointsSimplified(meta, points) { const pointCount = points.length; let start = 0; let count; const {iScale} = meta; const {min, max, minDefined, maxDefined} = iScale.getUserBounds(); if (minDefined) { start = _limitValue(_lookupByKey(points, iScale.axis, min).lo, 0, pointCount - 1); } if (maxDefined) { count = _limitValue(_lookupByKey(points, iScale.axis, max).hi + 1, start, pointCount) - start; } else { count = pointCount - start; } return {start, count}; } var plugin_decimation = { id: 'decimation', defaults: { algorithm: 'min-max', enabled: false, }, beforeElementsUpdate: (chart, args, options) => { if (!options.enabled) { cleanDecimatedData(chart); return; } const availableWidth = chart.width; chart.data.datasets.forEach((dataset, datasetIndex) => { const {_data, indexAxis} = dataset; const meta = chart.getDatasetMeta(datasetIndex); const data = _data || dataset.data; if (resolve([indexAxis, chart.options.indexAxis]) === 'y') { return; } if (!meta.controller.supportsDecimation) { return; } const xAxis = chart.scales[meta.xAxisID]; if (xAxis.type !== 'linear' && xAxis.type !== 'time') { return; } if (chart.options.parsing) { return; } let {start, count} = getStartAndCountOfVisiblePointsSimplified(meta, data); const threshold = options.threshold || 4 * availableWidth; if (count <= threshold) { cleanDecimatedDataset(dataset); return; } if (isNullOrUndef(_data)) { dataset._data = data; delete dataset.data; Object.defineProperty(dataset, 'data', { configurable: true, enumerable: true, get: function() { return this._decimated; }, set: function(d) { this._data = d; } }); } let decimated; switch (options.algorithm) { case 'lttb': decimated = lttbDecimation(data, start, count, availableWidth, options); break; case 'min-max': decimated = minMaxDecimation(data, start, count, availableWidth); break; default: throw new Error(`Unsupported decimation algorithm '${options.algorithm}'`); } dataset._decimated = decimated; }); }, destroy(chart) { cleanDecimatedData(chart); } }; function _segments(line, target, property) { const segments = line.segments; const points = line.points; const tpoints = target.points; const parts = []; for (const segment of segments) { let {start, end} = segment; end = _findSegmentEnd(start, end, points); const bounds = _getBounds(property, points[start], points[end], segment.loop); if (!target.segments) { parts.push({ source: segment, target: bounds, start: points[start], end: points[end] }); continue; } const targetSegments = _boundSegments(target, bounds); for (const tgt of targetSegments) { const subBounds = _getBounds(property, tpoints[tgt.start], tpoints[tgt.end], tgt.loop); const fillSources = _boundSegment(segment, points, subBounds); for (const fillSource of fillSources) { parts.push({ source: fillSource, target: tgt, start: { [property]: _getEdge(bounds, subBounds, 'start', Math.max) }, end: { [property]: _getEdge(bounds, subBounds, 'end', Math.min) } }); } } } return parts; } function _getBounds(property, first, last, loop) { if (loop) { return; } let start = first[property]; let end = last[property]; if (property === 'angle') { start = _normalizeAngle(start); end = _normalizeAngle(end); } return {property, start, end}; } function _pointsFromSegments(boundary, line) { const {x = null, y = null} = boundary || {}; const linePoints = line.points; const points = []; line.segments.forEach(({start, end}) => { end = _findSegmentEnd(start, end, linePoints); const first = linePoints[start]; const last = linePoints[end]; if (y !== null) { points.push({x: first.x, y}); points.push({x: last.x, y}); } else if (x !== null) { points.push({x, y: first.y}); points.push({x, y: last.y}); } }); return points; } function _findSegmentEnd(start, end, points) { for (;end > start; end--) { const point = points[end]; if (!isNaN(point.x) && !isNaN(point.y)) { break; } } return end; } function _getEdge(a, b, prop, fn) { if (a && b) { return fn(a[prop], b[prop]); } return a ? a[prop] : b ? b[prop] : 0; } function _createBoundaryLine(boundary, line) { let points = []; let _loop = false; if (isArray(boundary)) { _loop = true; points = boundary; } else { points = _pointsFromSegments(boundary, line); } return points.length ? new LineElement({ points, options: {tension: 0}, _loop, _fullLoop: _loop }) : null; } function _shouldApplyFill(source) { return source && source.fill !== false; } function _resolveTarget(sources, index, propagate) { const source = sources[index]; let fill = source.fill; const visited = [index]; let target; if (!propagate) { return fill; } while (fill !== false && visited.indexOf(fill) === -1) { if (!isNumberFinite(fill)) { return fill; } target = sources[fill]; if (!target) { return false; } if (target.visible) { return fill; } visited.push(fill); fill = target.fill; } return false; } function _decodeFill(line, index, count) { const fill = parseFillOption(line); if (isObject(fill)) { return isNaN(fill.value) ? false : fill; } let target = parseFloat(fill); if (isNumberFinite(target) && Math.floor(target) === target) { return decodeTargetIndex(fill[0], index, target, count); } return ['origin', 'start', 'end', 'stack', 'shape'].indexOf(fill) >= 0 && fill; } function decodeTargetIndex(firstCh, index, target, count) { if (firstCh === '-' || firstCh === '+') { target = index + target; } if (target === index || target < 0 || target >= count) { return false; } return target; } function _getTargetPixel(fill, scale) { let pixel = null; if (fill === 'start') { pixel = scale.bottom; } else if (fill === 'end') { pixel = scale.top; } else if (isObject(fill)) { pixel = scale.getPixelForValue(fill.value); } else if (scale.getBasePixel) { pixel = scale.getBasePixel(); } return pixel; } function _getTargetValue(fill, scale, startValue) { let value; if (fill === 'start') { value = startValue; } else if (fill === 'end') { value = scale.options.reverse ? scale.min : scale.max; } else if (isObject(fill)) { value = fill.value; } else { value = scale.getBaseValue(); } return value; } function parseFillOption(line) { const options = line.options; const fillOption = options.fill; let fill = valueOrDefault(fillOption && fillOption.target, fillOption); if (fill === undefined) { fill = !!options.backgroundColor; } if (fill === false || fill === null) { return false; } if (fill === true) { return 'origin'; } return fill; } function _buildStackLine(source) { const {scale, index, line} = source; const points = []; const segments = line.segments; const sourcePoints = line.points; const linesBelow = getLinesBelow(scale, index); linesBelow.push(_createBoundaryLine({x: null, y: scale.bottom}, line)); for (let i = 0; i < segments.length; i++) { const segment = segments[i]; for (let j = segment.start; j <= segment.end; j++) { addPointsBelow(points, sourcePoints[j], linesBelow); } } return new LineElement({points, options: {}}); } function getLinesBelow(scale, index) { const below = []; const metas = scale.getMatchingVisibleMetas('line'); for (let i = 0; i < metas.length; i++) { const meta = metas[i]; if (meta.index === index) { break; } if (!meta.hidden) { below.unshift(meta.dataset); } } return below; } function addPointsBelow(points, sourcePoint, linesBelow) { const postponed = []; for (let j = 0; j < linesBelow.length; j++) { const line = linesBelow[j]; const {first, last, point} = findPoint(line, sourcePoint, 'x'); if (!point || (first && last)) { continue; } if (first) { postponed.unshift(point); } else { points.push(point); if (!last) { break; } } } points.push(...postponed); } function findPoint(line, sourcePoint, property) { const point = line.interpolate(sourcePoint, property); if (!point) { return {}; } const pointValue = point[property]; const segments = line.segments; const linePoints = line.points; let first = false; let last = false; for (let i = 0; i < segments.length; i++) { const segment = segments[i]; const firstValue = linePoints[segment.start][property]; const lastValue = linePoints[segment.end][property]; if (_isBetween(pointValue, firstValue, lastValue)) { first = pointValue === firstValue; last = pointValue === lastValue; break; } } return {first, last, point}; } class simpleArc { constructor(opts) { this.x = opts.x; this.y = opts.y; this.radius = opts.radius; } pathSegment(ctx, bounds, opts) { const {x, y, radius} = this; bounds = bounds || {start: 0, end: TAU}; ctx.arc(x, y, radius, bounds.end, bounds.start, true); return !opts.bounds; } interpolate(point) { const {x, y, radius} = this; const angle = point.angle; return { x: x + Math.cos(angle) * radius, y: y + Math.sin(angle) * radius, angle }; } } function _getTarget(source) { const {chart, fill, line} = source; if (isNumberFinite(fill)) { return getLineByIndex(chart, fill); } if (fill === 'stack') { return _buildStackLine(source); } if (fill === 'shape') { return true; } const boundary = computeBoundary(source); if (boundary instanceof simpleArc) { return boundary; } return _createBoundaryLine(boundary, line); } function getLineByIndex(chart, index) { const meta = chart.getDatasetMeta(index); const visible = meta && chart.isDatasetVisible(index); return visible ? meta.dataset : null; } function computeBoundary(source) { const scale = source.scale || {}; if (scale.getPointPositionForValue) { return computeCircularBoundary(source); } return computeLinearBoundary(source); } function computeLinearBoundary(source) { const {scale = {}, fill} = source; const pixel = _getTargetPixel(fill, scale); if (isNumberFinite(pixel)) { const horizontal = scale.isHorizontal(); return { x: horizontal ? pixel : null, y: horizontal ? null : pixel }; } return null; } function computeCircularBoundary(source) { const {scale, fill} = source; const options = scale.options; const length = scale.getLabels().length; const start = options.reverse ? scale.max : scale.min; const value = _getTargetValue(fill, scale, start); const target = []; if (options.grid.circular) { const center = scale.getPointPositionForValue(0, start); return new simpleArc({ x: center.x, y: center.y, radius: scale.getDistanceFromCenterForValue(value) }); } for (let i = 0; i < length; ++i) { target.push(scale.getPointPositionForValue(i, value)); } return target; } function _drawfill(ctx, source, area) { const target = _getTarget(source); const {line, scale, axis} = source; const lineOpts = line.options; const fillOption = lineOpts.fill; const color = lineOpts.backgroundColor; const {above = color, below = color} = fillOption || {}; if (target && line.points.length) { clipArea(ctx, area); doFill(ctx, {line, target, above, below, area, scale, axis}); unclipArea(ctx); } } function doFill(ctx, cfg) { const {line, target, above, below, area, scale} = cfg; const property = line._loop ? 'angle' : cfg.axis; ctx.save(); if (property === 'x' && below !== above) { clipVertical(ctx, target, area.top); fill(ctx, {line, target, color: above, scale, property}); ctx.restore(); ctx.save(); clipVertical(ctx, target, area.bottom); } fill(ctx, {line, target, color: below, scale, property}); ctx.restore(); } function clipVertical(ctx, target, clipY) { const {segments, points} = target; let first = true; let lineLoop = false; ctx.beginPath(); for (const segment of segments) { const {start, end} = segment; const firstPoint = points[start]; const lastPoint = points[_findSegmentEnd(start, end, points)]; if (first) { ctx.moveTo(firstPoint.x, firstPoint.y); first = false; } else { ctx.lineTo(firstPoint.x, clipY); ctx.lineTo(firstPoint.x, firstPoint.y); } lineLoop = !!target.pathSegment(ctx, segment, {move: lineLoop}); if (lineLoop) { ctx.closePath(); } else { ctx.lineTo(lastPoint.x, clipY); } } ctx.lineTo(target.first().x, clipY); ctx.closePath(); ctx.clip(); } function fill(ctx, cfg) { const {line, target, property, color, scale} = cfg; const segments = _segments(line, target, property); for (const {source: src, target: tgt, start, end} of segments) { const {style: {backgroundColor = color} = {}} = src; const notShape = target !== true; ctx.save(); ctx.fillStyle = backgroundColor; clipBounds(ctx, scale, notShape && _getBounds(property, start, end)); ctx.beginPath(); const lineLoop = !!line.pathSegment(ctx, src); let loop; if (notShape) { if (lineLoop) { ctx.closePath(); } else { interpolatedLineTo(ctx, target, end, property); } const targetLoop = !!target.pathSegment(ctx, tgt, {move: lineLoop, reverse: true}); loop = lineLoop && targetLoop; if (!loop) { interpolatedLineTo(ctx, target, start, property); } } ctx.closePath(); ctx.fill(loop ? 'evenodd' : 'nonzero'); ctx.restore(); } } function clipBounds(ctx, scale, bounds) { const {top, bottom} = scale.chart.chartArea; const {property, start, end} = bounds || {}; if (property === 'x') { ctx.beginPath(); ctx.rect(start, top, end - start, bottom - top); ctx.clip(); } } function interpolatedLineTo(ctx, target, point, property) { const interpolatedPoint = target.interpolate(point, property); if (interpolatedPoint) { ctx.lineTo(interpolatedPoint.x, interpolatedPoint.y); } } var index = { id: 'filler', afterDatasetsUpdate(chart, _args, options) { const count = (chart.data.datasets || []).length; const sources = []; let meta, i, line, source; for (i = 0; i < count; ++i) { meta = chart.getDatasetMeta(i); line = meta.dataset; source = null; if (line && line.options && line instanceof LineElement) { source = { visible: chart.isDatasetVisible(i), index: i, fill: _decodeFill(line, i, count), chart, axis: meta.controller.options.indexAxis, scale: meta.vScale, line, }; } meta.$filler = source; sources.push(source); } for (i = 0; i < count; ++i) { source = sources[i]; if (!source || source.fill === false) { continue; } source.fill = _resolveTarget(sources, i, options.propagate); } }, beforeDraw(chart, _args, options) { const draw = options.drawTime === 'beforeDraw'; const metasets = chart.getSortedVisibleDatasetMetas(); const area = chart.chartArea; for (let i = metasets.length - 1; i >= 0; --i) { const source = metasets[i].$filler; if (!source) { continue; } source.line.updateControlPoints(area, source.axis); if (draw && source.fill) { _drawfill(chart.ctx, source, area); } } }, beforeDatasetsDraw(chart, _args, options) { if (options.drawTime !== 'beforeDatasetsDraw') { return; } const metasets = chart.getSortedVisibleDatasetMetas(); for (let i = metasets.length - 1; i >= 0; --i) { const source = metasets[i].$filler; if (_shouldApplyFill(source)) { _drawfill(chart.ctx, source, chart.chartArea); } } }, beforeDatasetDraw(chart, args, options) { const source = args.meta.$filler; if (!_shouldApplyFill(source) || options.drawTime !== 'beforeDatasetDraw') { return; } _drawfill(chart.ctx, source, chart.chartArea); }, defaults: { propagate: true, drawTime: 'beforeDatasetDraw' } }; const getBoxSize = (labelOpts, fontSize) => { let {boxHeight = fontSize, boxWidth = fontSize} = labelOpts; if (labelOpts.usePointStyle) { boxHeight = Math.min(boxHeight, fontSize); boxWidth = labelOpts.pointStyleWidth || Math.min(boxWidth, fontSize); } return { boxWidth, boxHeight, itemHeight: Math.max(fontSize, boxHeight) }; }; const itemsEqual = (a, b) => a !== null && b !== null && a.datasetIndex === b.datasetIndex && a.index === b.index; class Legend extends Element { constructor(config) { super(); this._added = false; this.legendHitBoxes = []; this._hoveredItem = null; this.doughnutMode = false; this.chart = config.chart; this.options = config.options; this.ctx = config.ctx; this.legendItems = undefined; this.columnSizes = undefined; this.lineWidths = undefined; this.maxHeight = undefined; this.maxWidth = undefined; this.top = undefined; this.bottom = undefined; this.left = undefined; this.right = undefined; this.height = undefined; this.width = undefined; this._margins = undefined; this.position = undefined; this.weight = undefined; this.fullSize = undefined; } update(maxWidth, maxHeight, margins) { this.maxWidth = maxWidth; this.maxHeight = maxHeight; this._margins = margins; this.setDimensions(); this.buildLabels(); this.fit(); } setDimensions() { if (this.isHorizontal()) { this.width = this.maxWidth; this.left = this._margins.left; this.right = this.width; } else { this.height = this.maxHeight; this.top = this._margins.top; this.bottom = this.height; } } buildLabels() { const labelOpts = this.options.labels || {}; let legendItems = callback(labelOpts.generateLabels, [this.chart], this) || []; if (labelOpts.filter) { legendItems = legendItems.filter((item) => labelOpts.filter(item, this.chart.data)); } if (labelOpts.sort) { legendItems = legendItems.sort((a, b) => labelOpts.sort(a, b, this.chart.data)); } if (this.options.reverse) { legendItems.reverse(); } this.legendItems = legendItems; } fit() { const {options, ctx} = this; if (!options.display) { this.width = this.height = 0; return; } const labelOpts = options.labels; const labelFont = toFont(labelOpts.font); const fontSize = labelFont.size; const titleHeight = this._computeTitleHeight(); const {boxWidth, itemHeight} = getBoxSize(labelOpts, fontSize); let width, height; ctx.font = labelFont.string; if (this.isHorizontal()) { width = this.maxWidth; height = this._fitRows(titleHeight, fontSize, boxWidth, itemHeight) + 10; } else { height = this.maxHeight; width = this._fitCols(titleHeight, fontSize, boxWidth, itemHeight) + 10; } this.width = Math.min(width, options.maxWidth || this.maxWidth); this.height = Math.min(height, options.maxHeight || this.maxHeight); } _fitRows(titleHeight, fontSize, boxWidth, itemHeight) { const {ctx, maxWidth, options: {labels: {padding}}} = this; const hitboxes = this.legendHitBoxes = []; const lineWidths = this.lineWidths = [0]; const lineHeight = itemHeight + padding; let totalHeight = titleHeight; ctx.textAlign = 'left'; ctx.textBaseline = 'middle'; let row = -1; let top = -lineHeight; this.legendItems.forEach((legendItem, i) => { const itemWidth = boxWidth + (fontSize / 2) + ctx.measureText(legendItem.text).width; if (i === 0 || lineWidths[lineWidths.length - 1] + itemWidth + 2 * padding > maxWidth) { totalHeight += lineHeight; lineWidths[lineWidths.length - (i > 0 ? 0 : 1)] = 0; top += lineHeight; row++; } hitboxes[i] = {left: 0, top, row, width: itemWidth, height: itemHeight}; lineWidths[lineWidths.length - 1] += itemWidth + padding; }); return totalHeight; } _fitCols(titleHeight, fontSize, boxWidth, itemHeight) { const {ctx, maxHeight, options: {labels: {padding}}} = this; const hitboxes = this.legendHitBoxes = []; const columnSizes = this.columnSizes = []; const heightLimit = maxHeight - titleHeight; let totalWidth = padding; let currentColWidth = 0; let currentColHeight = 0; let left = 0; let col = 0; this.legendItems.forEach((legendItem, i) => { const itemWidth = boxWidth + (fontSize / 2) + ctx.measureText(legendItem.text).width; if (i > 0 && currentColHeight + itemHeight + 2 * padding > heightLimit) { totalWidth += currentColWidth + padding; columnSizes.push({width: currentColWidth, height: currentColHeight}); left += currentColWidth + padding; col++; currentColWidth = currentColHeight = 0; } hitboxes[i] = {left, top: currentColHeight, col, width: itemWidth, height: itemHeight}; currentColWidth = Math.max(currentColWidth, itemWidth); currentColHeight += itemHeight + padding; }); totalWidth += currentColWidth; columnSizes.push({width: currentColWidth, height: currentColHeight}); return totalWidth; } adjustHitBoxes() { if (!this.options.display) { return; } const titleHeight = this._computeTitleHeight(); const {legendHitBoxes: hitboxes, options: {align, labels: {padding}, rtl}} = this; const rtlHelper = getRtlAdapter(rtl, this.left, this.width); if (this.isHorizontal()) { let row = 0; let left = _alignStartEnd(align, this.left + padding, this.right - this.lineWidths[row]); for (const hitbox of hitboxes) { if (row !== hitbox.row) { row = hitbox.row; left = _alignStartEnd(align, this.left + padding, this.right - this.lineWidths[row]); } hitbox.top += this.top + titleHeight + padding; hitbox.left = rtlHelper.leftForLtr(rtlHelper.x(left), hitbox.width); left += hitbox.width + padding; } } else { let col = 0; let top = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - this.columnSizes[col].height); for (const hitbox of hitboxes) { if (hitbox.col !== col) { col = hitbox.col; top = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - this.columnSizes[col].height); } hitbox.top = top; hitbox.left += this.left + padding; hitbox.left = rtlHelper.leftForLtr(rtlHelper.x(hitbox.left), hitbox.width); top += hitbox.height + padding; } } } isHorizontal() { return this.options.position === 'top' || this.options.position === 'bottom'; } draw() { if (this.options.display) { const ctx = this.ctx; clipArea(ctx, this); this._draw(); unclipArea(ctx); } } _draw() { const {options: opts, columnSizes, lineWidths, ctx} = this; const {align, labels: labelOpts} = opts; const defaultColor = defaults.color; const rtlHelper = getRtlAdapter(opts.rtl, this.left, this.width); const labelFont = toFont(labelOpts.font); const {color: fontColor, padding} = labelOpts; const fontSize = labelFont.size; const halfFontSize = fontSize / 2; let cursor; this.drawTitle(); ctx.textAlign = rtlHelper.textAlign('left'); ctx.textBaseline = 'middle'; ctx.lineWidth = 0.5; ctx.font = labelFont.string; const {boxWidth, boxHeight, itemHeight} = getBoxSize(labelOpts, fontSize); const drawLegendBox = function(x, y, legendItem) { if (isNaN(boxWidth) || boxWidth <= 0 || isNaN(boxHeight) || boxHeight < 0) { return; } ctx.save(); const lineWidth = valueOrDefault(legendItem.lineWidth, 1); ctx.fillStyle = valueOrDefault(legendItem.fillStyle, defaultColor); ctx.lineCap = valueOrDefault(legendItem.lineCap, 'butt'); ctx.lineDashOffset = valueOrDefault(legendItem.lineDashOffset, 0); ctx.lineJoin = valueOrDefault(legendItem.lineJoin, 'miter'); ctx.lineWidth = lineWidth; ctx.strokeStyle = valueOrDefault(legendItem.strokeStyle, defaultColor); ctx.setLineDash(valueOrDefault(legendItem.lineDash, [])); if (labelOpts.usePointStyle) { const drawOptions = { radius: boxHeight * Math.SQRT2 / 2, pointStyle: legendItem.pointStyle, rotation: legendItem.rotation, borderWidth: lineWidth }; const centerX = rtlHelper.xPlus(x, boxWidth / 2); const centerY = y + halfFontSize; drawPointLegend(ctx, drawOptions, centerX, centerY, labelOpts.pointStyleWidth && boxWidth); } else { const yBoxTop = y + Math.max((fontSize - boxHeight) / 2, 0); const xBoxLeft = rtlHelper.leftForLtr(x, boxWidth); const borderRadius = toTRBLCorners(legendItem.borderRadius); ctx.beginPath(); if (Object.values(borderRadius).some(v => v !== 0)) { addRoundedRectPath(ctx, { x: xBoxLeft, y: yBoxTop, w: boxWidth, h: boxHeight, radius: borderRadius, }); } else { ctx.rect(xBoxLeft, yBoxTop, boxWidth, boxHeight); } ctx.fill(); if (lineWidth !== 0) { ctx.stroke(); } } ctx.restore(); }; const fillText = function(x, y, legendItem) { renderText(ctx, legendItem.text, x, y + (itemHeight / 2), labelFont, { strikethrough: legendItem.hidden, textAlign: rtlHelper.textAlign(legendItem.textAlign) }); }; const isHorizontal = this.isHorizontal(); const titleHeight = this._computeTitleHeight(); if (isHorizontal) { cursor = { x: _alignStartEnd(align, this.left + padding, this.right - lineWidths[0]), y: this.top + padding + titleHeight, line: 0 }; } else { cursor = { x: this.left + padding, y: _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - columnSizes[0].height), line: 0 }; } overrideTextDirection(this.ctx, opts.textDirection); const lineHeight = itemHeight + padding; this.legendItems.forEach((legendItem, i) => { ctx.strokeStyle = legendItem.fontColor || fontColor; ctx.fillStyle = legendItem.fontColor || fontColor; const textWidth = ctx.measureText(legendItem.text).width; const textAlign = rtlHelper.textAlign(legendItem.textAlign || (legendItem.textAlign = labelOpts.textAlign)); const width = boxWidth + halfFontSize + textWidth; let x = cursor.x; let y = cursor.y; rtlHelper.setWidth(this.width); if (isHorizontal) { if (i > 0 && x + width + padding > this.right) { y = cursor.y += lineHeight; cursor.line++; x = cursor.x = _alignStartEnd(align, this.left + padding, this.right - lineWidths[cursor.line]); } } else if (i > 0 && y + lineHeight > this.bottom) { x = cursor.x = x + columnSizes[cursor.line].width + padding; cursor.line++; y = cursor.y = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - columnSizes[cursor.line].height); } const realX = rtlHelper.x(x); drawLegendBox(realX, y, legendItem); x = _textX(textAlign, x + boxWidth + halfFontSize, isHorizontal ? x + width : this.right, opts.rtl); fillText(rtlHelper.x(x), y, legendItem); if (isHorizontal) { cursor.x += width + padding; } else { cursor.y += lineHeight; } }); restoreTextDirection(this.ctx, opts.textDirection); } drawTitle() { const opts = this.options; const titleOpts = opts.title; const titleFont = toFont(titleOpts.font); const titlePadding = toPadding(titleOpts.padding); if (!titleOpts.display) { return; } const rtlHelper = getRtlAdapter(opts.rtl, this.left, this.width); const ctx = this.ctx; const position = titleOpts.position; const halfFontSize = titleFont.size / 2; const topPaddingPlusHalfFontSize = titlePadding.top + halfFontSize; let y; let left = this.left; let maxWidth = this.width; if (this.isHorizontal()) { maxWidth = Math.max(...this.lineWidths); y = this.top + topPaddingPlusHalfFontSize; left = _alignStartEnd(opts.align, left, this.right - maxWidth); } else { const maxHeight = this.columnSizes.reduce((acc, size) => Math.max(acc, size.height), 0); y = topPaddingPlusHalfFontSize + _alignStartEnd(opts.align, this.top, this.bottom - maxHeight - opts.labels.padding - this._computeTitleHeight()); } const x = _alignStartEnd(position, left, left + maxWidth); ctx.textAlign = rtlHelper.textAlign(_toLeftRightCenter(position)); ctx.textBaseline = 'middle'; ctx.strokeStyle = titleOpts.color; ctx.fillStyle = titleOpts.color; ctx.font = titleFont.string; renderText(ctx, titleOpts.text, x, y, titleFont); } _computeTitleHeight() { const titleOpts = this.options.title; const titleFont = toFont(titleOpts.font); const titlePadding = toPadding(titleOpts.padding); return titleOpts.display ? titleFont.lineHeight + titlePadding.height : 0; } _getLegendItemAt(x, y) { let i, hitBox, lh; if (_isBetween(x, this.left, this.right) && _isBetween(y, this.top, this.bottom)) { lh = this.legendHitBoxes; for (i = 0; i < lh.length; ++i) { hitBox = lh[i]; if (_isBetween(x, hitBox.left, hitBox.left + hitBox.width) && _isBetween(y, hitBox.top, hitBox.top + hitBox.height)) { return this.legendItems[i]; } } } return null; } handleEvent(e) { const opts = this.options; if (!isListened(e.type, opts)) { return; } const hoveredItem = this._getLegendItemAt(e.x, e.y); if (e.type === 'mousemove' || e.type === 'mouseout') { const previous = this._hoveredItem; const sameItem = itemsEqual(previous, hoveredItem); if (previous && !sameItem) { callback(opts.onLeave, [e, previous, this], this); } this._hoveredItem = hoveredItem; if (hoveredItem && !sameItem) { callback(opts.onHover, [e, hoveredItem, this], this); } } else if (hoveredItem) { callback(opts.onClick, [e, hoveredItem, this], this); } } } function isListened(type, opts) { if ((type === 'mousemove' || type === 'mouseout') && (opts.onHover || opts.onLeave)) { return true; } if (opts.onClick && (type === 'click' || type === 'mouseup')) { return true; } return false; } var plugin_legend = { id: 'legend', _element: Legend, start(chart, _args, options) { const legend = chart.legend = new Legend({ctx: chart.ctx, options, chart}); layouts.configure(chart, legend, options); layouts.addBox(chart, legend); }, stop(chart) { layouts.removeBox(chart, chart.legend); delete chart.legend; }, beforeUpdate(chart, _args, options) { const legend = chart.legend; layouts.configure(chart, legend, options); legend.options = options; }, afterUpdate(chart) { const legend = chart.legend; legend.buildLabels(); legend.adjustHitBoxes(); }, afterEvent(chart, args) { if (!args.replay) { chart.legend.handleEvent(args.event); } }, defaults: { display: true, position: 'top', align: 'center', fullSize: true, reverse: false, weight: 1000, onClick(e, legendItem, legend) { const index = legendItem.datasetIndex; const ci = legend.chart; if (ci.isDatasetVisible(index)) { ci.hide(index); legendItem.hidden = true; } else { ci.show(index); legendItem.hidden = false; } }, onHover: null, onLeave: null, labels: { color: (ctx) => ctx.chart.options.color, boxWidth: 40, padding: 10, generateLabels(chart) { const datasets = chart.data.datasets; const {labels: {usePointStyle, pointStyle, textAlign, color}} = chart.legend.options; return chart._getSortedDatasetMetas().map((meta) => { const style = meta.controller.getStyle(usePointStyle ? 0 : undefined); const borderWidth = toPadding(style.borderWidth); return { text: datasets[meta.index].label, fillStyle: style.backgroundColor, fontColor: color, hidden: !meta.visible, lineCap: style.borderCapStyle, lineDash: style.borderDash, lineDashOffset: style.borderDashOffset, lineJoin: style.borderJoinStyle, lineWidth: (borderWidth.width + borderWidth.height) / 4, strokeStyle: style.borderColor, pointStyle: pointStyle || style.pointStyle, rotation: style.rotation, textAlign: textAlign || style.textAlign, borderRadius: 0, datasetIndex: meta.index }; }, this); } }, title: { color: (ctx) => ctx.chart.options.color, display: false, position: 'center', text: '', } }, descriptors: { _scriptable: (name) => !name.startsWith('on'), labels: { _scriptable: (name) => !['generateLabels', 'filter', 'sort'].includes(name), } }, }; class Title extends Element { constructor(config) { super(); this.chart = config.chart; this.options = config.options; this.ctx = config.ctx; this._padding = undefined; this.top = undefined; this.bottom = undefined; this.left = undefined; this.right = undefined; this.width = undefined; this.height = undefined; this.position = undefined; this.weight = undefined; this.fullSize = undefined; } update(maxWidth, maxHeight) { const opts = this.options; this.left = 0; this.top = 0; if (!opts.display) { this.width = this.height = this.right = this.bottom = 0; return; } this.width = this.right = maxWidth; this.height = this.bottom = maxHeight; const lineCount = isArray(opts.text) ? opts.text.length : 1; this._padding = toPadding(opts.padding); const textSize = lineCount * toFont(opts.font).lineHeight + this._padding.height; if (this.isHorizontal()) { this.height = textSize; } else { this.width = textSize; } } isHorizontal() { const pos = this.options.position; return pos === 'top' || pos === 'bottom'; } _drawArgs(offset) { const {top, left, bottom, right, options} = this; const align = options.align; let rotation = 0; let maxWidth, titleX, titleY; if (this.isHorizontal()) { titleX = _alignStartEnd(align, left, right); titleY = top + offset; maxWidth = right - left; } else { if (options.position === 'left') { titleX = left + offset; titleY = _alignStartEnd(align, bottom, top); rotation = PI * -0.5; } else { titleX = right - offset; titleY = _alignStartEnd(align, top, bottom); rotation = PI * 0.5; } maxWidth = bottom - top; } return {titleX, titleY, maxWidth, rotation}; } draw() { const ctx = this.ctx; const opts = this.options; if (!opts.display) { return; } const fontOpts = toFont(opts.font); const lineHeight = fontOpts.lineHeight; const offset = lineHeight / 2 + this._padding.top; const {titleX, titleY, maxWidth, rotation} = this._drawArgs(offset); renderText(ctx, opts.text, 0, 0, fontOpts, { color: opts.color, maxWidth, rotation, textAlign: _toLeftRightCenter(opts.align), textBaseline: 'middle', translation: [titleX, titleY], }); } } function createTitle(chart, titleOpts) { const title = new Title({ ctx: chart.ctx, options: titleOpts, chart }); layouts.configure(chart, title, titleOpts); layouts.addBox(chart, title); chart.titleBlock = title; } var plugin_title = { id: 'title', _element: Title, start(chart, _args, options) { createTitle(chart, options); }, stop(chart) { const titleBlock = chart.titleBlock; layouts.removeBox(chart, titleBlock); delete chart.titleBlock; }, beforeUpdate(chart, _args, options) { const title = chart.titleBlock; layouts.configure(chart, title, options); title.options = options; }, defaults: { align: 'center', display: false, font: { weight: 'bold', }, fullSize: true, padding: 10, position: 'top', text: '', weight: 2000 }, defaultRoutes: { color: 'color' }, descriptors: { _scriptable: true, _indexable: false, }, }; const map = new WeakMap(); var plugin_subtitle = { id: 'subtitle', start(chart, _args, options) { const title = new Title({ ctx: chart.ctx, options, chart }); layouts.configure(chart, title, options); layouts.addBox(chart, title); map.set(chart, title); }, stop(chart) { layouts.removeBox(chart, map.get(chart)); map.delete(chart); }, beforeUpdate(chart, _args, options) { const title = map.get(chart); layouts.configure(chart, title, options); title.options = options; }, defaults: { align: 'center', display: false, font: { weight: 'normal', }, fullSize: true, padding: 0, position: 'top', text: '', weight: 1500 }, defaultRoutes: { color: 'color' }, descriptors: { _scriptable: true, _indexable: false, }, }; const positioners = { average(items) { if (!items.length) { return false; } let i, len; let x = 0; let y = 0; let count = 0; for (i = 0, len = items.length; i < len; ++i) { const el = items[i].element; if (el && el.hasValue()) { const pos = el.tooltipPosition(); x += pos.x; y += pos.y; ++count; } } return { x: x / count, y: y / count }; }, nearest(items, eventPosition) { if (!items.length) { return false; } let x = eventPosition.x; let y = eventPosition.y; let minDistance = Number.POSITIVE_INFINITY; let i, len, nearestElement; for (i = 0, len = items.length; i < len; ++i) { const el = items[i].element; if (el && el.hasValue()) { const center = el.getCenterPoint(); const d = distanceBetweenPoints(eventPosition, center); if (d < minDistance) { minDistance = d; nearestElement = el; } } } if (nearestElement) { const tp = nearestElement.tooltipPosition(); x = tp.x; y = tp.y; } return { x, y }; } }; function pushOrConcat(base, toPush) { if (toPush) { if (isArray(toPush)) { Array.prototype.push.apply(base, toPush); } else { base.push(toPush); } } return base; } function splitNewlines(str) { if ((typeof str === 'string' || str instanceof String) && str.indexOf('\n') > -1) { return str.split('\n'); } return str; } function createTooltipItem(chart, item) { const {element, datasetIndex, index} = item; const controller = chart.getDatasetMeta(datasetIndex).controller; const {label, value} = controller.getLabelAndValue(index); return { chart, label, parsed: controller.getParsed(index), raw: chart.data.datasets[datasetIndex].data[index], formattedValue: value, dataset: controller.getDataset(), dataIndex: index, datasetIndex, element }; } function getTooltipSize(tooltip, options) { const ctx = tooltip.chart.ctx; const {body, footer, title} = tooltip; const {boxWidth, boxHeight} = options; const bodyFont = toFont(options.bodyFont); const titleFont = toFont(options.titleFont); const footerFont = toFont(options.footerFont); const titleLineCount = title.length; const footerLineCount = footer.length; const bodyLineItemCount = body.length; const padding = toPadding(options.padding); let height = padding.height; let width = 0; let combinedBodyLength = body.reduce((count, bodyItem) => count + bodyItem.before.length + bodyItem.lines.length + bodyItem.after.length, 0); combinedBodyLength += tooltip.beforeBody.length + tooltip.afterBody.length; if (titleLineCount) { height += titleLineCount * titleFont.lineHeight + (titleLineCount - 1) * options.titleSpacing + options.titleMarginBottom; } if (combinedBodyLength) { const bodyLineHeight = options.displayColors ? Math.max(boxHeight, bodyFont.lineHeight) : bodyFont.lineHeight; height += bodyLineItemCount * bodyLineHeight + (combinedBodyLength - bodyLineItemCount) * bodyFont.lineHeight + (combinedBodyLength - 1) * options.bodySpacing; } if (footerLineCount) { height += options.footerMarginTop + footerLineCount * footerFont.lineHeight + (footerLineCount - 1) * options.footerSpacing; } let widthPadding = 0; const maxLineWidth = function(line) { width = Math.max(width, ctx.measureText(line).width + widthPadding); }; ctx.save(); ctx.font = titleFont.string; each(tooltip.title, maxLineWidth); ctx.font = bodyFont.string; each(tooltip.beforeBody.concat(tooltip.afterBody), maxLineWidth); widthPadding = options.displayColors ? (boxWidth + 2 + options.boxPadding) : 0; each(body, (bodyItem) => { each(bodyItem.before, maxLineWidth); each(bodyItem.lines, maxLineWidth); each(bodyItem.after, maxLineWidth); }); widthPadding = 0; ctx.font = footerFont.string; each(tooltip.footer, maxLineWidth); ctx.restore(); width += padding.width; return {width, height}; } function determineYAlign(chart, size) { const {y, height} = size; if (y < height / 2) { return 'top'; } else if (y > (chart.height - height / 2)) { return 'bottom'; } return 'center'; } function doesNotFitWithAlign(xAlign, chart, options, size) { const {x, width} = size; const caret = options.caretSize + options.caretPadding; if (xAlign === 'left' && x + width + caret > chart.width) { return true; } if (xAlign === 'right' && x - width - caret < 0) { return true; } } function determineXAlign(chart, options, size, yAlign) { const {x, width} = size; const {width: chartWidth, chartArea: {left, right}} = chart; let xAlign = 'center'; if (yAlign === 'center') { xAlign = x <= (left + right) / 2 ? 'left' : 'right'; } else if (x <= width / 2) { xAlign = 'left'; } else if (x >= chartWidth - width / 2) { xAlign = 'right'; } if (doesNotFitWithAlign(xAlign, chart, options, size)) { xAlign = 'center'; } return xAlign; } function determineAlignment(chart, options, size) { const yAlign = size.yAlign || options.yAlign || determineYAlign(chart, size); return { xAlign: size.xAlign || options.xAlign || determineXAlign(chart, options, size, yAlign), yAlign }; } function alignX(size, xAlign) { let {x, width} = size; if (xAlign === 'right') { x -= width; } else if (xAlign === 'center') { x -= (width / 2); } return x; } function alignY(size, yAlign, paddingAndSize) { let {y, height} = size; if (yAlign === 'top') { y += paddingAndSize; } else if (yAlign === 'bottom') { y -= height + paddingAndSize; } else { y -= (height / 2); } return y; } function getBackgroundPoint(options, size, alignment, chart) { const {caretSize, caretPadding, cornerRadius} = options; const {xAlign, yAlign} = alignment; const paddingAndSize = caretSize + caretPadding; const {topLeft, topRight, bottomLeft, bottomRight} = toTRBLCorners(cornerRadius); let x = alignX(size, xAlign); const y = alignY(size, yAlign, paddingAndSize); if (yAlign === 'center') { if (xAlign === 'left') { x += paddingAndSize; } else if (xAlign === 'right') { x -= paddingAndSize; } } else if (xAlign === 'left') { x -= Math.max(topLeft, bottomLeft) + caretSize; } else if (xAlign === 'right') { x += Math.max(topRight, bottomRight) + caretSize; } return { x: _limitValue(x, 0, chart.width - size.width), y: _limitValue(y, 0, chart.height - size.height) }; } function getAlignedX(tooltip, align, options) { const padding = toPadding(options.padding); return align === 'center' ? tooltip.x + tooltip.width / 2 : align === 'right' ? tooltip.x + tooltip.width - padding.right : tooltip.x + padding.left; } function getBeforeAfterBodyLines(callback) { return pushOrConcat([], splitNewlines(callback)); } function createTooltipContext(parent, tooltip, tooltipItems) { return createContext(parent, { tooltip, tooltipItems, type: 'tooltip' }); } function overrideCallbacks(callbacks, context) { const override = context && context.dataset && context.dataset.tooltip && context.dataset.tooltip.callbacks; return override ? callbacks.override(override) : callbacks; } class Tooltip extends Element { constructor(config) { super(); this.opacity = 0; this._active = []; this._eventPosition = undefined; this._size = undefined; this._cachedAnimations = undefined; this._tooltipItems = []; this.$animations = undefined; this.$context = undefined; this.chart = config.chart || config._chart; this._chart = this.chart; this.options = config.options; this.dataPoints = undefined; this.title = undefined; this.beforeBody = undefined; this.body = undefined; this.afterBody = undefined; this.footer = undefined; this.xAlign = undefined; this.yAlign = undefined; this.x = undefined; this.y = undefined; this.height = undefined; this.width = undefined; this.caretX = undefined; this.caretY = undefined; this.labelColors = undefined; this.labelPointStyles = undefined; this.labelTextColors = undefined; } initialize(options) { this.options = options; this._cachedAnimations = undefined; this.$context = undefined; } _resolveAnimations() { const cached = this._cachedAnimations; if (cached) { return cached; } const chart = this.chart; const options = this.options.setContext(this.getContext()); const opts = options.enabled && chart.options.animation && options.animations; const animations = new Animations(this.chart, opts); if (opts._cacheable) { this._cachedAnimations = Object.freeze(animations); } return animations; } getContext() { return this.$context || (this.$context = createTooltipContext(this.chart.getContext(), this, this._tooltipItems)); } getTitle(context, options) { const {callbacks} = options; const beforeTitle = callbacks.beforeTitle.apply(this, [context]); const title = callbacks.title.apply(this, [context]); const afterTitle = callbacks.afterTitle.apply(this, [context]); let lines = []; lines = pushOrConcat(lines, splitNewlines(beforeTitle)); lines = pushOrConcat(lines, splitNewlines(title)); lines = pushOrConcat(lines, splitNewlines(afterTitle)); return lines; } getBeforeBody(tooltipItems, options) { return getBeforeAfterBodyLines(options.callbacks.beforeBody.apply(this, [tooltipItems])); } getBody(tooltipItems, options) { const {callbacks} = options; const bodyItems = []; each(tooltipItems, (context) => { const bodyItem = { before: [], lines: [], after: [] }; const scoped = overrideCallbacks(callbacks, context); pushOrConcat(bodyItem.before, splitNewlines(scoped.beforeLabel.call(this, context))); pushOrConcat(bodyItem.lines, scoped.label.call(this, context)); pushOrConcat(bodyItem.after, splitNewlines(scoped.afterLabel.call(this, context))); bodyItems.push(bodyItem); }); return bodyItems; } getAfterBody(tooltipItems, options) { return getBeforeAfterBodyLines(options.callbacks.afterBody.apply(this, [tooltipItems])); } getFooter(tooltipItems, options) { const {callbacks} = options; const beforeFooter = callbacks.beforeFooter.apply(this, [tooltipItems]); const footer = callbacks.footer.apply(this, [tooltipItems]); const afterFooter = callbacks.afterFooter.apply(this, [tooltipItems]); let lines = []; lines = pushOrConcat(lines, splitNewlines(beforeFooter)); lines = pushOrConcat(lines, splitNewlines(footer)); lines = pushOrConcat(lines, splitNewlines(afterFooter)); return lines; } _createItems(options) { const active = this._active; const data = this.chart.data; const labelColors = []; const labelPointStyles = []; const labelTextColors = []; let tooltipItems = []; let i, len; for (i = 0, len = active.length; i < len; ++i) { tooltipItems.push(createTooltipItem(this.chart, active[i])); } if (options.filter) { tooltipItems = tooltipItems.filter((element, index, array) => options.filter(element, index, array, data)); } if (options.itemSort) { tooltipItems = tooltipItems.sort((a, b) => options.itemSort(a, b, data)); } each(tooltipItems, (context) => { const scoped = overrideCallbacks(options.callbacks, context); labelColors.push(scoped.labelColor.call(this, context)); labelPointStyles.push(scoped.labelPointStyle.call(this, context)); labelTextColors.push(scoped.labelTextColor.call(this, context)); }); this.labelColors = labelColors; this.labelPointStyles = labelPointStyles; this.labelTextColors = labelTextColors; this.dataPoints = tooltipItems; return tooltipItems; } update(changed, replay) { const options = this.options.setContext(this.getContext()); const active = this._active; let properties; let tooltipItems = []; if (!active.length) { if (this.opacity !== 0) { properties = { opacity: 0 }; } } else { const position = positioners[options.position].call(this, active, this._eventPosition); tooltipItems = this._createItems(options); this.title = this.getTitle(tooltipItems, options); this.beforeBody = this.getBeforeBody(tooltipItems, options); this.body = this.getBody(tooltipItems, options); this.afterBody = this.getAfterBody(tooltipItems, options); this.footer = this.getFooter(tooltipItems, options); const size = this._size = getTooltipSize(this, options); const positionAndSize = Object.assign({}, position, size); const alignment = determineAlignment(this.chart, options, positionAndSize); const backgroundPoint = getBackgroundPoint(options, positionAndSize, alignment, this.chart); this.xAlign = alignment.xAlign; this.yAlign = alignment.yAlign; properties = { opacity: 1, x: backgroundPoint.x, y: backgroundPoint.y, width: size.width, height: size.height, caretX: position.x, caretY: position.y }; } this._tooltipItems = tooltipItems; this.$context = undefined; if (properties) { this._resolveAnimations().update(this, properties); } if (changed && options.external) { options.external.call(this, {chart: this.chart, tooltip: this, replay}); } } drawCaret(tooltipPoint, ctx, size, options) { const caretPosition = this.getCaretPosition(tooltipPoint, size, options); ctx.lineTo(caretPosition.x1, caretPosition.y1); ctx.lineTo(caretPosition.x2, caretPosition.y2); ctx.lineTo(caretPosition.x3, caretPosition.y3); } getCaretPosition(tooltipPoint, size, options) { const {xAlign, yAlign} = this; const {caretSize, cornerRadius} = options; const {topLeft, topRight, bottomLeft, bottomRight} = toTRBLCorners(cornerRadius); const {x: ptX, y: ptY} = tooltipPoint; const {width, height} = size; let x1, x2, x3, y1, y2, y3; if (yAlign === 'center') { y2 = ptY + (height / 2); if (xAlign === 'left') { x1 = ptX; x2 = x1 - caretSize; y1 = y2 + caretSize; y3 = y2 - caretSize; } else { x1 = ptX + width; x2 = x1 + caretSize; y1 = y2 - caretSize; y3 = y2 + caretSize; } x3 = x1; } else { if (xAlign === 'left') { x2 = ptX + Math.max(topLeft, bottomLeft) + (caretSize); } else if (xAlign === 'right') { x2 = ptX + width - Math.max(topRight, bottomRight) - caretSize; } else { x2 = this.caretX; } if (yAlign === 'top') { y1 = ptY; y2 = y1 - caretSize; x1 = x2 - caretSize; x3 = x2 + caretSize; } else { y1 = ptY + height; y2 = y1 + caretSize; x1 = x2 + caretSize; x3 = x2 - caretSize; } y3 = y1; } return {x1, x2, x3, y1, y2, y3}; } drawTitle(pt, ctx, options) { const title = this.title; const length = title.length; let titleFont, titleSpacing, i; if (length) { const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width); pt.x = getAlignedX(this, options.titleAlign, options); ctx.textAlign = rtlHelper.textAlign(options.titleAlign); ctx.textBaseline = 'middle'; titleFont = toFont(options.titleFont); titleSpacing = options.titleSpacing; ctx.fillStyle = options.titleColor; ctx.font = titleFont.string; for (i = 0; i < length; ++i) { ctx.fillText(title[i], rtlHelper.x(pt.x), pt.y + titleFont.lineHeight / 2); pt.y += titleFont.lineHeight + titleSpacing; if (i + 1 === length) { pt.y += options.titleMarginBottom - titleSpacing; } } } } _drawColorBox(ctx, pt, i, rtlHelper, options) { const labelColors = this.labelColors[i]; const labelPointStyle = this.labelPointStyles[i]; const {boxHeight, boxWidth, boxPadding} = options; const bodyFont = toFont(options.bodyFont); const colorX = getAlignedX(this, 'left', options); const rtlColorX = rtlHelper.x(colorX); const yOffSet = boxHeight < bodyFont.lineHeight ? (bodyFont.lineHeight - boxHeight) / 2 : 0; const colorY = pt.y + yOffSet; if (options.usePointStyle) { const drawOptions = { radius: Math.min(boxWidth, boxHeight) / 2, pointStyle: labelPointStyle.pointStyle, rotation: labelPointStyle.rotation, borderWidth: 1 }; const centerX = rtlHelper.leftForLtr(rtlColorX, boxWidth) + boxWidth / 2; const centerY = colorY + boxHeight / 2; ctx.strokeStyle = options.multiKeyBackground; ctx.fillStyle = options.multiKeyBackground; drawPoint(ctx, drawOptions, centerX, centerY); ctx.strokeStyle = labelColors.borderColor; ctx.fillStyle = labelColors.backgroundColor; drawPoint(ctx, drawOptions, centerX, centerY); } else { ctx.lineWidth = isObject(labelColors.borderWidth) ? Math.max(...Object.values(labelColors.borderWidth)) : (labelColors.borderWidth || 1); ctx.strokeStyle = labelColors.borderColor; ctx.setLineDash(labelColors.borderDash || []); ctx.lineDashOffset = labelColors.borderDashOffset || 0; const outerX = rtlHelper.leftForLtr(rtlColorX, boxWidth - boxPadding); const innerX = rtlHelper.leftForLtr(rtlHelper.xPlus(rtlColorX, 1), boxWidth - boxPadding - 2); const borderRadius = toTRBLCorners(labelColors.borderRadius); if (Object.values(borderRadius).some(v => v !== 0)) { ctx.beginPath(); ctx.fillStyle = options.multiKeyBackground; addRoundedRectPath(ctx, { x: outerX, y: colorY, w: boxWidth, h: boxHeight, radius: borderRadius, }); ctx.fill(); ctx.stroke(); ctx.fillStyle = labelColors.backgroundColor; ctx.beginPath(); addRoundedRectPath(ctx, { x: innerX, y: colorY + 1, w: boxWidth - 2, h: boxHeight - 2, radius: borderRadius, }); ctx.fill(); } else { ctx.fillStyle = options.multiKeyBackground; ctx.fillRect(outerX, colorY, boxWidth, boxHeight); ctx.strokeRect(outerX, colorY, boxWidth, boxHeight); ctx.fillStyle = labelColors.backgroundColor; ctx.fillRect(innerX, colorY + 1, boxWidth - 2, boxHeight - 2); } } ctx.fillStyle = this.labelTextColors[i]; } drawBody(pt, ctx, options) { const {body} = this; const {bodySpacing, bodyAlign, displayColors, boxHeight, boxWidth, boxPadding} = options; const bodyFont = toFont(options.bodyFont); let bodyLineHeight = bodyFont.lineHeight; let xLinePadding = 0; const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width); const fillLineOfText = function(line) { ctx.fillText(line, rtlHelper.x(pt.x + xLinePadding), pt.y + bodyLineHeight / 2); pt.y += bodyLineHeight + bodySpacing; }; const bodyAlignForCalculation = rtlHelper.textAlign(bodyAlign); let bodyItem, textColor, lines, i, j, ilen, jlen; ctx.textAlign = bodyAlign; ctx.textBaseline = 'middle'; ctx.font = bodyFont.string; pt.x = getAlignedX(this, bodyAlignForCalculation, options); ctx.fillStyle = options.bodyColor; each(this.beforeBody, fillLineOfText); xLinePadding = displayColors && bodyAlignForCalculation !== 'right' ? bodyAlign === 'center' ? (boxWidth / 2 + boxPadding) : (boxWidth + 2 + boxPadding) : 0; for (i = 0, ilen = body.length; i < ilen; ++i) { bodyItem = body[i]; textColor = this.labelTextColors[i]; ctx.fillStyle = textColor; each(bodyItem.before, fillLineOfText); lines = bodyItem.lines; if (displayColors && lines.length) { this._drawColorBox(ctx, pt, i, rtlHelper, options); bodyLineHeight = Math.max(bodyFont.lineHeight, boxHeight); } for (j = 0, jlen = lines.length; j < jlen; ++j) { fillLineOfText(lines[j]); bodyLineHeight = bodyFont.lineHeight; } each(bodyItem.after, fillLineOfText); } xLinePadding = 0; bodyLineHeight = bodyFont.lineHeight; each(this.afterBody, fillLineOfText); pt.y -= bodySpacing; } drawFooter(pt, ctx, options) { const footer = this.footer; const length = footer.length; let footerFont, i; if (length) { const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width); pt.x = getAlignedX(this, options.footerAlign, options); pt.y += options.footerMarginTop; ctx.textAlign = rtlHelper.textAlign(options.footerAlign); ctx.textBaseline = 'middle'; footerFont = toFont(options.footerFont); ctx.fillStyle = options.footerColor; ctx.font = footerFont.string; for (i = 0; i < length; ++i) { ctx.fillText(footer[i], rtlHelper.x(pt.x), pt.y + footerFont.lineHeight / 2); pt.y += footerFont.lineHeight + options.footerSpacing; } } } drawBackground(pt, ctx, tooltipSize, options) { const {xAlign, yAlign} = this; const {x, y} = pt; const {width, height} = tooltipSize; const {topLeft, topRight, bottomLeft, bottomRight} = toTRBLCorners(options.cornerRadius); ctx.fillStyle = options.backgroundColor; ctx.strokeStyle = options.borderColor; ctx.lineWidth = options.borderWidth; ctx.beginPath(); ctx.moveTo(x + topLeft, y); if (yAlign === 'top') { this.drawCaret(pt, ctx, tooltipSize, options); } ctx.lineTo(x + width - topRight, y); ctx.quadraticCurveTo(x + width, y, x + width, y + topRight); if (yAlign === 'center' && xAlign === 'right') { this.drawCaret(pt, ctx, tooltipSize, options); } ctx.lineTo(x + width, y + height - bottomRight); ctx.quadraticCurveTo(x + width, y + height, x + width - bottomRight, y + height); if (yAlign === 'bottom') { this.drawCaret(pt, ctx, tooltipSize, options); } ctx.lineTo(x + bottomLeft, y + height); ctx.quadraticCurveTo(x, y + height, x, y + height - bottomLeft); if (yAlign === 'center' && xAlign === 'left') { this.drawCaret(pt, ctx, tooltipSize, options); } ctx.lineTo(x, y + topLeft); ctx.quadraticCurveTo(x, y, x + topLeft, y); ctx.closePath(); ctx.fill(); if (options.borderWidth > 0) { ctx.stroke(); } } _updateAnimationTarget(options) { const chart = this.chart; const anims = this.$animations; const animX = anims && anims.x; const animY = anims && anims.y; if (animX || animY) { const position = positioners[options.position].call(this, this._active, this._eventPosition); if (!position) { return; } const size = this._size = getTooltipSize(this, options); const positionAndSize = Object.assign({}, position, this._size); const alignment = determineAlignment(chart, options, positionAndSize); const point = getBackgroundPoint(options, positionAndSize, alignment, chart); if (animX._to !== point.x || animY._to !== point.y) { this.xAlign = alignment.xAlign; this.yAlign = alignment.yAlign; this.width = size.width; this.height = size.height; this.caretX = position.x; this.caretY = position.y; this._resolveAnimations().update(this, point); } } } _willRender() { return !!this.opacity; } draw(ctx) { const options = this.options.setContext(this.getContext()); let opacity = this.opacity; if (!opacity) { return; } this._updateAnimationTarget(options); const tooltipSize = { width: this.width, height: this.height }; const pt = { x: this.x, y: this.y }; opacity = Math.abs(opacity) < 1e-3 ? 0 : opacity; const padding = toPadding(options.padding); const hasTooltipContent = this.title.length || this.beforeBody.length || this.body.length || this.afterBody.length || this.footer.length; if (options.enabled && hasTooltipContent) { ctx.save(); ctx.globalAlpha = opacity; this.drawBackground(pt, ctx, tooltipSize, options); overrideTextDirection(ctx, options.textDirection); pt.y += padding.top; this.drawTitle(pt, ctx, options); this.drawBody(pt, ctx, options); this.drawFooter(pt, ctx, options); restoreTextDirection(ctx, options.textDirection); ctx.restore(); } } getActiveElements() { return this._active || []; } setActiveElements(activeElements, eventPosition) { const lastActive = this._active; const active = activeElements.map(({datasetIndex, index}) => { const meta = this.chart.getDatasetMeta(datasetIndex); if (!meta) { throw new Error('Cannot find a dataset at index ' + datasetIndex); } return { datasetIndex, element: meta.data[index], index, }; }); const changed = !_elementsEqual(lastActive, active); const positionChanged = this._positionChanged(active, eventPosition); if (changed || positionChanged) { this._active = active; this._eventPosition = eventPosition; this._ignoreReplayEvents = true; this.update(true); } } handleEvent(e, replay, inChartArea = true) { if (replay && this._ignoreReplayEvents) { return false; } this._ignoreReplayEvents = false; const options = this.options; const lastActive = this._active || []; const active = this._getActiveElements(e, lastActive, replay, inChartArea); const positionChanged = this._positionChanged(active, e); const changed = replay || !_elementsEqual(active, lastActive) || positionChanged; if (changed) { this._active = active; if (options.enabled || options.external) { this._eventPosition = { x: e.x, y: e.y }; this.update(true, replay); } } return changed; } _getActiveElements(e, lastActive, replay, inChartArea) { const options = this.options; if (e.type === 'mouseout') { return []; } if (!inChartArea) { return lastActive; } const active = this.chart.getElementsAtEventForMode(e, options.mode, options, replay); if (options.reverse) { active.reverse(); } return active; } _positionChanged(active, e) { const {caretX, caretY, options} = this; const position = positioners[options.position].call(this, active, e); return position !== false && (caretX !== position.x || caretY !== position.y); } } Tooltip.positioners = positioners; var plugin_tooltip = { id: 'tooltip', _element: Tooltip, positioners, afterInit(chart, _args, options) { if (options) { chart.tooltip = new Tooltip({chart, options}); } }, beforeUpdate(chart, _args, options) { if (chart.tooltip) { chart.tooltip.initialize(options); } }, reset(chart, _args, options) { if (chart.tooltip) { chart.tooltip.initialize(options); } }, afterDraw(chart) { const tooltip = chart.tooltip; if (tooltip && tooltip._willRender()) { const args = { tooltip }; if (chart.notifyPlugins('beforeTooltipDraw', args) === false) { return; } tooltip.draw(chart.ctx); chart.notifyPlugins('afterTooltipDraw', args); } }, afterEvent(chart, args) { if (chart.tooltip) { const useFinalPosition = args.replay; if (chart.tooltip.handleEvent(args.event, useFinalPosition, args.inChartArea)) { args.changed = true; } } }, defaults: { enabled: true, external: null, position: 'average', backgroundColor: 'rgba(0,0,0,0.8)', titleColor: '#fff', titleFont: { weight: 'bold', }, titleSpacing: 2, titleMarginBottom: 6, titleAlign: 'left', bodyColor: '#fff', bodySpacing: 2, bodyFont: { }, bodyAlign: 'left', footerColor: '#fff', footerSpacing: 2, footerMarginTop: 6, footerFont: { weight: 'bold', }, footerAlign: 'left', padding: 6, caretPadding: 2, caretSize: 5, cornerRadius: 6, boxHeight: (ctx, opts) => opts.bodyFont.size, boxWidth: (ctx, opts) => opts.bodyFont.size, multiKeyBackground: '#fff', displayColors: true, boxPadding: 0, borderColor: 'rgba(0,0,0,0)', borderWidth: 0, animation: { duration: 400, easing: 'easeOutQuart', }, animations: { numbers: { type: 'number', properties: ['x', 'y', 'width', 'height', 'caretX', 'caretY'], }, opacity: { easing: 'linear', duration: 200 } }, callbacks: { beforeTitle: noop, title(tooltipItems) { if (tooltipItems.length > 0) { const item = tooltipItems[0]; const labels = item.chart.data.labels; const labelCount = labels ? labels.length : 0; if (this && this.options && this.options.mode === 'dataset') { return item.dataset.label || ''; } else if (item.label) { return item.label; } else if (labelCount > 0 && item.dataIndex < labelCount) { return labels[item.dataIndex]; } } return ''; }, afterTitle: noop, beforeBody: noop, beforeLabel: noop, label(tooltipItem) { if (this && this.options && this.options.mode === 'dataset') { return tooltipItem.label + ': ' + tooltipItem.formattedValue || tooltipItem.formattedValue; } let label = tooltipItem.dataset.label || ''; if (label) { label += ': '; } const value = tooltipItem.formattedValue; if (!isNullOrUndef(value)) { label += value; } return label; }, labelColor(tooltipItem) { const meta = tooltipItem.chart.getDatasetMeta(tooltipItem.datasetIndex); const options = meta.controller.getStyle(tooltipItem.dataIndex); return { borderColor: options.borderColor, backgroundColor: options.backgroundColor, borderWidth: options.borderWidth, borderDash: options.borderDash, borderDashOffset: options.borderDashOffset, borderRadius: 0, }; }, labelTextColor() { return this.options.bodyColor; }, labelPointStyle(tooltipItem) { const meta = tooltipItem.chart.getDatasetMeta(tooltipItem.datasetIndex); const options = meta.controller.getStyle(tooltipItem.dataIndex); return { pointStyle: options.pointStyle, rotation: options.rotation, }; }, afterLabel: noop, afterBody: noop, beforeFooter: noop, footer: noop, afterFooter: noop } }, defaultRoutes: { bodyFont: 'font', footerFont: 'font', titleFont: 'font' }, descriptors: { _scriptable: (name) => name !== 'filter' && name !== 'itemSort' && name !== 'external', _indexable: false, callbacks: { _scriptable: false, _indexable: false, }, animation: { _fallback: false }, animations: { _fallback: 'animation' } }, additionalOptionScopes: ['interaction'] }; var plugins = /*#__PURE__*/Object.freeze({ __proto__: null, Decimation: plugin_decimation, Filler: index, Legend: plugin_legend, SubTitle: plugin_subtitle, Title: plugin_title, Tooltip: plugin_tooltip }); const addIfString = (labels, raw, index, addedLabels) => { if (typeof raw === 'string') { index = labels.push(raw) - 1; addedLabels.unshift({index, label: raw}); } else if (isNaN(raw)) { index = null; } return index; }; function findOrAddLabel(labels, raw, index, addedLabels) { const first = labels.indexOf(raw); if (first === -1) { return addIfString(labels, raw, index, addedLabels); } const last = labels.lastIndexOf(raw); return first !== last ? index : first; } const validIndex = (index, max) => index === null ? null : _limitValue(Math.round(index), 0, max); class CategoryScale extends Scale { constructor(cfg) { super(cfg); this._startValue = undefined; this._valueRange = 0; this._addedLabels = []; } init(scaleOptions) { const added = this._addedLabels; if (added.length) { const labels = this.getLabels(); for (const {index, label} of added) { if (labels[index] === label) { labels.splice(index, 1); } } this._addedLabels = []; } super.init(scaleOptions); } parse(raw, index) { if (isNullOrUndef(raw)) { return null; } const labels = this.getLabels(); index = isFinite(index) && labels[index] === raw ? index : findOrAddLabel(labels, raw, valueOrDefault(index, raw), this._addedLabels); return validIndex(index, labels.length - 1); } determineDataLimits() { const {minDefined, maxDefined} = this.getUserBounds(); let {min, max} = this.getMinMax(true); if (this.options.bounds === 'ticks') { if (!minDefined) { min = 0; } if (!maxDefined) { max = this.getLabels().length - 1; } } this.min = min; this.max = max; } buildTicks() { const min = this.min; const max = this.max; const offset = this.options.offset; const ticks = []; let labels = this.getLabels(); labels = (min === 0 && max === labels.length - 1) ? labels : labels.slice(min, max + 1); this._valueRange = Math.max(labels.length - (offset ? 0 : 1), 1); this._startValue = this.min - (offset ? 0.5 : 0); for (let value = min; value <= max; value++) { ticks.push({value}); } return ticks; } getLabelForValue(value) { const labels = this.getLabels(); if (value >= 0 && value < labels.length) { return labels[value]; } return value; } configure() { super.configure(); if (!this.isHorizontal()) { this._reversePixels = !this._reversePixels; } } getPixelForValue(value) { if (typeof value !== 'number') { value = this.parse(value); } return value === null ? NaN : this.getPixelForDecimal((value - this._startValue) / this._valueRange); } getPixelForTick(index) { const ticks = this.ticks; if (index < 0 || index > ticks.length - 1) { return null; } return this.getPixelForValue(ticks[index].value); } getValueForPixel(pixel) { return Math.round(this._startValue + this.getDecimalForPixel(pixel) * this._valueRange); } getBasePixel() { return this.bottom; } } CategoryScale.id = 'category'; CategoryScale.defaults = { ticks: { callback: CategoryScale.prototype.getLabelForValue } }; function generateTicks$1(generationOptions, dataRange) { const ticks = []; const MIN_SPACING = 1e-14; const {bounds, step, min, max, precision, count, maxTicks, maxDigits, includeBounds} = generationOptions; const unit = step || 1; const maxSpaces = maxTicks - 1; const {min: rmin, max: rmax} = dataRange; const minDefined = !isNullOrUndef(min); const maxDefined = !isNullOrUndef(max); const countDefined = !isNullOrUndef(count); const minSpacing = (rmax - rmin) / (maxDigits + 1); let spacing = niceNum((rmax - rmin) / maxSpaces / unit) * unit; let factor, niceMin, niceMax, numSpaces; if (spacing < MIN_SPACING && !minDefined && !maxDefined) { return [{value: rmin}, {value: rmax}]; } numSpaces = Math.ceil(rmax / spacing) - Math.floor(rmin / spacing); if (numSpaces > maxSpaces) { spacing = niceNum(numSpaces * spacing / maxSpaces / unit) * unit; } if (!isNullOrUndef(precision)) { factor = Math.pow(10, precision); spacing = Math.ceil(spacing * factor) / factor; } if (bounds === 'ticks') { niceMin = Math.floor(rmin / spacing) * spacing; niceMax = Math.ceil(rmax / spacing) * spacing; } else { niceMin = rmin; niceMax = rmax; } if (minDefined && maxDefined && step && almostWhole((max - min) / step, spacing / 1000)) { numSpaces = Math.round(Math.min((max - min) / spacing, maxTicks)); spacing = (max - min) / numSpaces; niceMin = min; niceMax = max; } else if (countDefined) { niceMin = minDefined ? min : niceMin; niceMax = maxDefined ? max : niceMax; numSpaces = count - 1; spacing = (niceMax - niceMin) / numSpaces; } else { numSpaces = (niceMax - niceMin) / spacing; if (almostEquals(numSpaces, Math.round(numSpaces), spacing / 1000)) { numSpaces = Math.round(numSpaces); } else { numSpaces = Math.ceil(numSpaces); } } const decimalPlaces = Math.max( _decimalPlaces(spacing), _decimalPlaces(niceMin) ); factor = Math.pow(10, isNullOrUndef(precision) ? decimalPlaces : precision); niceMin = Math.round(niceMin * factor) / factor; niceMax = Math.round(niceMax * factor) / factor; let j = 0; if (minDefined) { if (includeBounds && niceMin !== min) { ticks.push({value: min}); if (niceMin < min) { j++; } if (almostEquals(Math.round((niceMin + j * spacing) * factor) / factor, min, relativeLabelSize(min, minSpacing, generationOptions))) { j++; } } else if (niceMin < min) { j++; } } for (; j < numSpaces; ++j) { ticks.push({value: Math.round((niceMin + j * spacing) * factor) / factor}); } if (maxDefined && includeBounds && niceMax !== max) { if (ticks.length && almostEquals(ticks[ticks.length - 1].value, max, relativeLabelSize(max, minSpacing, generationOptions))) { ticks[ticks.length - 1].value = max; } else { ticks.push({value: max}); } } else if (!maxDefined || niceMax === max) { ticks.push({value: niceMax}); } return ticks; } function relativeLabelSize(value, minSpacing, {horizontal, minRotation}) { const rad = toRadians(minRotation); const ratio = (horizontal ? Math.sin(rad) : Math.cos(rad)) || 0.001; const length = 0.75 * minSpacing * ('' + value).length; return Math.min(minSpacing / ratio, length); } class LinearScaleBase extends Scale { constructor(cfg) { super(cfg); this.start = undefined; this.end = undefined; this._startValue = undefined; this._endValue = undefined; this._valueRange = 0; } parse(raw, index) { if (isNullOrUndef(raw)) { return null; } if ((typeof raw === 'number' || raw instanceof Number) && !isFinite(+raw)) { return null; } return +raw; } handleTickRangeOptions() { const {beginAtZero} = this.options; const {minDefined, maxDefined} = this.getUserBounds(); let {min, max} = this; const setMin = v => (min = minDefined ? min : v); const setMax = v => (max = maxDefined ? max : v); if (beginAtZero) { const minSign = sign(min); const maxSign = sign(max); if (minSign < 0 && maxSign < 0) { setMax(0); } else if (minSign > 0 && maxSign > 0) { setMin(0); } } if (min === max) { let offset = 1; if (max >= Number.MAX_SAFE_INTEGER || min <= Number.MIN_SAFE_INTEGER) { offset = Math.abs(max * 0.05); } setMax(max + offset); if (!beginAtZero) { setMin(min - offset); } } this.min = min; this.max = max; } getTickLimit() { const tickOpts = this.options.ticks; let {maxTicksLimit, stepSize} = tickOpts; let maxTicks; if (stepSize) { maxTicks = Math.ceil(this.max / stepSize) - Math.floor(this.min / stepSize) + 1; if (maxTicks > 1000) { console.warn(`scales.${this.id}.ticks.stepSize: ${stepSize} would result generating up to ${maxTicks} ticks. Limiting to 1000.`); maxTicks = 1000; } } else { maxTicks = this.computeTickLimit(); maxTicksLimit = maxTicksLimit || 11; } if (maxTicksLimit) { maxTicks = Math.min(maxTicksLimit, maxTicks); } return maxTicks; } computeTickLimit() { return Number.POSITIVE_INFINITY; } buildTicks() { const opts = this.options; const tickOpts = opts.ticks; let maxTicks = this.getTickLimit(); maxTicks = Math.max(2, maxTicks); const numericGeneratorOptions = { maxTicks, bounds: opts.bounds, min: opts.min, max: opts.max, precision: tickOpts.precision, step: tickOpts.stepSize, count: tickOpts.count, maxDigits: this._maxDigits(), horizontal: this.isHorizontal(), minRotation: tickOpts.minRotation || 0, includeBounds: tickOpts.includeBounds !== false }; const dataRange = this._range || this; const ticks = generateTicks$1(numericGeneratorOptions, dataRange); if (opts.bounds === 'ticks') { _setMinAndMaxByKey(ticks, this, 'value'); } if (opts.reverse) { ticks.reverse(); this.start = this.max; this.end = this.min; } else { this.start = this.min; this.end = this.max; } return ticks; } configure() { const ticks = this.ticks; let start = this.min; let end = this.max; super.configure(); if (this.options.offset && ticks.length) { const offset = (end - start) / Math.max(ticks.length - 1, 1) / 2; start -= offset; end += offset; } this._startValue = start; this._endValue = end; this._valueRange = end - start; } getLabelForValue(value) { return formatNumber(value, this.chart.options.locale, this.options.ticks.format); } } class LinearScale extends LinearScaleBase { determineDataLimits() { const {min, max} = this.getMinMax(true); this.min = isNumberFinite(min) ? min : 0; this.max = isNumberFinite(max) ? max : 1; this.handleTickRangeOptions(); } computeTickLimit() { const horizontal = this.isHorizontal(); const length = horizontal ? this.width : this.height; const minRotation = toRadians(this.options.ticks.minRotation); const ratio = (horizontal ? Math.sin(minRotation) : Math.cos(minRotation)) || 0.001; const tickFont = this._resolveTickFontOptions(0); return Math.ceil(length / Math.min(40, tickFont.lineHeight / ratio)); } getPixelForValue(value) { return value === null ? NaN : this.getPixelForDecimal((value - this._startValue) / this._valueRange); } getValueForPixel(pixel) { return this._startValue + this.getDecimalForPixel(pixel) * this._valueRange; } } LinearScale.id = 'linear'; LinearScale.defaults = { ticks: { callback: Ticks.formatters.numeric } }; function isMajor(tickVal) { const remain = tickVal / (Math.pow(10, Math.floor(log10(tickVal)))); return remain === 1; } function generateTicks(generationOptions, dataRange) { const endExp = Math.floor(log10(dataRange.max)); const endSignificand = Math.ceil(dataRange.max / Math.pow(10, endExp)); const ticks = []; let tickVal = finiteOrDefault(generationOptions.min, Math.pow(10, Math.floor(log10(dataRange.min)))); let exp = Math.floor(log10(tickVal)); let significand = Math.floor(tickVal / Math.pow(10, exp)); let precision = exp < 0 ? Math.pow(10, Math.abs(exp)) : 1; do { ticks.push({value: tickVal, major: isMajor(tickVal)}); ++significand; if (significand === 10) { significand = 1; ++exp; precision = exp >= 0 ? 1 : precision; } tickVal = Math.round(significand * Math.pow(10, exp) * precision) / precision; } while (exp < endExp || (exp === endExp && significand < endSignificand)); const lastTick = finiteOrDefault(generationOptions.max, tickVal); ticks.push({value: lastTick, major: isMajor(tickVal)}); return ticks; } class LogarithmicScale extends Scale { constructor(cfg) { super(cfg); this.start = undefined; this.end = undefined; this._startValue = undefined; this._valueRange = 0; } parse(raw, index) { const value = LinearScaleBase.prototype.parse.apply(this, [raw, index]); if (value === 0) { this._zero = true; return undefined; } return isNumberFinite(value) && value > 0 ? value : null; } determineDataLimits() { const {min, max} = this.getMinMax(true); this.min = isNumberFinite(min) ? Math.max(0, min) : null; this.max = isNumberFinite(max) ? Math.max(0, max) : null; if (this.options.beginAtZero) { this._zero = true; } this.handleTickRangeOptions(); } handleTickRangeOptions() { const {minDefined, maxDefined} = this.getUserBounds(); let min = this.min; let max = this.max; const setMin = v => (min = minDefined ? min : v); const setMax = v => (max = maxDefined ? max : v); const exp = (v, m) => Math.pow(10, Math.floor(log10(v)) + m); if (min === max) { if (min <= 0) { setMin(1); setMax(10); } else { setMin(exp(min, -1)); setMax(exp(max, +1)); } } if (min <= 0) { setMin(exp(max, -1)); } if (max <= 0) { setMax(exp(min, +1)); } if (this._zero && this.min !== this._suggestedMin && min === exp(this.min, 0)) { setMin(exp(min, -1)); } this.min = min; this.max = max; } buildTicks() { const opts = this.options; const generationOptions = { min: this._userMin, max: this._userMax }; const ticks = generateTicks(generationOptions, this); if (opts.bounds === 'ticks') { _setMinAndMaxByKey(ticks, this, 'value'); } if (opts.reverse) { ticks.reverse(); this.start = this.max; this.end = this.min; } else { this.start = this.min; this.end = this.max; } return ticks; } getLabelForValue(value) { return value === undefined ? '0' : formatNumber(value, this.chart.options.locale, this.options.ticks.format); } configure() { const start = this.min; super.configure(); this._startValue = log10(start); this._valueRange = log10(this.max) - log10(start); } getPixelForValue(value) { if (value === undefined || value === 0) { value = this.min; } if (value === null || isNaN(value)) { return NaN; } return this.getPixelForDecimal(value === this.min ? 0 : (log10(value) - this._startValue) / this._valueRange); } getValueForPixel(pixel) { const decimal = this.getDecimalForPixel(pixel); return Math.pow(10, this._startValue + decimal * this._valueRange); } } LogarithmicScale.id = 'logarithmic'; LogarithmicScale.defaults = { ticks: { callback: Ticks.formatters.logarithmic, major: { enabled: true } } }; function getTickBackdropHeight(opts) { const tickOpts = opts.ticks; if (tickOpts.display && opts.display) { const padding = toPadding(tickOpts.backdropPadding); return valueOrDefault(tickOpts.font && tickOpts.font.size, defaults.font.size) + padding.height; } return 0; } function measureLabelSize(ctx, font, label) { label = isArray(label) ? label : [label]; return { w: _longestText(ctx, font.string, label), h: label.length * font.lineHeight }; } function determineLimits(angle, pos, size, min, max) { if (angle === min || angle === max) { return { start: pos - (size / 2), end: pos + (size / 2) }; } else if (angle < min || angle > max) { return { start: pos - size, end: pos }; } return { start: pos, end: pos + size }; } function fitWithPointLabels(scale) { const orig = { l: scale.left + scale._padding.left, r: scale.right - scale._padding.right, t: scale.top + scale._padding.top, b: scale.bottom - scale._padding.bottom }; const limits = Object.assign({}, orig); const labelSizes = []; const padding = []; const valueCount = scale._pointLabels.length; const pointLabelOpts = scale.options.pointLabels; const additionalAngle = pointLabelOpts.centerPointLabels ? PI / valueCount : 0; for (let i = 0; i < valueCount; i++) { const opts = pointLabelOpts.setContext(scale.getPointLabelContext(i)); padding[i] = opts.padding; const pointPosition = scale.getPointPosition(i, scale.drawingArea + padding[i], additionalAngle); const plFont = toFont(opts.font); const textSize = measureLabelSize(scale.ctx, plFont, scale._pointLabels[i]); labelSizes[i] = textSize; const angleRadians = _normalizeAngle(scale.getIndexAngle(i) + additionalAngle); const angle = Math.round(toDegrees(angleRadians)); const hLimits = determineLimits(angle, pointPosition.x, textSize.w, 0, 180); const vLimits = determineLimits(angle, pointPosition.y, textSize.h, 90, 270); updateLimits(limits, orig, angleRadians, hLimits, vLimits); } scale.setCenterPoint( orig.l - limits.l, limits.r - orig.r, orig.t - limits.t, limits.b - orig.b ); scale._pointLabelItems = buildPointLabelItems(scale, labelSizes, padding); } function updateLimits(limits, orig, angle, hLimits, vLimits) { const sin = Math.abs(Math.sin(angle)); const cos = Math.abs(Math.cos(angle)); let x = 0; let y = 0; if (hLimits.start < orig.l) { x = (orig.l - hLimits.start) / sin; limits.l = Math.min(limits.l, orig.l - x); } else if (hLimits.end > orig.r) { x = (hLimits.end - orig.r) / sin; limits.r = Math.max(limits.r, orig.r + x); } if (vLimits.start < orig.t) { y = (orig.t - vLimits.start) / cos; limits.t = Math.min(limits.t, orig.t - y); } else if (vLimits.end > orig.b) { y = (vLimits.end - orig.b) / cos; limits.b = Math.max(limits.b, orig.b + y); } } function buildPointLabelItems(scale, labelSizes, padding) { const items = []; const valueCount = scale._pointLabels.length; const opts = scale.options; const extra = getTickBackdropHeight(opts) / 2; const outerDistance = scale.drawingArea; const additionalAngle = opts.pointLabels.centerPointLabels ? PI / valueCount : 0; for (let i = 0; i < valueCount; i++) { const pointLabelPosition = scale.getPointPosition(i, outerDistance + extra + padding[i], additionalAngle); const angle = Math.round(toDegrees(_normalizeAngle(pointLabelPosition.angle + HALF_PI))); const size = labelSizes[i]; const y = yForAngle(pointLabelPosition.y, size.h, angle); const textAlign = getTextAlignForAngle(angle); const left = leftForTextAlign(pointLabelPosition.x, size.w, textAlign); items.push({ x: pointLabelPosition.x, y, textAlign, left, top: y, right: left + size.w, bottom: y + size.h }); } return items; } function getTextAlignForAngle(angle) { if (angle === 0 || angle === 180) { return 'center'; } else if (angle < 180) { return 'left'; } return 'right'; } function leftForTextAlign(x, w, align) { if (align === 'right') { x -= w; } else if (align === 'center') { x -= (w / 2); } return x; } function yForAngle(y, h, angle) { if (angle === 90 || angle === 270) { y -= (h / 2); } else if (angle > 270 || angle < 90) { y -= h; } return y; } function drawPointLabels(scale, labelCount) { const {ctx, options: {pointLabels}} = scale; for (let i = labelCount - 1; i >= 0; i--) { const optsAtIndex = pointLabels.setContext(scale.getPointLabelContext(i)); const plFont = toFont(optsAtIndex.font); const {x, y, textAlign, left, top, right, bottom} = scale._pointLabelItems[i]; const {backdropColor} = optsAtIndex; if (!isNullOrUndef(backdropColor)) { const borderRadius = toTRBLCorners(optsAtIndex.borderRadius); const padding = toPadding(optsAtIndex.backdropPadding); ctx.fillStyle = backdropColor; const backdropLeft = left - padding.left; const backdropTop = top - padding.top; const backdropWidth = right - left + padding.width; const backdropHeight = bottom - top + padding.height; if (Object.values(borderRadius).some(v => v !== 0)) { ctx.beginPath(); addRoundedRectPath(ctx, { x: backdropLeft, y: backdropTop, w: backdropWidth, h: backdropHeight, radius: borderRadius, }); ctx.fill(); } else { ctx.fillRect(backdropLeft, backdropTop, backdropWidth, backdropHeight); } } renderText( ctx, scale._pointLabels[i], x, y + (plFont.lineHeight / 2), plFont, { color: optsAtIndex.color, textAlign: textAlign, textBaseline: 'middle' } ); } } function pathRadiusLine(scale, radius, circular, labelCount) { const {ctx} = scale; if (circular) { ctx.arc(scale.xCenter, scale.yCenter, radius, 0, TAU); } else { let pointPosition = scale.getPointPosition(0, radius); ctx.moveTo(pointPosition.x, pointPosition.y); for (let i = 1; i < labelCount; i++) { pointPosition = scale.getPointPosition(i, radius); ctx.lineTo(pointPosition.x, pointPosition.y); } } } function drawRadiusLine(scale, gridLineOpts, radius, labelCount) { const ctx = scale.ctx; const circular = gridLineOpts.circular; const {color, lineWidth} = gridLineOpts; if ((!circular && !labelCount) || !color || !lineWidth || radius < 0) { return; } ctx.save(); ctx.strokeStyle = color; ctx.lineWidth = lineWidth; ctx.setLineDash(gridLineOpts.borderDash); ctx.lineDashOffset = gridLineOpts.borderDashOffset; ctx.beginPath(); pathRadiusLine(scale, radius, circular, labelCount); ctx.closePath(); ctx.stroke(); ctx.restore(); } function createPointLabelContext(parent, index, label) { return createContext(parent, { label, index, type: 'pointLabel' }); } class RadialLinearScale extends LinearScaleBase { constructor(cfg) { super(cfg); this.xCenter = undefined; this.yCenter = undefined; this.drawingArea = undefined; this._pointLabels = []; this._pointLabelItems = []; } setDimensions() { const padding = this._padding = toPadding(getTickBackdropHeight(this.options) / 2); const w = this.width = this.maxWidth - padding.width; const h = this.height = this.maxHeight - padding.height; this.xCenter = Math.floor(this.left + w / 2 + padding.left); this.yCenter = Math.floor(this.top + h / 2 + padding.top); this.drawingArea = Math.floor(Math.min(w, h) / 2); } determineDataLimits() { const {min, max} = this.getMinMax(false); this.min = isNumberFinite(min) && !isNaN(min) ? min : 0; this.max = isNumberFinite(max) && !isNaN(max) ? max : 0; this.handleTickRangeOptions(); } computeTickLimit() { return Math.ceil(this.drawingArea / getTickBackdropHeight(this.options)); } generateTickLabels(ticks) { LinearScaleBase.prototype.generateTickLabels.call(this, ticks); this._pointLabels = this.getLabels() .map((value, index) => { const label = callback(this.options.pointLabels.callback, [value, index], this); return label || label === 0 ? label : ''; }) .filter((v, i) => this.chart.getDataVisibility(i)); } fit() { const opts = this.options; if (opts.display && opts.pointLabels.display) { fitWithPointLabels(this); } else { this.setCenterPoint(0, 0, 0, 0); } } setCenterPoint(leftMovement, rightMovement, topMovement, bottomMovement) { this.xCenter += Math.floor((leftMovement - rightMovement) / 2); this.yCenter += Math.floor((topMovement - bottomMovement) / 2); this.drawingArea -= Math.min(this.drawingArea / 2, Math.max(leftMovement, rightMovement, topMovement, bottomMovement)); } getIndexAngle(index) { const angleMultiplier = TAU / (this._pointLabels.length || 1); const startAngle = this.options.startAngle || 0; return _normalizeAngle(index * angleMultiplier + toRadians(startAngle)); } getDistanceFromCenterForValue(value) { if (isNullOrUndef(value)) { return NaN; } const scalingFactor = this.drawingArea / (this.max - this.min); if (this.options.reverse) { return (this.max - value) * scalingFactor; } return (value - this.min) * scalingFactor; } getValueForDistanceFromCenter(distance) { if (isNullOrUndef(distance)) { return NaN; } const scaledDistance = distance / (this.drawingArea / (this.max - this.min)); return this.options.reverse ? this.max - scaledDistance : this.min + scaledDistance; } getPointLabelContext(index) { const pointLabels = this._pointLabels || []; if (index >= 0 && index < pointLabels.length) { const pointLabel = pointLabels[index]; return createPointLabelContext(this.getContext(), index, pointLabel); } } getPointPosition(index, distanceFromCenter, additionalAngle = 0) { const angle = this.getIndexAngle(index) - HALF_PI + additionalAngle; return { x: Math.cos(angle) * distanceFromCenter + this.xCenter, y: Math.sin(angle) * distanceFromCenter + this.yCenter, angle }; } getPointPositionForValue(index, value) { return this.getPointPosition(index, this.getDistanceFromCenterForValue(value)); } getBasePosition(index) { return this.getPointPositionForValue(index || 0, this.getBaseValue()); } getPointLabelPosition(index) { const {left, top, right, bottom} = this._pointLabelItems[index]; return { left, top, right, bottom, }; } drawBackground() { const {backgroundColor, grid: {circular}} = this.options; if (backgroundColor) { const ctx = this.ctx; ctx.save(); ctx.beginPath(); pathRadiusLine(this, this.getDistanceFromCenterForValue(this._endValue), circular, this._pointLabels.length); ctx.closePath(); ctx.fillStyle = backgroundColor; ctx.fill(); ctx.restore(); } } drawGrid() { const ctx = this.ctx; const opts = this.options; const {angleLines, grid} = opts; const labelCount = this._pointLabels.length; let i, offset, position; if (opts.pointLabels.display) { drawPointLabels(this, labelCount); } if (grid.display) { this.ticks.forEach((tick, index) => { if (index !== 0) { offset = this.getDistanceFromCenterForValue(tick.value); const optsAtIndex = grid.setContext(this.getContext(index - 1)); drawRadiusLine(this, optsAtIndex, offset, labelCount); } }); } if (angleLines.display) { ctx.save(); for (i = labelCount - 1; i >= 0; i--) { const optsAtIndex = angleLines.setContext(this.getPointLabelContext(i)); const {color, lineWidth} = optsAtIndex; if (!lineWidth || !color) { continue; } ctx.lineWidth = lineWidth; ctx.strokeStyle = color; ctx.setLineDash(optsAtIndex.borderDash); ctx.lineDashOffset = optsAtIndex.borderDashOffset; offset = this.getDistanceFromCenterForValue(opts.ticks.reverse ? this.min : this.max); position = this.getPointPosition(i, offset); ctx.beginPath(); ctx.moveTo(this.xCenter, this.yCenter); ctx.lineTo(position.x, position.y); ctx.stroke(); } ctx.restore(); } } drawBorder() {} drawLabels() { const ctx = this.ctx; const opts = this.options; const tickOpts = opts.ticks; if (!tickOpts.display) { return; } const startAngle = this.getIndexAngle(0); let offset, width; ctx.save(); ctx.translate(this.xCenter, this.yCenter); ctx.rotate(startAngle); ctx.textAlign = 'center'; ctx.textBaseline = 'middle'; this.ticks.forEach((tick, index) => { if (index === 0 && !opts.reverse) { return; } const optsAtIndex = tickOpts.setContext(this.getContext(index)); const tickFont = toFont(optsAtIndex.font); offset = this.getDistanceFromCenterForValue(this.ticks[index].value); if (optsAtIndex.showLabelBackdrop) { ctx.font = tickFont.string; width = ctx.measureText(tick.label).width; ctx.fillStyle = optsAtIndex.backdropColor; const padding = toPadding(optsAtIndex.backdropPadding); ctx.fillRect( -width / 2 - padding.left, -offset - tickFont.size / 2 - padding.top, width + padding.width, tickFont.size + padding.height ); } renderText(ctx, tick.label, 0, -offset, tickFont, { color: optsAtIndex.color, }); }); ctx.restore(); } drawTitle() {} } RadialLinearScale.id = 'radialLinear'; RadialLinearScale.defaults = { display: true, animate: true, position: 'chartArea', angleLines: { display: true, lineWidth: 1, borderDash: [], borderDashOffset: 0.0 }, grid: { circular: false }, startAngle: 0, ticks: { showLabelBackdrop: true, callback: Ticks.formatters.numeric }, pointLabels: { backdropColor: undefined, backdropPadding: 2, display: true, font: { size: 10 }, callback(label) { return label; }, padding: 5, centerPointLabels: false } }; RadialLinearScale.defaultRoutes = { 'angleLines.color': 'borderColor', 'pointLabels.color': 'color', 'ticks.color': 'color' }; RadialLinearScale.descriptors = { angleLines: { _fallback: 'grid' } }; const INTERVALS = { millisecond: {common: true, size: 1, steps: 1000}, second: {common: true, size: 1000, steps: 60}, minute: {common: true, size: 60000, steps: 60}, hour: {common: true, size: 3600000, steps: 24}, day: {common: true, size: 86400000, steps: 30}, week: {common: false, size: 604800000, steps: 4}, month: {common: true, size: 2.628e9, steps: 12}, quarter: {common: false, size: 7.884e9, steps: 4}, year: {common: true, size: 3.154e10} }; const UNITS = (Object.keys(INTERVALS)); function sorter(a, b) { return a - b; } function parse(scale, input) { if (isNullOrUndef(input)) { return null; } const adapter = scale._adapter; const {parser, round, isoWeekday} = scale._parseOpts; let value = input; if (typeof parser === 'function') { value = parser(value); } if (!isNumberFinite(value)) { value = typeof parser === 'string' ? adapter.parse(value, parser) : adapter.parse(value); } if (value === null) { return null; } if (round) { value = round === 'week' && (isNumber(isoWeekday) || isoWeekday === true) ? adapter.startOf(value, 'isoWeek', isoWeekday) : adapter.startOf(value, round); } return +value; } function determineUnitForAutoTicks(minUnit, min, max, capacity) { const ilen = UNITS.length; for (let i = UNITS.indexOf(minUnit); i < ilen - 1; ++i) { const interval = INTERVALS[UNITS[i]]; const factor = interval.steps ? interval.steps : Number.MAX_SAFE_INTEGER; if (interval.common && Math.ceil((max - min) / (factor * interval.size)) <= capacity) { return UNITS[i]; } } return UNITS[ilen - 1]; } function determineUnitForFormatting(scale, numTicks, minUnit, min, max) { for (let i = UNITS.length - 1; i >= UNITS.indexOf(minUnit); i--) { const unit = UNITS[i]; if (INTERVALS[unit].common && scale._adapter.diff(max, min, unit) >= numTicks - 1) { return unit; } } return UNITS[minUnit ? UNITS.indexOf(minUnit) : 0]; } function determineMajorUnit(unit) { for (let i = UNITS.indexOf(unit) + 1, ilen = UNITS.length; i < ilen; ++i) { if (INTERVALS[UNITS[i]].common) { return UNITS[i]; } } } function addTick(ticks, time, timestamps) { if (!timestamps) { ticks[time] = true; } else if (timestamps.length) { const {lo, hi} = _lookup(timestamps, time); const timestamp = timestamps[lo] >= time ? timestamps[lo] : timestamps[hi]; ticks[timestamp] = true; } } function setMajorTicks(scale, ticks, map, majorUnit) { const adapter = scale._adapter; const first = +adapter.startOf(ticks[0].value, majorUnit); const last = ticks[ticks.length - 1].value; let major, index; for (major = first; major <= last; major = +adapter.add(major, 1, majorUnit)) { index = map[major]; if (index >= 0) { ticks[index].major = true; } } return ticks; } function ticksFromTimestamps(scale, values, majorUnit) { const ticks = []; const map = {}; const ilen = values.length; let i, value; for (i = 0; i < ilen; ++i) { value = values[i]; map[value] = i; ticks.push({ value, major: false }); } return (ilen === 0 || !majorUnit) ? ticks : setMajorTicks(scale, ticks, map, majorUnit); } class TimeScale extends Scale { constructor(props) { super(props); this._cache = { data: [], labels: [], all: [] }; this._unit = 'day'; this._majorUnit = undefined; this._offsets = {}; this._normalized = false; this._parseOpts = undefined; } init(scaleOpts, opts) { const time = scaleOpts.time || (scaleOpts.time = {}); const adapter = this._adapter = new adapters._date(scaleOpts.adapters.date); adapter.init(opts); mergeIf(time.displayFormats, adapter.formats()); this._parseOpts = { parser: time.parser, round: time.round, isoWeekday: time.isoWeekday }; super.init(scaleOpts); this._normalized = opts.normalized; } parse(raw, index) { if (raw === undefined) { return null; } return parse(this, raw); } beforeLayout() { super.beforeLayout(); this._cache = { data: [], labels: [], all: [] }; } determineDataLimits() { const options = this.options; const adapter = this._adapter; const unit = options.time.unit || 'day'; let {min, max, minDefined, maxDefined} = this.getUserBounds(); function _applyBounds(bounds) { if (!minDefined && !isNaN(bounds.min)) { min = Math.min(min, bounds.min); } if (!maxDefined && !isNaN(bounds.max)) { max = Math.max(max, bounds.max); } } if (!minDefined || !maxDefined) { _applyBounds(this._getLabelBounds()); if (options.bounds !== 'ticks' || options.ticks.source !== 'labels') { _applyBounds(this.getMinMax(false)); } } min = isNumberFinite(min) && !isNaN(min) ? min : +adapter.startOf(Date.now(), unit); max = isNumberFinite(max) && !isNaN(max) ? max : +adapter.endOf(Date.now(), unit) + 1; this.min = Math.min(min, max - 1); this.max = Math.max(min + 1, max); } _getLabelBounds() { const arr = this.getLabelTimestamps(); let min = Number.POSITIVE_INFINITY; let max = Number.NEGATIVE_INFINITY; if (arr.length) { min = arr[0]; max = arr[arr.length - 1]; } return {min, max}; } buildTicks() { const options = this.options; const timeOpts = options.time; const tickOpts = options.ticks; const timestamps = tickOpts.source === 'labels' ? this.getLabelTimestamps() : this._generate(); if (options.bounds === 'ticks' && timestamps.length) { this.min = this._userMin || timestamps[0]; this.max = this._userMax || timestamps[timestamps.length - 1]; } const min = this.min; const max = this.max; const ticks = _filterBetween(timestamps, min, max); this._unit = timeOpts.unit || (tickOpts.autoSkip ? determineUnitForAutoTicks(timeOpts.minUnit, this.min, this.max, this._getLabelCapacity(min)) : determineUnitForFormatting(this, ticks.length, timeOpts.minUnit, this.min, this.max)); this._majorUnit = !tickOpts.major.enabled || this._unit === 'year' ? undefined : determineMajorUnit(this._unit); this.initOffsets(timestamps); if (options.reverse) { ticks.reverse(); } return ticksFromTimestamps(this, ticks, this._majorUnit); } afterAutoSkip() { if (this.options.offsetAfterAutoskip) { this.initOffsets(this.ticks.map(tick => +tick.value)); } } initOffsets(timestamps) { let start = 0; let end = 0; let first, last; if (this.options.offset && timestamps.length) { first = this.getDecimalForValue(timestamps[0]); if (timestamps.length === 1) { start = 1 - first; } else { start = (this.getDecimalForValue(timestamps[1]) - first) / 2; } last = this.getDecimalForValue(timestamps[timestamps.length - 1]); if (timestamps.length === 1) { end = last; } else { end = (last - this.getDecimalForValue(timestamps[timestamps.length - 2])) / 2; } } const limit = timestamps.length < 3 ? 0.5 : 0.25; start = _limitValue(start, 0, limit); end = _limitValue(end, 0, limit); this._offsets = {start, end, factor: 1 / (start + 1 + end)}; } _generate() { const adapter = this._adapter; const min = this.min; const max = this.max; const options = this.options; const timeOpts = options.time; const minor = timeOpts.unit || determineUnitForAutoTicks(timeOpts.minUnit, min, max, this._getLabelCapacity(min)); const stepSize = valueOrDefault(timeOpts.stepSize, 1); const weekday = minor === 'week' ? timeOpts.isoWeekday : false; const hasWeekday = isNumber(weekday) || weekday === true; const ticks = {}; let first = min; let time, count; if (hasWeekday) { first = +adapter.startOf(first, 'isoWeek', weekday); } first = +adapter.startOf(first, hasWeekday ? 'day' : minor); if (adapter.diff(max, min, minor) > 100000 * stepSize) { throw new Error(min + ' and ' + max + ' are too far apart with stepSize of ' + stepSize + ' ' + minor); } const timestamps = options.ticks.source === 'data' && this.getDataTimestamps(); for (time = first, count = 0; time < max; time = +adapter.add(time, stepSize, minor), count++) { addTick(ticks, time, timestamps); } if (time === max || options.bounds === 'ticks' || count === 1) { addTick(ticks, time, timestamps); } return Object.keys(ticks).sort((a, b) => a - b).map(x => +x); } getLabelForValue(value) { const adapter = this._adapter; const timeOpts = this.options.time; if (timeOpts.tooltipFormat) { return adapter.format(value, timeOpts.tooltipFormat); } return adapter.format(value, timeOpts.displayFormats.datetime); } _tickFormatFunction(time, index, ticks, format) { const options = this.options; const formats = options.time.displayFormats; const unit = this._unit; const majorUnit = this._majorUnit; const minorFormat = unit && formats[unit]; const majorFormat = majorUnit && formats[majorUnit]; const tick = ticks[index]; const major = majorUnit && majorFormat && tick && tick.major; const label = this._adapter.format(time, format || (major ? majorFormat : minorFormat)); const formatter = options.ticks.callback; return formatter ? callback(formatter, [label, index, ticks], this) : label; } generateTickLabels(ticks) { let i, ilen, tick; for (i = 0, ilen = ticks.length; i < ilen; ++i) { tick = ticks[i]; tick.label = this._tickFormatFunction(tick.value, i, ticks); } } getDecimalForValue(value) { return value === null ? NaN : (value - this.min) / (this.max - this.min); } getPixelForValue(value) { const offsets = this._offsets; const pos = this.getDecimalForValue(value); return this.getPixelForDecimal((offsets.start + pos) * offsets.factor); } getValueForPixel(pixel) { const offsets = this._offsets; const pos = this.getDecimalForPixel(pixel) / offsets.factor - offsets.end; return this.min + pos * (this.max - this.min); } _getLabelSize(label) { const ticksOpts = this.options.ticks; const tickLabelWidth = this.ctx.measureText(label).width; const angle = toRadians(this.isHorizontal() ? ticksOpts.maxRotation : ticksOpts.minRotation); const cosRotation = Math.cos(angle); const sinRotation = Math.sin(angle); const tickFontSize = this._resolveTickFontOptions(0).size; return { w: (tickLabelWidth * cosRotation) + (tickFontSize * sinRotation), h: (tickLabelWidth * sinRotation) + (tickFontSize * cosRotation) }; } _getLabelCapacity(exampleTime) { const timeOpts = this.options.time; const displayFormats = timeOpts.displayFormats; const format = displayFormats[timeOpts.unit] || displayFormats.millisecond; const exampleLabel = this._tickFormatFunction(exampleTime, 0, ticksFromTimestamps(this, [exampleTime], this._majorUnit), format); const size = this._getLabelSize(exampleLabel); const capacity = Math.floor(this.isHorizontal() ? this.width / size.w : this.height / size.h) - 1; return capacity > 0 ? capacity : 1; } getDataTimestamps() { let timestamps = this._cache.data || []; let i, ilen; if (timestamps.length) { return timestamps; } const metas = this.getMatchingVisibleMetas(); if (this._normalized && metas.length) { return (this._cache.data = metas[0].controller.getAllParsedValues(this)); } for (i = 0, ilen = metas.length; i < ilen; ++i) { timestamps = timestamps.concat(metas[i].controller.getAllParsedValues(this)); } return (this._cache.data = this.normalize(timestamps)); } getLabelTimestamps() { const timestamps = this._cache.labels || []; let i, ilen; if (timestamps.length) { return timestamps; } const labels = this.getLabels(); for (i = 0, ilen = labels.length; i < ilen; ++i) { timestamps.push(parse(this, labels[i])); } return (this._cache.labels = this._normalized ? timestamps : this.normalize(timestamps)); } normalize(values) { return _arrayUnique(values.sort(sorter)); } } TimeScale.id = 'time'; TimeScale.defaults = { bounds: 'data', adapters: {}, time: { parser: false, unit: false, round: false, isoWeekday: false, minUnit: 'millisecond', displayFormats: {} }, ticks: { source: 'auto', major: { enabled: false } } }; function interpolate(table, val, reverse) { let lo = 0; let hi = table.length - 1; let prevSource, nextSource, prevTarget, nextTarget; if (reverse) { if (val >= table[lo].pos && val <= table[hi].pos) { ({lo, hi} = _lookupByKey(table, 'pos', val)); } ({pos: prevSource, time: prevTarget} = table[lo]); ({pos: nextSource, time: nextTarget} = table[hi]); } else { if (val >= table[lo].time && val <= table[hi].time) { ({lo, hi} = _lookupByKey(table, 'time', val)); } ({time: prevSource, pos: prevTarget} = table[lo]); ({time: nextSource, pos: nextTarget} = table[hi]); } const span = nextSource - prevSource; return span ? prevTarget + (nextTarget - prevTarget) * (val - prevSource) / span : prevTarget; } class TimeSeriesScale extends TimeScale { constructor(props) { super(props); this._table = []; this._minPos = undefined; this._tableRange = undefined; } initOffsets() { const timestamps = this._getTimestampsForTable(); const table = this._table = this.buildLookupTable(timestamps); this._minPos = interpolate(table, this.min); this._tableRange = interpolate(table, this.max) - this._minPos; super.initOffsets(timestamps); } buildLookupTable(timestamps) { const {min, max} = this; const items = []; const table = []; let i, ilen, prev, curr, next; for (i = 0, ilen = timestamps.length; i < ilen; ++i) { curr = timestamps[i]; if (curr >= min && curr <= max) { items.push(curr); } } if (items.length < 2) { return [ {time: min, pos: 0}, {time: max, pos: 1} ]; } for (i = 0, ilen = items.length; i < ilen; ++i) { next = items[i + 1]; prev = items[i - 1]; curr = items[i]; if (Math.round((next + prev) / 2) !== curr) { table.push({time: curr, pos: i / (ilen - 1)}); } } return table; } _getTimestampsForTable() { let timestamps = this._cache.all || []; if (timestamps.length) { return timestamps; } const data = this.getDataTimestamps(); const label = this.getLabelTimestamps(); if (data.length && label.length) { timestamps = this.normalize(data.concat(label)); } else { timestamps = data.length ? data : label; } timestamps = this._cache.all = timestamps; return timestamps; } getDecimalForValue(value) { return (interpolate(this._table, value) - this._minPos) / this._tableRange; } getValueForPixel(pixel) { const offsets = this._offsets; const decimal = this.getDecimalForPixel(pixel) / offsets.factor - offsets.end; return interpolate(this._table, decimal * this._tableRange + this._minPos, true); } } TimeSeriesScale.id = 'timeseries'; TimeSeriesScale.defaults = TimeScale.defaults; var scales = /*#__PURE__*/Object.freeze({ __proto__: null, CategoryScale: CategoryScale, LinearScale: LinearScale, LogarithmicScale: LogarithmicScale, RadialLinearScale: RadialLinearScale, TimeScale: TimeScale, TimeSeriesScale: TimeSeriesScale }); const registerables = [ controllers, elements, plugins, scales, ]; export { Animation, Animations, ArcElement, BarController, BarElement, BasePlatform, BasicPlatform, BubbleController, CategoryScale, Chart, DatasetController, plugin_decimation as Decimation, DomPlatform, DoughnutController, Element, index as Filler, Interaction, plugin_legend as Legend, LineController, LineElement, LinearScale, LogarithmicScale, PieController, PointElement, PolarAreaController, RadarController, RadialLinearScale, Scale, ScatterController, plugin_subtitle as SubTitle, Ticks, TimeScale, TimeSeriesScale, plugin_title as Title, plugin_tooltip as Tooltip, adapters as _adapters, _detectPlatform, animator, controllers, elements, layouts, plugins, registerables, registry, scales }; ",
  "/*! * chartjs-plugin-datalabels v2.2.0 * https://chartjs-plugin-datalabels.netlify.app * (c) 2017-2022 chartjs-plugin-datalabels contributors * Released under the MIT license */ import { isNullOrUndef, merge, toFont, resolve, toPadding, valueOrDefault, callback, isObject, each } from 'chart.js/helpers'; import { defaults as defaults$1, ArcElement, PointElement, BarElement } from 'chart.js'; var devicePixelRatio = (function() { if (typeof window !== 'undefined') { if (window.devicePixelRatio) { return window.devicePixelRatio; } // devicePixelRatio is undefined on IE10 // https://stackoverflow.com/a/20204180/8837887 // https://github.com/chartjs/chartjs-plugin-datalabels/issues/85 var screen = window.screen; if (screen) { return (screen.deviceXDPI || 1) / (screen.logicalXDPI || 1); } } return 1; }()); var utils = { // @todo move this in Chart.helpers.toTextLines toTextLines: function(inputs) { var lines = []; var input; inputs = [].concat(inputs); while (inputs.length) { input = inputs.pop(); if (typeof input === 'string') { lines.unshift.apply(lines, input.split('\n')); } else if (Array.isArray(input)) { inputs.push.apply(inputs, input); } else if (!isNullOrUndef(inputs)) { lines.unshift('' + input); } } return lines; }, // @todo move this in Chart.helpers.canvas.textSize // @todo cache calls of measureText if font doesn't change?! textSize: function(ctx, lines, font) { var items = [].concat(lines); var ilen = items.length; var prev = ctx.font; var width = 0; var i; ctx.font = font.string; for (i = 0; i < ilen; ++i) { width = Math.max(ctx.measureText(items[i]).width, width); } ctx.font = prev; return { height: ilen * font.lineHeight, width: width }; }, /** * Returns value bounded by min and max. This is equivalent to max(min, min(value, max)). * @todo move this method in Chart.helpers.bound * https://doc.qt.io/qt-5/qtglobal.html#qBound */ bound: function(min, value, max) { return Math.max(min, Math.min(value, max)); }, /** * Returns an array of pair [value, state] where state is: * * -1: value is only in a0 (removed) * * 1: value is only in a1 (added) */ arrayDiff: function(a0, a1) { var prev = a0.slice(); var updates = []; var i, j, ilen, v; for (i = 0, ilen = a1.length; i < ilen; ++i) { v = a1[i]; j = prev.indexOf(v); if (j === -1) { updates.push([v, 1]); } else { prev.splice(j, 1); } } for (i = 0, ilen = prev.length; i < ilen; ++i) { updates.push([prev[i], -1]); } return updates; }, /** * https://github.com/chartjs/chartjs-plugin-datalabels/issues/70 */ rasterize: function(v) { return Math.round(v * devicePixelRatio) / devicePixelRatio; } }; function orient(point, origin) { var x0 = origin.x; var y0 = origin.y; if (x0 === null) { return {x: 0, y: -1}; } if (y0 === null) { return {x: 1, y: 0}; } var dx = point.x - x0; var dy = point.y - y0; var ln = Math.sqrt(dx * dx + dy * dy); return { x: ln ? dx / ln : 0, y: ln ? dy / ln : -1 }; } function aligned(x, y, vx, vy, align) { switch (align) { case 'center': vx = vy = 0; break; case 'bottom': vx = 0; vy = 1; break; case 'right': vx = 1; vy = 0; break; case 'left': vx = -1; vy = 0; break; case 'top': vx = 0; vy = -1; break; case 'start': vx = -vx; vy = -vy; break; case 'end': // keep natural orientation break; default: // clockwise rotation (in degree) align *= (Math.PI / 180); vx = Math.cos(align); vy = Math.sin(align); break; } return { x: x, y: y, vx: vx, vy: vy }; } // Line clipping (Cohen–Sutherland algorithm) // https://en.wikipedia.org/wiki/Cohen–Sutherland_algorithm var R_INSIDE = 0; var R_LEFT = 1; var R_RIGHT = 2; var R_BOTTOM = 4; var R_TOP = 8; function region(x, y, rect) { var res = R_INSIDE; if (x < rect.left) { res |= R_LEFT; } else if (x > rect.right) { res |= R_RIGHT; } if (y < rect.top) { res |= R_TOP; } else if (y > rect.bottom) { res |= R_BOTTOM; } return res; } function clipped(segment, area) { var x0 = segment.x0; var y0 = segment.y0; var x1 = segment.x1; var y1 = segment.y1; var r0 = region(x0, y0, area); var r1 = region(x1, y1, area); var r, x, y; // eslint-disable-next-line no-constant-condition while (true) { if (!(r0 | r1) || (r0 & r1)) { // both points inside or on the same side: no clipping break; } // at least one point is outside r = r0 || r1; if (r & R_TOP) { x = x0 + (x1 - x0) * (area.top - y0) / (y1 - y0); y = area.top; } else if (r & R_BOTTOM) { x = x0 + (x1 - x0) * (area.bottom - y0) / (y1 - y0); y = area.bottom; } else if (r & R_RIGHT) { y = y0 + (y1 - y0) * (area.right - x0) / (x1 - x0); x = area.right; } else if (r & R_LEFT) { y = y0 + (y1 - y0) * (area.left - x0) / (x1 - x0); x = area.left; } if (r === r0) { x0 = x; y0 = y; r0 = region(x0, y0, area); } else { x1 = x; y1 = y; r1 = region(x1, y1, area); } } return { x0: x0, x1: x1, y0: y0, y1: y1 }; } function compute$1(range, config) { var anchor = config.anchor; var segment = range; var x, y; if (config.clamp) { segment = clipped(segment, config.area); } if (anchor === 'start') { x = segment.x0; y = segment.y0; } else if (anchor === 'end') { x = segment.x1; y = segment.y1; } else { x = (segment.x0 + segment.x1) / 2; y = (segment.y0 + segment.y1) / 2; } return aligned(x, y, range.vx, range.vy, config.align); } var positioners = { arc: function(el, config) { var angle = (el.startAngle + el.endAngle) / 2; var vx = Math.cos(angle); var vy = Math.sin(angle); var r0 = el.innerRadius; var r1 = el.outerRadius; return compute$1({ x0: el.x + vx * r0, y0: el.y + vy * r0, x1: el.x + vx * r1, y1: el.y + vy * r1, vx: vx, vy: vy }, config); }, point: function(el, config) { var v = orient(el, config.origin); var rx = v.x * el.options.radius; var ry = v.y * el.options.radius; return compute$1({ x0: el.x - rx, y0: el.y - ry, x1: el.x + rx, y1: el.y + ry, vx: v.x, vy: v.y }, config); }, bar: function(el, config) { var v = orient(el, config.origin); var x = el.x; var y = el.y; var sx = 0; var sy = 0; if (el.horizontal) { x = Math.min(el.x, el.base); sx = Math.abs(el.base - el.x); } else { y = Math.min(el.y, el.base); sy = Math.abs(el.base - el.y); } return compute$1({ x0: x, y0: y + sy, x1: x + sx, y1: y, vx: v.x, vy: v.y }, config); }, fallback: function(el, config) { var v = orient(el, config.origin); return compute$1({ x0: el.x, y0: el.y, x1: el.x + (el.width || 0), y1: el.y + (el.height || 0), vx: v.x, vy: v.y }, config); } }; var rasterize = utils.rasterize; function boundingRects(model) { var borderWidth = model.borderWidth || 0; var padding = model.padding; var th = model.size.height; var tw = model.size.width; var tx = -tw / 2; var ty = -th / 2; return { frame: { x: tx - padding.left - borderWidth, y: ty - padding.top - borderWidth, w: tw + padding.width + borderWidth * 2, h: th + padding.height + borderWidth * 2 }, text: { x: tx, y: ty, w: tw, h: th } }; } function getScaleOrigin(el, context) { var scale = context.chart.getDatasetMeta(context.datasetIndex).vScale; if (!scale) { return null; } if (scale.xCenter !== undefined && scale.yCenter !== undefined) { return {x: scale.xCenter, y: scale.yCenter}; } var pixel = scale.getBasePixel(); return el.horizontal ? {x: pixel, y: null} : {x: null, y: pixel}; } function getPositioner(el) { if (el instanceof ArcElement) { return positioners.arc; } if (el instanceof PointElement) { return positioners.point; } if (el instanceof BarElement) { return positioners.bar; } return positioners.fallback; } function drawRoundedRect(ctx, x, y, w, h, radius) { var HALF_PI = Math.PI / 2; if (radius) { var r = Math.min(radius, h / 2, w / 2); var left = x + r; var top = y + r; var right = x + w - r; var bottom = y + h - r; ctx.moveTo(x, top); if (left < right && top < bottom) { ctx.arc(left, top, r, -Math.PI, -HALF_PI); ctx.arc(right, top, r, -HALF_PI, 0); ctx.arc(right, bottom, r, 0, HALF_PI); ctx.arc(left, bottom, r, HALF_PI, Math.PI); } else if (left < right) { ctx.moveTo(left, y); ctx.arc(right, top, r, -HALF_PI, HALF_PI); ctx.arc(left, top, r, HALF_PI, Math.PI + HALF_PI); } else if (top < bottom) { ctx.arc(left, top, r, -Math.PI, 0); ctx.arc(left, bottom, r, 0, Math.PI); } else { ctx.arc(left, top, r, -Math.PI, Math.PI); } ctx.closePath(); ctx.moveTo(x, y); } else { ctx.rect(x, y, w, h); } } function drawFrame(ctx, rect, model) { var bgColor = model.backgroundColor; var borderColor = model.borderColor; var borderWidth = model.borderWidth; if (!bgColor && (!borderColor || !borderWidth)) { return; } ctx.beginPath(); drawRoundedRect( ctx, rasterize(rect.x) + borderWidth / 2, rasterize(rect.y) + borderWidth / 2, rasterize(rect.w) - borderWidth, rasterize(rect.h) - borderWidth, model.borderRadius); ctx.closePath(); if (bgColor) { ctx.fillStyle = bgColor; ctx.fill(); } if (borderColor && borderWidth) { ctx.strokeStyle = borderColor; ctx.lineWidth = borderWidth; ctx.lineJoin = 'miter'; ctx.stroke(); } } function textGeometry(rect, align, font) { var h = font.lineHeight; var w = rect.w; var x = rect.x; var y = rect.y + h / 2; if (align === 'center') { x += w / 2; } else if (align === 'end' || align === 'right') { x += w; } return { h: h, w: w, x: x, y: y }; } function drawTextLine(ctx, text, cfg) { var shadow = ctx.shadowBlur; var stroked = cfg.stroked; var x = rasterize(cfg.x); var y = rasterize(cfg.y); var w = rasterize(cfg.w); if (stroked) { ctx.strokeText(text, x, y, w); } if (cfg.filled) { if (shadow && stroked) { // Prevent drawing shadow on both the text stroke and fill, so // if the text is stroked, remove the shadow for the text fill. ctx.shadowBlur = 0; } ctx.fillText(text, x, y, w); if (shadow && stroked) { ctx.shadowBlur = shadow; } } } function drawText(ctx, lines, rect, model) { var align = model.textAlign; var color = model.color; var filled = !!color; var font = model.font; var ilen = lines.length; var strokeColor = model.textStrokeColor; var strokeWidth = model.textStrokeWidth; var stroked = strokeColor && strokeWidth; var i; if (!ilen || (!filled && !stroked)) { return; } // Adjust coordinates based on text alignment and line height rect = textGeometry(rect, align, font); ctx.font = font.string; ctx.textAlign = align; ctx.textBaseline = 'middle'; ctx.shadowBlur = model.textShadowBlur; ctx.shadowColor = model.textShadowColor; if (filled) { ctx.fillStyle = color; } if (stroked) { ctx.lineJoin = 'round'; ctx.lineWidth = strokeWidth; ctx.strokeStyle = strokeColor; } for (i = 0, ilen = lines.length; i < ilen; ++i) { drawTextLine(ctx, lines[i], { stroked: stroked, filled: filled, w: rect.w, x: rect.x, y: rect.y + rect.h * i }); } } var Label = function(config, ctx, el, index) { var me = this; me._config = config; me._index = index; me._model = null; me._rects = null; me._ctx = ctx; me._el = el; }; merge(Label.prototype, { /** * @private */ _modelize: function(display, lines, config, context) { var me = this; var index = me._index; var font = toFont(resolve([config.font, {}], context, index)); var color = resolve([config.color, defaults$1.color], context, index); return { align: resolve([config.align, 'center'], context, index), anchor: resolve([config.anchor, 'center'], context, index), area: context.chart.chartArea, backgroundColor: resolve([config.backgroundColor, null], context, index), borderColor: resolve([config.borderColor, null], context, index), borderRadius: resolve([config.borderRadius, 0], context, index), borderWidth: resolve([config.borderWidth, 0], context, index), clamp: resolve([config.clamp, false], context, index), clip: resolve([config.clip, false], context, index), color: color, display: display, font: font, lines: lines, offset: resolve([config.offset, 4], context, index), opacity: resolve([config.opacity, 1], context, index), origin: getScaleOrigin(me._el, context), padding: toPadding(resolve([config.padding, 4], context, index)), positioner: getPositioner(me._el), rotation: resolve([config.rotation, 0], context, index) * (Math.PI / 180), size: utils.textSize(me._ctx, lines, font), textAlign: resolve([config.textAlign, 'start'], context, index), textShadowBlur: resolve([config.textShadowBlur, 0], context, index), textShadowColor: resolve([config.textShadowColor, color], context, index), textStrokeColor: resolve([config.textStrokeColor, color], context, index), textStrokeWidth: resolve([config.textStrokeWidth, 0], context, index) }; }, update: function(context) { var me = this; var model = null; var rects = null; var index = me._index; var config = me._config; var value, label, lines; // We first resolve the display option (separately) to avoid computing // other options in case the label is hidden (i.e. display: false). var display = resolve([config.display, true], context, index); if (display) { value = context.dataset.data[index]; label = valueOrDefault(callback(config.formatter, [value, context]), value); lines = isNullOrUndef(label) ? [] : utils.toTextLines(label); if (lines.length) { model = me._modelize(display, lines, config, context); rects = boundingRects(model); } } me._model = model; me._rects = rects; }, geometry: function() { return this._rects ? this._rects.frame : {}; }, rotation: function() { return this._model ? this._model.rotation : 0; }, visible: function() { return this._model && this._model.opacity; }, model: function() { return this._model; }, draw: function(chart, center) { var me = this; var ctx = chart.ctx; var model = me._model; var rects = me._rects; var area; if (!this.visible()) { return; } ctx.save(); if (model.clip) { area = model.area; ctx.beginPath(); ctx.rect( area.left, area.top, area.right - area.left, area.bottom - area.top); ctx.clip(); } ctx.globalAlpha = utils.bound(0, model.opacity, 1); ctx.translate(rasterize(center.x), rasterize(center.y)); ctx.rotate(model.rotation); drawFrame(ctx, rects.frame, model); drawText(ctx, model.lines, rects.text, model); ctx.restore(); } }); var MIN_INTEGER = Number.MIN_SAFE_INTEGER || -9007199254740991; // eslint-disable-line es/no-number-minsafeinteger var MAX_INTEGER = Number.MAX_SAFE_INTEGER || 9007199254740991; // eslint-disable-line es/no-number-maxsafeinteger function rotated(point, center, angle) { var cos = Math.cos(angle); var sin = Math.sin(angle); var cx = center.x; var cy = center.y; return { x: cx + cos * (point.x - cx) - sin * (point.y - cy), y: cy + sin * (point.x - cx) + cos * (point.y - cy) }; } function projected(points, axis) { var min = MAX_INTEGER; var max = MIN_INTEGER; var origin = axis.origin; var i, pt, vx, vy, dp; for (i = 0; i < points.length; ++i) { pt = points[i]; vx = pt.x - origin.x; vy = pt.y - origin.y; dp = axis.vx * vx + axis.vy * vy; min = Math.min(min, dp); max = Math.max(max, dp); } return { min: min, max: max }; } function toAxis(p0, p1) { var vx = p1.x - p0.x; var vy = p1.y - p0.y; var ln = Math.sqrt(vx * vx + vy * vy); return { vx: (p1.x - p0.x) / ln, vy: (p1.y - p0.y) / ln, origin: p0, ln: ln }; } var HitBox = function() { this._rotation = 0; this._rect = { x: 0, y: 0, w: 0, h: 0 }; }; merge(HitBox.prototype, { center: function() { var r = this._rect; return { x: r.x + r.w / 2, y: r.y + r.h / 2 }; }, update: function(center, rect, rotation) { this._rotation = rotation; this._rect = { x: rect.x + center.x, y: rect.y + center.y, w: rect.w, h: rect.h }; }, contains: function(point) { var me = this; var margin = 1; var rect = me._rect; point = rotated(point, me.center(), -me._rotation); return !(point.x < rect.x - margin || point.y < rect.y - margin || point.x > rect.x + rect.w + margin * 2 || point.y > rect.y + rect.h + margin * 2); }, // Separating Axis Theorem // https://gamedevelopment.tutsplus.com/tutorials/collision-detection-using-the-separating-axis-theorem--gamedev-169 intersects: function(other) { var r0 = this._points(); var r1 = other._points(); var axes = [ toAxis(r0[0], r0[1]), toAxis(r0[0], r0[3]) ]; var i, pr0, pr1; if (this._rotation !== other._rotation) { // Only separate with r1 axis if the rotation is different, // else it's enough to separate r0 and r1 with r0 axis only! axes.push( toAxis(r1[0], r1[1]), toAxis(r1[0], r1[3]) ); } for (i = 0; i < axes.length; ++i) { pr0 = projected(r0, axes[i]); pr1 = projected(r1, axes[i]); if (pr0.max < pr1.min || pr1.max < pr0.min) { return false; } } return true; }, /** * @private */ _points: function() { var me = this; var rect = me._rect; var angle = me._rotation; var center = me.center(); return [ rotated({x: rect.x, y: rect.y}, center, angle), rotated({x: rect.x + rect.w, y: rect.y}, center, angle), rotated({x: rect.x + rect.w, y: rect.y + rect.h}, center, angle), rotated({x: rect.x, y: rect.y + rect.h}, center, angle) ]; } }); function coordinates(el, model, geometry) { var point = model.positioner(el, model); var vx = point.vx; var vy = point.vy; if (!vx && !vy) { // if aligned center, we don't want to offset the center point return {x: point.x, y: point.y}; } var w = geometry.w; var h = geometry.h; // take in account the label rotation var rotation = model.rotation; var dx = Math.abs(w / 2 * Math.cos(rotation)) + Math.abs(h / 2 * Math.sin(rotation)); var dy = Math.abs(w / 2 * Math.sin(rotation)) + Math.abs(h / 2 * Math.cos(rotation)); // scale the unit vector (vx, vy) to get at least dx or dy equal to // w or h respectively (else we would calculate the distance to the // ellipse inscribed in the bounding rect) var vs = 1 / Math.max(Math.abs(vx), Math.abs(vy)); dx *= vx * vs; dy *= vy * vs; // finally, include the explicit offset dx += model.offset * vx; dy += model.offset * vy; return { x: point.x + dx, y: point.y + dy }; } function collide(labels, collider) { var i, j, s0, s1; // IMPORTANT Iterate in the reverse order since items at the end of the // list have an higher weight/priority and thus should be less impacted // by the overlapping strategy. for (i = labels.length - 1; i >= 0; --i) { s0 = labels[i].$layout; for (j = i - 1; j >= 0 && s0._visible; --j) { s1 = labels[j].$layout; if (s1._visible && s0._box.intersects(s1._box)) { collider(s0, s1); } } } return labels; } function compute(labels) { var i, ilen, label, state, geometry, center, proxy; // Initialize labels for overlap detection for (i = 0, ilen = labels.length; i < ilen; ++i) { label = labels[i]; state = label.$layout; if (state._visible) { // Chart.js 3 removed el._model in favor of getProps(), making harder to // abstract reading values in positioners. Also, using string arrays to // read values (i.e. var {a,b,c} = el.getProps(["a","b","c"])) would make // positioners inefficient in the normal case (i.e. not the final values) // and the code a bit ugly, so let's use a Proxy instead. proxy = new Proxy(label._el, {get: (el, p) => el.getProps([p], true)[p]}); geometry = label.geometry(); center = coordinates(proxy, label.model(), geometry); state._box.update(center, geometry, label.rotation()); } } // Auto hide overlapping labels return collide(labels, function(s0, s1) { var h0 = s0._hidable; var h1 = s1._hidable; if ((h0 && h1) || h1) { s1._visible = false; } else if (h0) { s0._visible = false; } }); } var layout = { prepare: function(datasets) { var labels = []; var i, j, ilen, jlen, label; for (i = 0, ilen = datasets.length; i < ilen; ++i) { for (j = 0, jlen = datasets[i].length; j < jlen; ++j) { label = datasets[i][j]; labels.push(label); label.$layout = { _box: new HitBox(), _hidable: false, _visible: true, _set: i, _idx: label._index }; } } // TODO New `z` option: labels with a higher z-index are drawn // of top of the ones with a lower index. Lowest z-index labels // are also discarded first when hiding overlapping labels. labels.sort(function(a, b) { var sa = a.$layout; var sb = b.$layout; return sa._idx === sb._idx ? sb._set - sa._set : sb._idx - sa._idx; }); this.update(labels); return labels; }, update: function(labels) { var dirty = false; var i, ilen, label, model, state; for (i = 0, ilen = labels.length; i < ilen; ++i) { label = labels[i]; model = label.model(); state = label.$layout; state._hidable = model && model.display === 'auto'; state._visible = label.visible(); dirty |= state._hidable; } if (dirty) { compute(labels); } }, lookup: function(labels, point) { var i, state; // IMPORTANT Iterate in the reverse order since items at the end of // the list have an higher z-index, thus should be picked first. for (i = labels.length - 1; i >= 0; --i) { state = labels[i].$layout; if (state && state._visible && state._box.contains(point)) { return labels[i]; } } return null; }, draw: function(chart, labels) { var i, ilen, label, state, geometry, center; for (i = 0, ilen = labels.length; i < ilen; ++i) { label = labels[i]; state = label.$layout; if (state._visible) { geometry = label.geometry(); center = coordinates(label._el, label.model(), geometry); state._box.update(center, geometry, label.rotation()); label.draw(chart, center); } } } }; var formatter = function(value) { if (isNullOrUndef(value)) { return null; } var label = value; var keys, klen, k; if (isObject(value)) { if (!isNullOrUndef(value.label)) { label = value.label; } else if (!isNullOrUndef(value.r)) { label = value.r; } else { label = ''; keys = Object.keys(value); for (k = 0, klen = keys.length; k < klen; ++k) { label += (k !== 0 ? ', ' : '') + keys[k] + ': ' + value[keys[k]]; } } } return '' + label; }; /** * IMPORTANT: make sure to also update tests and TypeScript definition * files (`/test/specs/defaults.spec.js` and `/types/options.d.ts`) */ var defaults = { align: 'center', anchor: 'center', backgroundColor: null, borderColor: null, borderRadius: 0, borderWidth: 0, clamp: false, clip: false, color: undefined, display: true, font: { family: undefined, lineHeight: 1.2, size: undefined, style: undefined, weight: null }, formatter: formatter, labels: undefined, listeners: {}, offset: 4, opacity: 1, padding: { top: 4, right: 4, bottom: 4, left: 4 }, rotation: 0, textAlign: 'start', textStrokeColor: undefined, textStrokeWidth: 0, textShadowBlur: 0, textShadowColor: undefined }; /** * @see https://github.com/chartjs/Chart.js/issues/4176 */ var EXPANDO_KEY = '$datalabels'; var DEFAULT_KEY = '$default'; function configure(dataset, options) { var override = dataset.datalabels; var listeners = {}; var configs = []; var labels, keys; if (override === false) { return null; } if (override === true) { override = {}; } options = merge({}, [options, override]); labels = options.labels || {}; keys = Object.keys(labels); delete options.labels; if (keys.length) { keys.forEach(function(key) { if (labels[key]) { configs.push(merge({}, [ options, labels[key], {_key: key} ])); } }); } else { // Default label if no "named" label defined. configs.push(options); } // listeners: {<event-type>: {<label-key>: <fn>}} listeners = configs.reduce(function(target, config) { each(config.listeners || {}, function(fn, event) { target[event] = target[event] || {}; target[event][config._key || DEFAULT_KEY] = fn; }); delete config.listeners; return target; }, {}); return { labels: configs, listeners: listeners }; } function dispatchEvent(chart, listeners, label, event) { if (!listeners) { return; } var context = label.$context; var groups = label.$groups; var callback$1; if (!listeners[groups._set]) { return; } callback$1 = listeners[groups._set][groups._key]; if (!callback$1) { return; } if (callback(callback$1, [context, event]) === true) { // Users are allowed to tweak the given context by injecting values that can be // used in scriptable options to display labels differently based on the current // event (e.g. highlight an hovered label). That's why we update the label with // the output context and schedule a new chart render by setting it dirty. chart[EXPANDO_KEY]._dirty = true; label.update(context); } } function dispatchMoveEvents(chart, listeners, previous, label, event) { var enter, leave; if (!previous && !label) { return; } if (!previous) { enter = true; } else if (!label) { leave = true; } else if (previous !== label) { leave = enter = true; } if (leave) { dispatchEvent(chart, listeners.leave, previous, event); } if (enter) { dispatchEvent(chart, listeners.enter, label, event); } } function handleMoveEvents(chart, event) { var expando = chart[EXPANDO_KEY]; var listeners = expando._listeners; var previous, label; if (!listeners.enter && !listeners.leave) { return; } if (event.type === 'mousemove') { label = layout.lookup(expando._labels, event); } else if (event.type !== 'mouseout') { return; } previous = expando._hovered; expando._hovered = label; dispatchMoveEvents(chart, listeners, previous, label, event); } function handleClickEvents(chart, event) { var expando = chart[EXPANDO_KEY]; var handlers = expando._listeners.click; var label = handlers && layout.lookup(expando._labels, event); if (label) { dispatchEvent(chart, handlers, label, event); } } var plugin = { id: 'datalabels', defaults: defaults, beforeInit: function(chart) { chart[EXPANDO_KEY] = { _actives: [] }; }, beforeUpdate: function(chart) { var expando = chart[EXPANDO_KEY]; expando._listened = false; expando._listeners = {}; // {<event-type>: {<dataset-index>: {<label-key>: <fn>}}} expando._datasets = []; // per dataset labels: [Label[]] expando._labels = []; // layouted labels: Label[] }, afterDatasetUpdate: function(chart, args, options) { var datasetIndex = args.index; var expando = chart[EXPANDO_KEY]; var labels = expando._datasets[datasetIndex] = []; var visible = chart.isDatasetVisible(datasetIndex); var dataset = chart.data.datasets[datasetIndex]; var config = configure(dataset, options); var elements = args.meta.data || []; var ctx = chart.ctx; var i, j, ilen, jlen, cfg, key, el, label; ctx.save(); for (i = 0, ilen = elements.length; i < ilen; ++i) { el = elements[i]; el[EXPANDO_KEY] = []; if (visible && el && chart.getDataVisibility(i) && !el.skip) { for (j = 0, jlen = config.labels.length; j < jlen; ++j) { cfg = config.labels[j]; key = cfg._key; label = new Label(cfg, ctx, el, i); label.$groups = { _set: datasetIndex, _key: key || DEFAULT_KEY }; label.$context = { active: false, chart: chart, dataIndex: i, dataset: dataset, datasetIndex: datasetIndex }; label.update(label.$context); el[EXPANDO_KEY].push(label); labels.push(label); } } } ctx.restore(); // Store listeners at the chart level and per event type to optimize // cases where no listeners are registered for a specific event. merge(expando._listeners, config.listeners, { merger: function(event, target, source) { target[event] = target[event] || {}; target[event][args.index] = source[event]; expando._listened = true; } }); }, afterUpdate: function(chart) { chart[EXPANDO_KEY]._labels = layout.prepare(chart[EXPANDO_KEY]._datasets); }, // Draw labels on top of all dataset elements // https://github.com/chartjs/chartjs-plugin-datalabels/issues/29 // https://github.com/chartjs/chartjs-plugin-datalabels/issues/32 afterDatasetsDraw: function(chart) { layout.draw(chart, chart[EXPANDO_KEY]._labels); }, beforeEvent: function(chart, args) { // If there is no listener registered for this chart, `listened` will be false, // meaning we can immediately ignore the incoming event and avoid useless extra // computation for users who don't implement label interactions. if (chart[EXPANDO_KEY]._listened) { var event = args.event; switch (event.type) { case 'mousemove': case 'mouseout': handleMoveEvents(chart, event); break; case 'click': handleClickEvents(chart, event); break; } } }, afterEvent: function(chart) { var expando = chart[EXPANDO_KEY]; var previous = expando._actives; var actives = expando._actives = chart.getActiveElements(); var updates = utils.arrayDiff(previous, actives); var i, ilen, j, jlen, update, label, labels; for (i = 0, ilen = updates.length; i < ilen; ++i) { update = updates[i]; if (update[1]) { labels = update[0].element[EXPANDO_KEY] || []; for (j = 0, jlen = labels.length; j < jlen; ++j) { label = labels[j]; label.$context.active = (update[1] === 1); label.update(label.$context); } } } if (expando._dirty || updates.length) { layout.update(expando._labels); chart.render(); } delete expando._dirty; } }; export { plugin as default }; "
  ],
  "names": [
  "mapData",
  "storeData",
  "id",
  "element",
  "key",
  "data",
  "keyProperties",
  "Data",
  "instance",
  "MAX_UID",
  "MILLISECONDS_MULTIPLIER",
  "TRANSITION_END",
  "toType",
  "obj",
  "getUID",
  "prefix",
  "getSelector",
  "selector",
  "hrefAttr",
  "getSelectorFromElement",
  "getElementFromSelector",
  "getTransitionDurationFromElement",
  "transitionDuration",
  "transitionDelay",
  "floatTransitionDuration",
  "floatTransitionDelay",
  "triggerTransitionEnd",
  "isElement",
  "getElement",
  "typeCheckConfig",
  "componentName",
  "config",
  "configTypes",
  "property",
  "expectedTypes",
  "value",
  "valueType",
  "isVisible",
  "elementStyle",
  "parentNodeStyle",
  "isDisabled",
  "findShadowRoot",
  "root",
  "noop",
  "reflow",
  "getjQuery",
  "jQuery",
  "DOMContentLoadedCallbacks",
  "onDOMContentLoaded",
  "callback",
  "isRTL",
  "array",
  "collection",
  "tag",
  "execute",
  "executeAfterTransition",
  "transitionElement",
  "waitForTransition",
  "durationPadding",
  "emulatedDuration",
  "called",
  "handler",
  "target",
  "getNextActiveElement",
  "list",
  "activeElement",
  "shouldGetNext",
  "isCycleAllowed",
  "index",
  "listLength",
  "namespaceRegex",
  "stripNameRegex",
  "stripUidRegex",
  "eventRegistry",
  "uidEvent",
  "customEvents",
  "customEventsRegex",
  "nativeEvents",
  "getUidEvent",
  "uid",
  "getEvent",
  "bootstrapHandler",
  "fn",
  "event",
  "EventHandler",
  "bootstrapDelegationHandler",
  "domElements",
  "i",
  "findHandler",
  "events",
  "delegationSelector",
  "uidEventList",
  "len",
  "normalizeParams",
  "originalTypeEvent",
  "delegationFn",
  "delegation",
  "originalHandler",
  "typeEvent",
  "getTypeEvent",
  "addHandler",
  "oneOff",
  "wrapFn",
  "handlers",
  "previousFn",
  "removeHandler",
  "removeNamespacedHandlers",
  "namespace",
  "storeElementEvent",
  "handlerKey",
  "inNamespace",
  "isNamespace",
  "elementEvent",
  "keyHandlers",
  "args",
  "$",
  "isNative",
  "jQueryEvent",
  "bubbles",
  "nativeDispatch",
  "defaultPrevented",
  "evt",
  "EventHandlerMulti",
  "eventsName",
  "VERSION",
  "BaseComponent",
  "propertyName",
  "isAnimated",
  "NAME",
  "CLASS_NAME_ACTIVE",
  "Button",
  "top",
  "bottom",
  "right",
  "left",
  "auto",
  "basePlacements",
  "start",
  "end",
  "clippingParents",
  "viewport",
  "popper",
  "reference",
  "variationPlacements",
  "acc",
  "placement",
  "placements",
  "beforeRead",
  "read",
  "afterRead",
  "beforeMain",
  "main",
  "afterMain",
  "beforeWrite",
  "write",
  "afterWrite",
  "modifierPhases",
  "getNodeName",
  "getWindow",
  "node",
  "ownerDocument",
  "OwnElement",
  "isHTMLElement",
  "isShadowRoot",
  "applyStyles",
  "_ref",
  "state",
  "name",
  "style",
  "attributes",
  "effect",
  "_ref2",
  "initialStyles",
  "styleProperties",
  "attribute",
  "applyStyles$1",
  "getBasePlacement",
  "max",
  "min",
  "round",
  "getUAString",
  "uaData",
  "item",
  "isLayoutViewport",
  "getBoundingClientRect",
  "includeScale",
  "isFixedStrategy",
  "clientRect",
  "scaleX",
  "scaleY",
  "visualViewport",
  "addVisualOffsets",
  "x",
  "y",
  "width",
  "height",
  "getLayoutRect",
  "contains",
  "parent",
  "child",
  "rootNode",
  "next",
  "getComputedStyle",
  "isTableElement",
  "getDocumentElement",
  "getParentNode",
  "getTrueOffsetParent",
  "getContainingBlock",
  "isFirefox",
  "isIE",
  "elementCss",
  "currentNode",
  "css",
  "getOffsetParent",
  "window",
  "offsetParent",
  "getMainAxisFromPlacement",
  "within",
  "mathMax",
  "mathMin",
  "withinMaxClamp",
  "v",
  "getFreshSideObject",
  "mergePaddingObject",
  "paddingObject",
  "expandToHashMap",
  "keys",
  "hashMap",
  "toPaddingObject",
  "padding",
  "arrow",
  "_state$modifiersData$",
  "options",
  "arrowElement",
  "popperOffsets",
  "basePlacement",
  "axis",
  "isVertical",
  "arrowRect",
  "minProp",
  "maxProp",
  "endDiff",
  "startDiff",
  "arrowOffsetParent",
  "clientSize",
  "centerToReference",
  "center",
  "offset",
  "axisProp",
  "_options$element",
  "arrow$1",
  "getVariation",
  "unsetSides",
  "roundOffsetsByDPR",
  "win",
  "dpr",
  "mapToStyles",
  "_Object$assign2",
  "popperRect",
  "variation",
  "offsets",
  "position",
  "gpuAcceleration",
  "adaptive",
  "roundOffsets",
  "isFixed",
  "_offsets$x",
  "_offsets$y",
  "_ref3",
  "hasX",
  "hasY",
  "sideX",
  "sideY",
  "heightProp",
  "widthProp",
  "offsetY",
  "offsetX",
  "commonStyles",
  "_ref4",
  "_Object$assign",
  "computeStyles",
  "_ref5",
  "_options$gpuAccelerat",
  "_options$adaptive",
  "_options$roundOffsets",
  "transitionProperty",
  "computeStyles$1",
  "passive",
  "_options$scroll",
  "scroll",
  "_options$resize",
  "resize",
  "scrollParents",
  "scrollParent",
  "eventListeners",
  "hash",
  "getOppositePlacement",
  "matched",
  "getOppositeVariationPlacement",
  "getWindowScroll",
  "scrollLeft",
  "scrollTop",
  "getWindowScrollBarX",
  "getViewportRect",
  "strategy",
  "html",
  "layoutViewport",
  "getDocumentRect",
  "_element$ownerDocumen",
  "winScroll",
  "body",
  "isScrollParent",
  "_getComputedStyle",
  "overflow",
  "overflowX",
  "overflowY",
  "getScrollParent",
  "listScrollParents",
  "isBody",
  "updatedList",
  "rectToClientRect",
  "rect",
  "getInnerBoundingClientRect",
  "getClientRectFromMixedType",
  "clippingParent",
  "getClippingParents",
  "canEscapeClipping",
  "clipperElement",
  "getClippingRect",
  "boundary",
  "rootBoundary",
  "mainClippingParents",
  "firstClippingParent",
  "clippingRect",
  "accRect",
  "computeOffsets",
  "commonX",
  "commonY",
  "mainAxis",
  "detectOverflow",
  "_options",
  "_options$placement",
  "_options$strategy",
  "_options$boundary",
  "_options$rootBoundary",
  "_options$elementConte",
  "elementContext",
  "_options$altBoundary",
  "altBoundary",
  "_options$padding",
  "altContext",
  "clippingClientRect",
  "referenceClientRect",
  "popperClientRect",
  "elementClientRect",
  "overflowOffsets",
  "offsetData",
  "multiply",
  "computeAutoPlacement",
  "flipVariations",
  "_options$allowedAutoP",
  "allowedAutoPlacements",
  "allPlacements",
  "allowedPlacements",
  "overflows",
  "a",
  "b",
  "getExpandedFallbackPlacements",
  "oppositePlacement",
  "flip",
  "_options$mainAxis",
  "checkMainAxis",
  "_options$altAxis",
  "checkAltAxis",
  "specifiedFallbackPlacements",
  "_options$flipVariatio",
  "preferredPlacement",
  "isBasePlacement",
  "fallbackPlacements",
  "referenceRect",
  "checksMap",
  "makeFallbackChecks",
  "firstFittingPlacement",
  "_basePlacement",
  "isStartVariation",
  "mainVariationSide",
  "altVariationSide",
  "checks",
  "check",
  "numberOfChecks",
  "_loop",
  "_i",
  "fittingPlacement",
  "_ret",
  "flip$1",
  "getSideOffsets",
  "preventedOffsets",
  "isAnySideFullyClipped",
  "side",
  "hide",
  "referenceOverflow",
  "popperAltOverflow",
  "referenceClippingOffsets",
  "popperEscapeOffsets",
  "isReferenceHidden",
  "hasPopperEscaped",
  "hide$1",
  "distanceAndSkiddingToXY",
  "rects",
  "invertDistance",
  "skidding",
  "distance",
  "_options$offset",
  "_data$state$placement",
  "offset$1",
  "popperOffsets$1",
  "getAltAxis",
  "preventOverflow",
  "_options$tether",
  "tether",
  "_options$tetherOffset",
  "tetherOffset",
  "altAxis",
  "tetherOffsetValue",
  "normalizedTetherOffsetValue",
  "offsetModifierState",
  "_offsetModifierState$",
  "mainSide",
  "altSide",
  "additive",
  "minLen",
  "maxLen",
  "arrowPaddingObject",
  "arrowPaddingMin",
  "arrowPaddingMax",
  "arrowLen",
  "minOffset",
  "maxOffset",
  "clientOffset",
  "offsetModifierValue",
  "tetherMin",
  "tetherMax",
  "preventedOffset",
  "_offsetModifierState$2",
  "_mainSide",
  "_altSide",
  "_offset",
  "_len",
  "_min",
  "_max",
  "isOriginSide",
  "_offsetModifierValue",
  "_tetherMin",
  "_tetherMax",
  "_preventedOffset",
  "preventOverflow$1",
  "getHTMLElementScroll",
  "getNodeScroll",
  "isElementScaled",
  "getCompositeRect",
  "elementOrVirtualElement",
  "isOffsetParentAnElement",
  "offsetParentIsScaled",
  "documentElement",
  "order",
  "modifiers",
  "map",
  "visited",
  "result",
  "modifier",
  "sort",
  "requires",
  "dep",
  "depModifier",
  "orderModifiers",
  "orderedModifiers",
  "phase",
  "debounce",
  "pending",
  "resolve",
  "format",
  "str",
  "_key",
  "p",
  "c",
  "INVALID_MODIFIER_ERROR",
  "MISSING_DEPENDENCY_ERROR",
  "VALID_PROPERTIES",
  "validateModifiers",
  "self",
  "requirement",
  "mod",
  "uniqueBy",
  "arr",
  "identifiers",
  "identifier",
  "mergeByName",
  "merged",
  "current",
  "existing",
  "INVALID_ELEMENT_ERROR",
  "INFINITE_LOOP_ERROR",
  "DEFAULT_OPTIONS",
  "areValidElements",
  "popperGenerator",
  "generatorOptions",
  "_generatorOptions",
  "_generatorOptions$def",
  "defaultModifiers",
  "_generatorOptions$def2",
  "defaultOptions",
  "effectCleanupFns",
  "isDestroyed",
  "setOptionsAction",
  "cleanupModifierEffects",
  "m",
  "flipModifier",
  "marginTop",
  "marginRight",
  "marginBottom",
  "marginLeft",
  "margin",
  "runModifierEffects",
  "_state$elements",
  "__debug_loops__",
  "_state$orderedModifie",
  "_state$orderedModifie2",
  "_ref3$options",
  "cleanupFn",
  "noopFn",
  "createPopper",
  "normalizeData",
  "val",
  "normalizeDataKey",
  "chr",
  "Manipulator",
  "pureKey",
  "classNameOrList",
  "_classNameOrListToArray",
  "className",
  "NODE_TEXT",
  "SelectorEngine",
  "parents",
  "ancestor",
  "previous",
  "focusables",
  "el",
  "EVENT_KEY",
  "DATA_API_KEY",
  "ESCAPE_KEY",
  "SPACE_KEY",
  "TAB_KEY",
  "ARROW_UP_KEY",
  "ARROW_DOWN_KEY",
  "RIGHT_MOUSE_BUTTON",
  "REGEXP_KEYDOWN",
  "EVENT_HIDE",
  "EVENT_HIDDEN",
  "EVENT_SHOW",
  "EVENT_SHOWN",
  "EVENT_CLICK_DATA_API",
  "EVENT_KEYDOWN_DATA_API",
  "EVENT_KEYUP_DATA_API",
  "CLASS_NAME_SHOW",
  "CLASS_NAME_DROPUP",
  "CLASS_NAME_DROPEND",
  "CLASS_NAME_DROPSTART",
  "SELECTOR_NAVBAR",
  "SELECTOR_DATA_TOGGLE",
  "SELECTOR_MENU",
  "SELECTOR_NAVBAR_NAV",
  "SELECTOR_VISIBLE_ITEMS",
  "PLACEMENT_TOP",
  "PLACEMENT_TOPEND",
  "PLACEMENT_BOTTOM",
  "PLACEMENT_BOTTOMEND",
  "PLACEMENT_RIGHT",
  "PLACEMENT_LEFT",
  "ANIMATION_FADE_IN",
  "ANIMATION_FADE_OUT",
  "ANIMATION_TIMING",
  "Default",
  "DefaultType",
  "Dropdown",
  "isPrefersReducedMotionSet",
  "relatedTarget",
  "elem",
  "Popper",
  "referenceElement",
  "popperConfig",
  "isDisplayStatic",
  "Popper.createPopper",
  "parentDropdown",
  "isEnd",
  "popperData",
  "defaultBsPopperConfig",
  "items",
  "toggles",
  "context",
  "composedPath",
  "isMenuTarget",
  "isActive",
  "getToggleButton",
  "DATA_KEY",
  "ATTR_SHOW",
  "ATTR_COLLAPSED",
  "ATTR_COLLAPSING",
  "ATTR_HORIZONTAL",
  "ATTR_COLLAPSE_ITEM",
  "ATTR_COLLAPSE_DEEPER_CHILDREN",
  "WIDTH",
  "HEIGHT",
  "SELECTOR_DATA_ACTIVES",
  "SELECTOR_DATA_COLLAPSE_INIT",
  "DefaultClasses",
  "DefaultClassesType",
  "Collapse",
  "classes",
  "toggleList",
  "filterElement",
  "foundElem",
  "actives",
  "activesData",
  "children",
  "container",
  "tempActiveData",
  "elemActive",
  "dimension",
  "CLASS_NAME_TRANSITION",
  "complete",
  "scrollSize",
  "triggerArrayLength",
  "trigger",
  "dataAttributes",
  "selected",
  "triggerArray",
  "isOpen",
  "_config",
  "SELECTOR_FIXED_CONTENT",
  "SELECTOR_STICKY_CONTENT",
  "ScrollBarHelper",
  "documentWidth",
  "calculatedValue",
  "styleProp",
  "scrollbarWidth",
  "manipulationCallBack",
  "actualValue",
  "callBack",
  "EVENT_MOUSEDOWN",
  "Backdrop",
  "backdropClasses",
  "backdrop",
  "FocusTrap",
  "toggler",
  "e",
  "elements",
  "ancestors",
  "enableDismissTrigger",
  "component",
  "method",
  "clickEvent",
  "EVENT_LOAD_DATA_API",
  "OPEN_SELECTOR",
  "EVENT_KEYDOWN_DISMISS",
  "Offcanvas",
  "completeCallBack",
  "completeCallback",
  "EVENT_CLOSE",
  "EVENT_CLOSED",
  "SHOW_DATA_ATTRIBUTE",
  "Alert",
  "timeout",
  "ARROW_LEFT_KEY",
  "ARROW_RIGHT_KEY",
  "TOUCHEVENT_COMPAT_WAIT",
  "SWIPE_THRESHOLD",
  "ORDER_NEXT",
  "ORDER_PREV",
  "DIRECTION_LEFT",
  "DIRECTION_RIGHT",
  "KEY_TO_DIRECTION",
  "EVENT_SLIDE",
  "EVENT_SLID",
  "EVENT_KEYDOWN",
  "EVENT_MOUSEENTER",
  "EVENT_MOUSELEAVE",
  "EVENT_TOUCHSTART",
  "EVENT_TOUCHMOVE",
  "EVENT_TOUCHEND",
  "EVENT_POINTERDOWN",
  "EVENT_POINTERUP",
  "EVENT_DRAG_START",
  "ATTR_CAROUSEL",
  "ATTR_ACTIVE",
  "ATTR_SLIDE",
  "ATTR_END",
  "ATTR_START",
  "ATTR_NEXT",
  "ATTR_PREV",
  "ATTR_POINTER_EVENT",
  "SELECTOR_DATA_CAROUSEL_INIT",
  "SELECTOR_DATA_ACTIVE",
  "SELECTOR_DATA_ITEM",
  "SELECTOR_DATA_ACTIVE_ITEM",
  "SELECTOR_DATA_ITEM_IMG",
  "SELECTOR_DATA_NEXT_PREV",
  "SELECTOR_DATA_INDICATORS",
  "SELECTOR_INDICATOR",
  "SELECTOR_DATA_SLIDE",
  "POINTER_TYPE_TOUCH",
  "POINTER_TYPE_PEN",
  "Carousel",
  "activeIndex",
  "carousels",
  "absDeltax",
  "direction",
  "hasPointerPenTouch",
  "move",
  "itemImg",
  "isNext",
  "eventDirectionName",
  "targetIndex",
  "fromIndex",
  "activeIndicator",
  "indicators",
  "elementInterval",
  "directionOrOrder",
  "activeElementIndex",
  "nextElement",
  "nextElementIndex",
  "isCycling",
  "directionalAttr",
  "orderAttr",
  "activeClass",
  "nextClass",
  "triggerSlidEvent",
  "action",
  "slideIndex",
  "EVENT_HIDE_PREVENTED",
  "EVENT_RESIZE",
  "EVENT_CLICK_DISMISS",
  "EVENT_MOUSEUP_DISMISS",
  "EVENT_MOUSEDOWN_DISMISS",
  "OPEN_SELECTOR_BODY",
  "SELECTOR_DIALOG",
  "SELECTOR_MODAL_BODY",
  "Modal",
  "htmlElement",
  "modalBody",
  "modalDialog",
  "transitionComplete",
  "classList",
  "scrollHeight",
  "isModalOverflowing",
  "isBodyOverflowing",
  "uriAttributes",
  "ARIA_ATTRIBUTE_PATTERN",
  "SAFE_URL_PATTERN",
  "DATA_URL_PATTERN",
  "allowedAttribute",
  "allowedAttributeList",
  "attributeName",
  "regExp",
  "attributeRegex",
  "DefaultAllowlist",
  "sanitizeHtml",
  "unsafeHtml",
  "allowList",
  "sanitizeFn",
  "createdDocument",
  "elementName",
  "attributeList",
  "allowedAttributes",
  "CLASS_PREFIX",
  "DISALLOWED_ATTRIBUTES",
  "AttachmentMap",
  "Event",
  "CLASS_NAME_FADE",
  "CLASS_NAME_MODAL",
  "HOVER_STATE_SHOW",
  "HOVER_STATE_OUT",
  "SELECTOR_TOOLTIP_INNER",
  "SELECTOR_MODAL",
  "EVENT_MODAL_HIDE",
  "TRIGGER_HOVER",
  "TRIGGER_FOCUS",
  "TRIGGER_CLICK",
  "TRIGGER_MANUAL",
  "Tooltip",
  "showEvent",
  "shadowRoot",
  "isInTheDom",
  "tip",
  "tipId",
  "attachment",
  "customClass",
  "prevHoverState",
  "template",
  "content",
  "templateElement",
  "title",
  "eventIn",
  "eventOut",
  "originalTitleType",
  "dataAttr",
  "basicClassPrefixRegex",
  "tabClass",
  "token",
  "tClass",
  "SELECTOR_TITLE",
  "SELECTOR_CONTENT",
  "Popover",
  "EVENT_ACTIVATE",
  "EVENT_SCROLL",
  "LINK_ACTIVE",
  "SELECTOR_DROPDOWN_ITEM",
  "SELECTOR_DATA_SPY",
  "SELECTOR_NAV_LIST_GROUP",
  "SELECTOR_NAV_LINKS",
  "SELECTOR_NAV_ITEMS",
  "SELECTOR_LIST_ITEMS",
  "SELECTOR_LINK_ITEMS",
  "SELECTOR_DROPDOWN",
  "SELECTOR_DROPDOWN_TOGGLE",
  "METHOD_OFFSET",
  "METHOD_POSITION",
  "ScrollSpy",
  "autoMethod",
  "offsetMethod",
  "offsetBase",
  "targetSelector",
  "targetBCR",
  "spy",
  "MDBManipulator",
  "maxScroll",
  "queries",
  "link",
  "listGroup",
  "navItem",
  "DATA_NAME_DROPDOWN_MENU",
  "TAB_ACTIVE",
  "NAV_ACTIVE",
  "SELECTOR_NAV",
  "SELECTOR_TAB_ACTIVE",
  "SELECTOR_NAV_ACTIVE",
  "SELECTOR_ACTIVE_UL",
  "SELECTOR_DROPDOWN_ACTIVE_CHILD",
  "Tab",
  "listElement",
  "activeNavElement",
  "itemSelector",
  "hideEvent",
  "navElement",
  "active",
  "isTransitioning",
  "dropdownChild",
  "dropdownElement",
  "dropdown",
  "EVENT_MOUSEOVER",
  "EVENT_MOUSEOUT",
  "EVENT_FOCUSIN",
  "EVENT_FOCUSOUT",
  "HIDE_DATA_ATTRIBUTE",
  "SHOWING_DATA_ATTRIBUTE",
  "Toast",
  "isInteracting",
  "t",
  "n",
  "o",
  "r",
  "u",
  "l",
  "s",
  "d",
  "f",
  "DATA_WRAPPER",
  "DATA_NOTCH",
  "DATA_NOTCH_LEADING",
  "DATA_NOTCH_MIDDLE",
  "DATA_NOTCH_TRAILING",
  "DATA_HELPER",
  "DATA_PLACEHOLDER_ACTIVE",
  "DATA_ACTIVE",
  "DATA_FOCUSED",
  "DATA_FORM_COUNTER",
  "SELECTOR_OUTLINE_INPUT",
  "SELECTOR_OUTLINE_TEXTAREA",
  "SELECTOR_NOTCH",
  "SELECTOR_NOTCH_LEADING",
  "SELECTOR_NOTCH_MIDDLE",
  "SELECTOR_HELPER",
  "Input",
  "targetId",
  "actualLength",
  "input",
  "shadowLeading",
  "shadowMiddle",
  "shadowTrailing",
  "allNotchWrappers",
  "notchWrapper",
  "border",
  "prevLabelWidth",
  "Animate",
  "animation",
  "elementOffsetTop",
  "elementHeight",
  "windowHeight",
  "shouldBeVisible",
  "isElementVisible",
  "GRADIENT",
  "SELECTOR_COMPONENT",
  "DEFAULT_RIPPLE_COLOR",
  "BOOTSTRAP_COLORS",
  "TRANSITION_BREAK_OPACITY",
  "Ripple",
  "layerX",
  "layerY",
  "duration",
  "diameterOptions",
  "diameter",
  "radiusValue",
  "opacity",
  "styles",
  "rippleHTML",
  "wrapper",
  "ripple",
  "rippleEl",
  "classesToRemove",
  "defaultRipple",
  "initialClasses",
  "init",
  "time",
  "pythagorean",
  "sideA",
  "sideB",
  "positionCenter",
  "quadrant",
  "getCorner",
  "rippleColor",
  "IS_BOOTSTRAP_COLOR",
  "color",
  "rgbValue",
  "gradientImage",
  "hexToRgb",
  "namedColorsToRgba",
  "tempElem",
  "flag",
  "rgbaToRgb",
  "getDate",
  "date",
  "getDayNumber",
  "getMonth",
  "getYear",
  "getFirstDayOfWeek",
  "year",
  "month",
  "firstDayIndex",
  "sundayIndex",
  "getDaysInMonth",
  "getMonthEnd",
  "createDate",
  "getToday",
  "addYears",
  "years",
  "addMonths",
  "months",
  "dayOfPreviousMonth",
  "dayOfNewMonth",
  "addDays",
  "days",
  "day",
  "convertStringToDate",
  "dateString",
  "dateArr",
  "isValidDate",
  "compareDates",
  "date1",
  "date2",
  "isSameDate",
  "getYearsOffset",
  "activeDate",
  "yearsInView",
  "yearsDifference",
  "getStartYear",
  "modulo",
  "minDate",
  "maxDate",
  "startYear",
  "isDateDisabled",
  "filter",
  "disabledPast",
  "disabledFuture",
  "currentDate",
  "isBeforeMin",
  "isAfterMax",
  "isDisabledPast",
  "isDisabledFuture",
  "isMonthDisabled",
  "maxYear",
  "maxMonth",
  "minYear",
  "minMonth",
  "currentYear",
  "currentMonth",
  "isMonthAndYearAfterMax",
  "isMonthAndYearBeforeMin",
  "isMonthAndYearDisabledPast",
  "isMonthAndYearDisabledFuture",
  "isYearDisabled",
  "isNextDateDisabled",
  "view",
  "lastYearInView",
  "firstYearInView",
  "areDatesInSameView",
  "isPreviousDateDisabled",
  "MODAL_CONTAINER_REF",
  "DROPDOWN_CONTAINER_REF",
  "BACKDROP_REF",
  "DATE_TEXT_REF",
  "VIEW_REF",
  "PREVIOUS_BUTTON_REF",
  "NEXT_BUTTON_REF",
  "OK_BUTTON_REF",
  "CANCEL_BUTTON_REF",
  "CLEAR_BUTTON_REF",
  "VIEW_CHANGE_BUTTON_REF",
  "getDatepickerTemplate",
  "selectedDate",
  "selectedYear",
  "selectedMonth",
  "monthsInRow",
  "yearsInRow",
  "dayNumber",
  "inlineContent",
  "createMainContent",
  "modalContent",
  "createHeader",
  "getBackdropTemplate",
  "mainContentTemplate",
  "createControls",
  "createViewTemplate",
  "createFooter",
  "viewTemplate",
  "createDayViewTemplate",
  "createMonthViewTemplate",
  "createYearViewTemplate",
  "createViewChangeButtonIcon",
  "okBtn",
  "cancelButton",
  "clearButton",
  "headerDate",
  "dates",
  "getDatesArray",
  "tableHeadContent",
  "tableBodyContent",
  "week",
  "previousMonth",
  "nextMonth",
  "firstDay",
  "daysInMonth",
  "daysInPreviousMonth",
  "daysInWeek",
  "isCurrentMonth",
  "previousMonthDay",
  "j",
  "daysLeft",
  "getMonthsArray",
  "row",
  "monthIndex",
  "monthsRow",
  "getYearsArray",
  "activeYear",
  "yearsOffset",
  "yearsRow",
  "getToggleButtonTemplate",
  "toggleBtnClasses",
  "LEFT_ARROW",
  "UP_ARROW",
  "RIGHT_ARROW",
  "DOWN_ARROW",
  "HOME",
  "END",
  "PAGE_UP",
  "PAGE_DOWN",
  "ENTER",
  "SPACE",
  "ESCAPE",
  "TAB",
  "BACKSPACE",
  "DELETE",
  "YEARS_IN_VIEW",
  "YEARS_IN_ROW",
  "MONTHS_IN_ROW",
  "EVENT_OPEN",
  "EVENT_DATE_CHANGE",
  "MODAL_CONTAINER_NAME",
  "DROPDOWN_CONTAINER_NAME",
  "DATEPICKER_TOGGLE_SELECTOR",
  "MODAL_CONTAINER_SELECTOR",
  "DROPDOWN_CONTAINER_SELECTOR",
  "VIEW_CHANGE_BUTTON_SELECTOR",
  "PREVIOUS_BUTTON_SELECTOR",
  "NEXT_BUTTON_SELECTOR",
  "OK_BUTTON_SELECTOR",
  "CANCEL_BUTTON_SELECTOR",
  "CLEAR_BUTTON_SELECTOR",
  "VIEW_SELECTOR",
  "TOGGLE_BUTTON_SELECTOR",
  "DATE_TEXT_SELECTOR",
  "BACKDROP_SELECTOR",
  "FADE_IN_CLASSES",
  "FADE_OUT_CLASSES",
  "FADE_IN_SHORT_CLASSES",
  "FADE_OUT_SHORT_CLASSES",
  "MODAL_CONTAINER_CLASSES",
  "DATEPICKER_BACKDROP_CLASSES",
  "DATEPICKER_MAIN_CLASSES",
  "DATEPICKER_HEADER_CLASSES",
  "DATEPICKER_TITLE_CLASSES",
  "DATEPICKER_TITLE_TEXT_CLASSES",
  "DATEPICKER_DATE_CLASSES",
  "DATEPICKER_DATE_TEXT_CLASSES",
  "DATEPICKER_VIEW_CLASSES",
  "DATEPICKER_DATE_CONTROLS_CLASSES",
  "DATEPICKER_VIEW_CHANGE_BUTTON_CLASSES",
  "DATEPICKER_ARROW_CONTROLS_CLASSES",
  "DATEPICKER_PREVIOUS_BUTTON_CLASSES",
  "DATEPICKER_NEXT_BUTTON_CLASSES",
  "DATEPICKER_FOOTER_CLASSES",
  "DATEPICKER_FOOTER_BTN_CLASSES",
  "DATEPICKER_CLEAR_BTN_CLASSES",
  "DATEPICKER_DAY_HEADING_CLASSES",
  "DATEPICKER_CELL_CLASSES",
  "DATEPICKER_CELL_SMALL_CLASSES",
  "DATEPICKER_CELL_LARGE_CLASSES",
  "DATEPICKER_CELL_CONTENT_CLASSES",
  "DATEPICKER_CELL_CONTENT_SMALL_CLASSES",
  "DATEPICKER_CELL_CONTENT_LARGE_CLASSES",
  "DATEPICKER_TABLE_CLASSES",
  "DATEPICKER_TOGGLE_BUTTON_CLASSES",
  "DATEPICKER_VIEW_CHANGE_ICON_CLASSES",
  "DATEPICKER_DROPDOWN_CONTAINER_CLASSES",
  "Datepicker",
  "activeCell",
  "sortedWeekdaysNarrow",
  "weekdaysNarrow",
  "toggleButton",
  "openEvent",
  "dataset",
  "cell",
  "monthNames",
  "dayNames",
  "headerDateEl",
  "isContainer",
  "isContainerContent",
  "oldActiveDate",
  "previousActiveCell",
  "cells",
  "cellDate",
  "cellYear",
  "cellMonth",
  "yearsPerRow",
  "yearsPerPage",
  "closeEvent",
  "datepicker",
  "generatedToggleButton",
  "disablePast",
  "disableFuture",
  "currentSelected",
  "currentFocused",
  "dd",
  "ddd",
  "dddd",
  "mm",
  "mmm",
  "mmmm",
  "yy",
  "yyyy",
  "preformatted",
  "formatted",
  "datePart",
  "newDate",
  "nextYear",
  "previousYear",
  "delimeters",
  "delimeterPattern",
  "dateParts",
  "formatParts",
  "isMonthString",
  "datesArray",
  "monthsNames",
  "monthValue",
  "monthLabels",
  "monthLabel",
  "getTimepickerTemplate",
  "format24",
  "okLabel",
  "cancelLabel",
  "headID",
  "footerID",
  "bodyID",
  "pickerID",
  "clearLabel",
  "inline",
  "showClearBtn",
  "amLabel",
  "pmLabel",
  "normalTemplate",
  "inlineTemplate",
  "iconSVG",
  "ATTR_TIMEPICKER_DISABLED",
  "ATTR_TIMEPICKER_ACTIVE",
  "formatToAmPm",
  "hours",
  "minutes",
  "amOrPm",
  "originalHours",
  "takeValue",
  "formatNormalHours",
  "toggleClassHandler",
  "findMousePosition",
  "clientX",
  "clientY",
  "touches",
  "object",
  "isMobile",
  "checkBrowser",
  "isInput",
  "compareTimes",
  "time1",
  "time2",
  "time1Hour",
  "time1Minutes",
  "time1maxTimeFormat",
  "time2Hour",
  "time2Minutes",
  "time2maxTimeFormat",
  "getCurrentTime",
  "currentHours",
  "currentMinutes",
  "setMinTime",
  "minTime",
  "format12",
  "currentTime",
  "setMaxTime",
  "maxTime",
  "checkValueBeforeAccept",
  "hourHeader",
  "minute",
  "maxTimeHour",
  "maxTimeMin",
  "maxTimeFormat",
  "minTimeHour",
  "minTimeMin",
  "minTimeFormat",
  "_verifyMaxTimeHourAndAddDisabledClass",
  "tips",
  "_verifyMinTimeHourAndAddDisabledClass",
  "_isHourDisabled",
  "selectedHour",
  "timeHour",
  "operator",
  "hourChange",
  "_verifyMaxTimeMinutesTipsAndAddDisabledClass",
  "maxMinutes",
  "maxHour",
  "currHour",
  "_verifyMinTimeMinutesTipsAndAddDisabledClass",
  "minMinutes",
  "minHour",
  "_convertHourToNumber",
  "string",
  "ATTR_NAME",
  "SELECTOR_DATA_TE_TOGGLE",
  "EVENT_MOUSEDOWN_DATA_API",
  "EVENT_MOUSEUP_DATA_API",
  "EVENT_MOUSEMOVE_DATA_API",
  "EVENT_MOUSELEAVE_DATA_API",
  "EVENT_MOUSEOVER_DATA_API",
  "EVENT_TOUCHMOVE_DATA_API",
  "EVENT_TOUCHEND_DATA_API",
  "EVENT_TOUCHSTART_DATA_API",
  "SELECTOR_ATTR_TIMEPICKER_AM",
  "SELECTOR_ATTR_TIMEPICKER_PM",
  "SELECTOR_ATTR_TIMEPICKER_FORMAT24",
  "SELECTOR_ATTR_TIMEPICKER_CURRENT",
  "SELECTOR_ATTR_TIMEPICKER_HOUR_MODE",
  "SELECTOR_ATTR_TIMEPICKER_TOGGLE_BUTTON",
  "ATTR_TIMEPICKER_BUTTON_CANCEL",
  "ATTR_TIMEPICKER_BUTTON_CLEAR",
  "ATTR_TIMEPICKER_BUTTON_SUBMIT",
  "ATTR_TIMEPICKER_ICON",
  "ATTR_TIMEPICKER_ICON_UP",
  "ATTR_TIMEPICKER_ICON_DOWN",
  "ATTR_TIMEPICKER_ICON_INLINE_HOUR",
  "ATTR_TIMEPICKER_ICON_INLINE_MINUTE",
  "ATTR_TIMEPICKER_ICONS_HOUR_INLINE",
  "ATTR_TIMEPICKER_CURRENT_INLINE",
  "ATTR_READONLY",
  "ATTR_TIMEPICKER_INVALID_FEEDBACK",
  "ATTR_TIMEPICKER_IS_INVALID",
  "ATTR_TIMEPICKER_INPUT",
  "ATTR_TIMEPICKER_CLOCK",
  "ATTR_TIMEPICKER_CLOCK_INNER",
  "ATTR_TIMEPICKER_WRAPPER",
  "ATTR_TIMEPICKER_CLOCK_WRAPPER",
  "ATTR_TIMEPICKER_HOUR",
  "ATTR_TIMEPICKER_MINUTE",
  "ATTR_TIMEPICKER_TIPS_ELEMENT",
  "ATTR_TIMEPICKER_TIPS_HOURS",
  "ATTR_TIMEPICKER_TIPS_MINUTES",
  "ATTR_TIMEPICKER_INNER_HOURS",
  "ATTR_TIMEPICKER_TIPS_INNER_ELEMENT",
  "ATTR_TIMEPICKER_MIDDLE_DOT",
  "ATTR_TIMEPICKER_HAND_POINTER",
  "ATTR_TIMEPICKER_CIRCLE",
  "ATTR_TIMEPICKER_MODAL",
  "Timepicker",
  "__publicField",
  "enabled",
  "textContent",
  "findInArray",
  "degrees",
  "increment",
  "hour",
  "clockClass",
  "tipsClass",
  "maxTimeMinutes",
  "minTimeMinutes",
  "clock",
  "rad",
  "clockWidth",
  "clockHeight",
  "radius",
  "currentFormat",
  "angle",
  "span",
  "spanToTips",
  "itemWidth",
  "itemHeight",
  "enableValidation",
  "zero",
  "hoursFormat",
  "_amOrPm",
  "maxFormat",
  "minFormat",
  "_isAmEnabled",
  "_isPmEnabled",
  "_isMouseOnInnerClock",
  "maxHourDegrees",
  "minHourDegrees",
  "_handleKeyboardEvents",
  "innerTips",
  "currentHour",
  "nextHourTip",
  "numberToAdd",
  "nextHour",
  "innerTip",
  "_handle24FormatMouseEvents",
  "minInnerHourDegrees",
  "maxInnerHourDegrees",
  "minFormatAndCurrentFormatEqual",
  "maxFormatAndCurrentFormatEqual",
  "isMinHourValid",
  "minDegrees",
  "isMaxHourValid",
  "maxDegrees",
  "innerHour",
  "hoursView",
  "innerHoursExist",
  "allTipsMinutes",
  "allTipsHours",
  "allInnerTips",
  "hourTime",
  "hourObjDegrees",
  "addDegrees",
  "minHourMinutes",
  "minObjDegrees",
  "addMinDegrees",
  "innerHourDegrees",
  "cancelBtn",
  "rest",
  "rotateDegrees",
  "fixForInput",
  "checkInputValue",
  "modalID",
  "div",
  "initActive",
  "minuteNumber",
  "countMinutes",
  "count",
  "countHours",
  "incrementHours",
  "counteredNumber",
  "incrementMinutes",
  "addHours",
  "addMinutes",
  "subHours",
  "subMinutes",
  "_clearAndSetThisInterval",
  "addHoursOrAddMinutes",
  "type",
  "isEventTypeMousedownOrTouchstart",
  "isHourBtnFocused",
  "isMinuteBtnFocused",
  "isBodyFocused",
  "closeModalOnBackdropClick",
  "runRemoveFunction",
  "_a",
  "readOnly",
  "focusInputAfterApprove",
  "hourModeActive",
  "currentValue",
  "selectedHourContent",
  "selectedMinutes",
  "isHourLessThanMinHour",
  "isHourGreaterThanMaxHour",
  "hourEqualToMaxAndMinutesGreaterThanMax",
  "hourEqualToMinAndMinutesLessThanMin",
  "allIconsInlineHour",
  "allIconsInlineMinute",
  "modifyIcons",
  "shouldAdd",
  "icon",
  "iconElements",
  "hourValue",
  "minuteValue",
  "switchTips",
  "toggleActiveClass",
  "allTipsInnerHours",
  "selectedFormat",
  "outerHoursTips",
  "innerHoursTips",
  "allTipsHour",
  "clockWrapper",
  "closeModalOnMinutesClick",
  "switchHoursToMinutesOnClick",
  "innerHours",
  "mouseClick",
  "rds",
  "touchClick",
  "xPos",
  "yPos",
  "elFromPoint",
  "isHourlessThanMinOrGreaterThanMax",
  "submitBtn",
  "minTimeObj",
  "_degrees",
  "minuteTimes",
  "changeMinutes",
  "makeDegrees",
  "touchDegrees",
  "touchHours",
  "movedDegrees",
  "movedHours",
  "allTipsInner",
  "maxMin",
  "minMin",
  "maxHourTimeValue",
  "minHourTimeValue",
  "minHourTime",
  "maxHourTime",
  "maxMinDegrees",
  "minMinDegrees",
  "isToRemove",
  "number",
  "invalidLabel",
  "appendValidationInfo",
  "inValidDiv",
  "regexAMFormat",
  "regexNormalFormat",
  "testedAMRegex",
  "allInvalid",
  "get",
  "set",
  "elMatches",
  "matches",
  "query",
  "remove",
  "queryChildren",
  "cls",
  "scrollingClassTimeout",
  "addScrollingClass",
  "removeScrollingClass",
  "setScrollingClassInstantly",
  "EventElement",
  "prototypeAccessors",
  "eventName",
  "this$1",
  "EventManager",
  "ee",
  "onceHandler",
  "createEvent",
  "processScrollDiff",
  "diff",
  "useScrollingClass",
  "forceFireReachEvent",
  "fields",
  "processScrollDiff$1",
  "ref",
  "contentHeight",
  "containerHeight",
  "up",
  "down",
  "toInt",
  "isEditable",
  "outerWidth",
  "env",
  "updateGeometry",
  "roundedScrollTop",
  "getThumbSize",
  "updateCss",
  "thumbSize",
  "xRailOffset",
  "yRailOffset",
  "clickRail",
  "positionTop",
  "positionLeft",
  "dragThumb",
  "bindMouseScrollHandler",
  "pageY",
  "railYHeight",
  "scrollbarY",
  "scrollbarYHeight",
  "scrollbarYRail",
  "startingScrollTop",
  "startingMousePageY",
  "scrollBy",
  "mouseMoveHandler",
  "mouseUpHandler",
  "bindMoves",
  "touchMode",
  "keyboard",
  "elementHovered",
  "scrollbarFocused",
  "shouldPreventDefault",
  "deltaX",
  "deltaY",
  "wheel",
  "isTop",
  "isBottom",
  "isLeft",
  "isRight",
  "hitsBound",
  "getDeltaFromEvent",
  "shouldBeConsumedByChild",
  "cursor",
  "maxScrollTop",
  "maxScrollLeft",
  "mousewheelHandler",
  "shouldPrevent",
  "touch",
  "magnitudeX",
  "magnitudeY",
  "applyTouchMove",
  "differenceX",
  "differenceY",
  "startOffset",
  "startTime",
  "speed",
  "easingLoop",
  "getTouch",
  "shouldHandle",
  "touchStart",
  "touchMove",
  "currentOffset",
  "timeGap",
  "touchEnd",
  "defaultSettings",
  "PerfectScrollbar",
  "userSettings",
  "focus",
  "blur",
  "originalScrollLeft",
  "railXStyle",
  "railYStyle",
  "handlerName",
  "Swipe",
  "displacement",
  "swipe",
  "Touch",
  "psClasses",
  "railXClasses",
  "railXThumbClasses",
  "railYClasses",
  "railYThumbClasses",
  "addPerfectScrollbarStyles",
  "ARROW_DATA",
  "SELECTOR_TOGGLE",
  "SELECTOR_TOGGLE_COLLAPSE",
  "SELECTOR_SHOW_SLIM",
  "SELECTOR_HIDE_SLIM",
  "SELECTOR_NAVIGATION",
  "SELECTOR_COLLAPSE",
  "SELECTOR_LINK",
  "TRANSLATION_LEFT",
  "TRANSLATION_RIGHT",
  "OPTIONS_TYPE",
  "Sidenav",
  "findContainer",
  "containerStart",
  "containerEnd",
  "boundry",
  "mode",
  "innerWidth",
  "breakpointsList",
  "overCalculated",
  "sideCalculated",
  "pushCalculated",
  "sortAsc",
  "closestPositive",
  "menu",
  "show",
  "initialValue",
  "arg",
  "inverseDirecion",
  "collapsible",
  "menuIndex",
  "ID",
  "searchFor",
  "singleClass",
  "paddingLeft",
  "paddingRight",
  "transition",
  "siblingsHeight",
  "wave",
  "collapse",
  "category",
  "collapseToggler",
  "colors",
  "optionColor",
  "initial",
  "isSlimCollapsed",
  "tabIndexValue",
  "collapsed",
  "slim",
  "slimCollapsedElements",
  "fullWidthElements",
  "toggleElements",
  "startEvent",
  "completeEvent",
  "translation",
  "paddingPosition",
  "marginPosition",
  "elementSelector",
  "REF",
  "STEPPER_HORIZONTAL",
  "STEPPER_VERTICAL",
  "EVENT_KEYUP",
  "STEP_REF",
  "HEAD_REF",
  "HEAD_TEXT_REF",
  "HEAD_ICON_REF",
  "CONTENT_REF",
  "Stepper",
  "activeStep",
  "stepperHeadText",
  "stepperHeadIcon",
  "stepHead",
  "step",
  "stepIndex",
  "shouldBeHorizontal",
  "shouldBeVertical",
  "shouldBeMobile",
  "stepContent",
  "stepComputed",
  "stepHeight",
  "isActiveStep",
  "stepContentHeight",
  "focusedStep",
  "nextStep",
  "prevStep",
  "focusedStepHead",
  "activeStepHead",
  "nextStepHead",
  "prevStepHead",
  "firstStepHead",
  "lastStep",
  "lastStepHead",
  "focusedElement",
  "newTarget",
  "stepperHead",
  "stepElement",
  "contentStyle",
  "headStyle",
  "stepHeadHeight",
  "isForward",
  "nextStepContent",
  "activeStepContent",
  "nextStepAnimation",
  "activeStepAnimation",
  "CLASS_NAME_SLIDE_RIGHT",
  "CLASS_NAME_SLIDE_LEFT",
  "CLASS_NAME_SLIDE_IN",
  "DATA_SELECTED",
  "DATA_MULTIPLE_ACTIVE",
  "SELECTOR_FORM_CHECK_INPUT",
  "SelectOption",
  "nativeOption",
  "multiple",
  "label",
  "disabled",
  "hidden",
  "secondaryText",
  "groupId",
  "checkbox",
  "SelectionModel",
  "option",
  "optionIndex",
  "selection",
  "allOptionsSelected",
  "DATA_FORM_OUTLINE",
  "DATA_SELECT_WRAPPER",
  "DATA_SELECT_INPUT",
  "DATA_CLEAR_BUTTON",
  "DATA_SELECT_DROPDOWN_CONTAINER",
  "DATA_DROPDOWN",
  "DATA_OPTIONS_WRAPPER",
  "DATA_OPTIONS_LIST",
  "DATA_FILTER_INPUT",
  "DATA_OPTION",
  "DATA_OPTION_ALL",
  "DATA_SELECT_OPTION_TEXT",
  "DATA_FORM_CHECK_INPUT",
  "DATA_SELECT_OPTION_GROUP",
  "DATA_SELECT_OPTION_GROUP_LABEL",
  "iconSVGTemplate",
  "preventKeydown",
  "_setSizeClasses",
  "defaultSize",
  "smSize",
  "lgSize",
  "getWrapperTemplate",
  "formOutline",
  "role",
  "multiselectable",
  "validFeedback",
  "validFeedBackText",
  "invalidFeedback",
  "invalidFeedBackText",
  "clearBtn",
  "clearBtnText",
  "getDropdownTemplate",
  "selectAllOption",
  "customContent",
  "dropdownContainer",
  "optionsWrapper",
  "optionsList",
  "getOptionsListTemplate",
  "getFilterTemplate",
  "optionsNodes",
  "getMultipleOptionsNodes",
  "getSingleOptionsNodes",
  "placeholder",
  "inputGroup",
  "getOptionsNodes",
  "selectAllNode",
  "createSelectAllNode",
  "nodes",
  "group",
  "createOptionGroupTemplate",
  "createOptionTemplate",
  "isSelected",
  "optionNode",
  "getOptionContentTemplate",
  "getOptionIconTemplate",
  "getCheckboxTemplate",
  "getSecondaryTextTemplate",
  "text",
  "image",
  "optionGroup",
  "getFakeValueTemplate",
  "fakeValue",
  "EVENT_SELECT",
  "EVENT_DESELECT",
  "EVENT_VALUE_CHANGE",
  "EVENT_CHANGE",
  "DATA_SELECT_INIT",
  "DATA_NO_RESULT",
  "DATA_OPEN",
  "DATA_DISABLED",
  "SELECTOR_LABEL",
  "SELECTOR_INPUT",
  "SELECTOR_FILTER_INPUT",
  "SELECTOR_OPTIONS_WRAPPER",
  "SELECTOR_OPTIONS_LIST",
  "SELECTOR_OPTION",
  "SELECTOR_CLEAR_BUTTON",
  "SELECTOR_CUSTOM_CONTENT",
  "SELECTOR_NO_RESULTS",
  "SELECTOR_FORM_OUTLINE",
  "ANIMATION_TRANSITION_TIME",
  "Select",
  "select",
  "optionsToRender",
  "nestedOption",
  "groupDisabled",
  "availableOptions",
  "containerSelector",
  "inputWrapper",
  "isCloseKey",
  "visibleOptions",
  "groupsNumber",
  "scrollToIndex",
  "listHeight",
  "optionHeight",
  "optionOffset",
  "isBelow",
  "groupsList",
  "newActiveOption",
  "currentActiveOption",
  "labels",
  "isInitialized",
  "isValueEmpty",
  "selectAllSelected",
  "allSelected",
  "inputWidth",
  "currentActive",
  "firstSelected",
  "searchTerm",
  "debounceTime",
  "filtered",
  "isOptionGroup",
  "isValidOption",
  "hasNoResultsText",
  "hasFilteredOptions",
  "noResultsTemplate",
  "optionsWrapperContent",
  "optionsListTemplate",
  "filterValue",
  "add",
  "isSelectContent",
  "isDropdown",
  "isDropdownContent",
  "isButton",
  "button",
  "hasFilterValue",
  "wrapperParent",
  "selectionValue",
  "correspondingOption",
  "jqueryInit",
  "plugin",
  "JQUERY_NO_CONFLICT",
  "dropdownCallback",
  "initSelector",
  "tabCallback",
  "offcanvasCallback",
  "allReadyOpen",
  "buttonCallback",
  "modalCallback",
  "rippleCallback",
  "collapseCallback",
  "DEFAULT_LEGEND_COLOR",
  "defaultInitSelectors",
  "IS_COMPLEX",
  "CONVERT_DATA_TYPE",
  "PARSE_DATA",
  "chartProperty",
  "dataSet",
  "getComponentData",
  "initComponent",
  "thisComponent",
  "isToggler",
  "components",
  "initTE",
  "checkOtherImports",
  "componentList",
  "getInputField",
  "inputID",
  "labelText",
  "getChip",
  "ATTR_CHIP_CLOSE",
  "ATTR_SELECTOR_CHIP_CLOSE",
  "EVENT_DELETE",
  "defaultIcon",
  "Chip",
  "closeIcon",
  "createIcon",
  "ATTR_CHIPS_INIT",
  "ATTR_CHIPS_ACTIVE",
  "ATTR_CHIPS_INITIAL",
  "ATTR_CHIPS_PLACEHOLDER",
  "ATTR_CHIPS_WRAPPER",
  "ATTR_CHIP_INIT",
  "ATTR_CHIP_TEXT",
  "ATTR_SELECTOR_CHIPS_ACTIVE",
  "ATTR_SELECTOR_CHIP_INIT",
  "ATTR_SELECTOR_CHIP_ACTIVE",
  "ATTR_SELECTOR_CLOSE",
  "ATTR_SELECTOR_CHIPS_WRAPPER",
  "ATTR_SELECTOR_CHIP_TEXT",
  "ATTR_SELECTOR_CHIPS_PLACEHOLDER",
  "ATTR_INPUT_STATE_ACTIVE",
  "ATTR_SELECTOR_INPUT_NOTCH_REF",
  "EVENT_ADD",
  "EVENT_ARROW_DOWN",
  "EVENT_ARROW_LEFT",
  "EVENT_ARROW_RIGHT",
  "EVENT_ARROW_UP",
  "ChipsInput",
  "chip",
  "last",
  "activeChipAfter",
  "keyCode",
  "ctrlKey",
  "editable",
  "close",
  "chipText",
  "num",
  "chipIndex",
  "filterActive",
  "attrList",
  "initialValues",
  "inputField",
  "divElement",
  "divWithChips",
  "isMergeableObject",
  "isNonNullObject",
  "isSpecial",
  "stringValue",
  "isReactElement",
  "canUseSymbol",
  "REACT_ELEMENT_TYPE",
  "emptyTarget",
  "cloneUnlessOtherwiseSpecified",
  "deepmerge",
  "defaultArrayMerge",
  "source",
  "getMergeFunction",
  "customMerge",
  "getEnumerableOwnPropertySymbols",
  "symbol",
  "getKeys",
  "propertyIsOnObject",
  "propertyIsUnsafe",
  "mergeObject",
  "destination",
  "sourceIsArray",
  "targetIsArray",
  "sourceAndTargetTypesMatch",
  "prev",
  "deepmerge_1",
  "cjs",
  "CLASSNAME_CHARTS",
  "GENERATE_DATA",
  "defaultType",
  "mergeObjects",
  "merge",
  "DEFAULT_DARK_OPTIONS",
  "DARK_OPTIONS_TYPE",
  "Chart$1",
  "Chart",
  "darkOptions",
  "Chartjs",
  "ArcElement",
  "LineElement",
  "BarElement",
  "PointElement",
  "BarController",
  "BubbleController",
  "DoughnutController",
  "LineController",
  "PieController",
  "PolarAreaController",
  "RadarController",
  "ScatterController",
  "CategoryScale",
  "LinearScale",
  "LogarithmicScale",
  "RadialLinearScale",
  "TimeScale",
  "TimeSeriesScale",
  "Decimation",
  "Filler",
  "Legend",
  "Title",
  "SubTitle",
  "chart",
  "ChartDataLabels",
  "xyScale",
  "rScale",
  "opt",
  "plugins",
  "systemColor",
  "mutationList",
  "mutation",
  "dark",
  "chartData",
  "chartOptions",
  "isNullOrUndef",
  "isArray",
  "isObject",
  "isNumberFinite",
  "finiteOrDefault",
  "defaultValue",
  "valueOrDefault",
  "toPercentage",
  "toDimension",
  "thisArg",
  "each",
  "loopable",
  "reverse",
  "_elementsEqual",
  "a0",
  "a1",
  "ilen",
  "v0",
  "v1",
  "clone$1",
  "klen",
  "k",
  "isValidKey",
  "_merger",
  "tval",
  "sval",
  "sources",
  "merger",
  "mergeIf",
  "_mergerIf",
  "keyResolvers",
  "resolveObjectKey",
  "_getKeyResolver",
  "_splitKey",
  "parts",
  "tmp",
  "part",
  "_capitalize",
  "defined",
  "isFunction",
  "setsEqual",
  "_isClickEvent",
  "PI",
  "TAU",
  "PITAU",
  "INFINITY",
  "RAD_PER_DEG",
  "HALF_PI",
  "QUARTER_PI",
  "TWO_THIRDS_PI",
  "log10",
  "sign",
  "niceNum",
  "range",
  "roundedRange",
  "almostEquals",
  "niceRange",
  "fraction",
  "_factorize",
  "sqrt",
  "isNumber",
  "epsilon",
  "almostWhole",
  "rounded",
  "_setMinAndMaxByKey",
  "toRadians",
  "toDegrees",
  "radians",
  "_decimalPlaces",
  "getAngleFromPoint",
  "centrePoint",
  "anglePoint",
  "distanceFromXCenter",
  "distanceFromYCenter",
  "radialDistanceFromCenter",
  "distanceBetweenPoints",
  "pt1",
  "pt2",
  "_angleDiff",
  "_normalizeAngle",
  "_angleBetween",
  "sameAngleIsFullCircle",
  "angleToStart",
  "angleToEnd",
  "startToAngle",
  "endToAngle",
  "_limitValue",
  "_int16Range",
  "_isBetween",
  "_lookup",
  "table",
  "cmp",
  "hi",
  "lo",
  "mid",
  "_lookupByKey",
  "_rlookupByKey",
  "_filterBetween",
  "values",
  "arrayEvents",
  "listenArrayEvents",
  "listener",
  "base",
  "res",
  "unlistenArrayEvents",
  "stub",
  "listeners",
  "_arrayUnique",
  "requestAnimFrame",
  "throttled",
  "updateFn",
  "updateArgs",
  "ticking",
  "delay",
  "_toLeftRightCenter",
  "align",
  "_alignStartEnd",
  "_textX",
  "rtl",
  "_getStartAndCountOfVisiblePoints",
  "meta",
  "points",
  "animationsDisabled",
  "pointCount",
  "iScale",
  "_parsed",
  "minDefined",
  "maxDefined",
  "_scaleRangesChanged",
  "xScale",
  "yScale",
  "_scaleRanges",
  "newRanges",
  "changed",
  "atEdge",
  "elasticIn",
  "elasticOut",
  "effects",
  "lim",
  "h",
  "p2b",
  "n2b",
  "b2n",
  "n2p",
  "map$1",
  "hex",
  "h1",
  "h2",
  "eq",
  "isShort",
  "hexParse",
  "ret",
  "alpha",
  "hexString",
  "HUE_RE",
  "hsl2rgbn",
  "hsv2rgbn",
  "hwb2rgbn",
  "w",
  "rgb",
  "hueValue",
  "g",
  "rgb2hsl",
  "calln",
  "hsl2rgb",
  "hwb2rgb",
  "hsv2rgb",
  "hue",
  "hueParse",
  "p1",
  "p2",
  "rotate",
  "deg",
  "hslString",
  "names$1",
  "unpack",
  "unpacked",
  "tkeys",
  "ok",
  "nk",
  "names",
  "nameParse",
  "RGB_RE",
  "rgbParse",
  "rgbString",
  "to",
  "from",
  "interpolate",
  "rgb1",
  "rgb2",
  "modHSL",
  "ratio",
  "clone",
  "proto",
  "fromObject",
  "functionParse",
  "Color",
  "weight",
  "c1",
  "c2",
  "w2",
  "w1",
  "index_esm",
  "isPatternOrGradient",
  "getHoverColor",
  "overrides",
  "descriptors",
  "getScope$1",
  "scope",
  "Defaults",
  "_descriptors",
  "ctx",
  "targetScope",
  "targetName",
  "scopeObject",
  "targetScopeObject",
  "privateName",
  "local",
  "defaults",
  "toFontString",
  "font",
  "_measureText",
  "gc",
  "longest",
  "textWidth",
  "_longestText",
  "arrayOfThings",
  "cache",
  "jlen",
  "thing",
  "nestedThing",
  "gcLen",
  "_alignPixel",
  "pixel",
  "devicePixelRatio",
  "halfWidth",
  "clearCanvas",
  "canvas",
  "drawPoint",
  "drawPointLegend",
  "xOffset",
  "yOffset",
  "size",
  "cornerRadius",
  "rotation",
  "_isPointInArea",
  "point",
  "area",
  "clipArea",
  "unclipArea",
  "_steppedLineTo",
  "midpoint",
  "_bezierCurveTo",
  "renderText",
  "opts",
  "lines",
  "stroke",
  "line",
  "setRenderOpts",
  "decorateText",
  "metrics",
  "yDecoration",
  "addRoundedRectPath",
  "LINE_HEIGHT",
  "FONT_STYLE",
  "toLineHeight",
  "numberOrZero",
  "_readValueToProps",
  "props",
  "objProps",
  "prop",
  "toTRBL",
  "toTRBLCorners",
  "toPadding",
  "toFont",
  "fallback",
  "inputs",
  "info",
  "cacheable",
  "_addGrace",
  "minmax",
  "grace",
  "beginAtZero",
  "change",
  "keepZero",
  "createContext",
  "parentContext",
  "_createResolver",
  "scopes",
  "prefixes",
  "rootScopes",
  "getTarget",
  "_resolve",
  "_cached",
  "_resolveWithPrefixes",
  "getKeysFromAllScopes",
  "storage",
  "_attachContext",
  "proxy",
  "subProxy",
  "descriptorDefaults",
  "receiver",
  "_resolveWithContext",
  "_scriptable",
  "_indexable",
  "_allKeys",
  "readKey",
  "needsSubResolver",
  "_proxy",
  "_context",
  "_subProxy",
  "_resolveScriptable",
  "_resolveArray",
  "_stack",
  "createSubResolver",
  "isIndexable",
  "resolver",
  "resolveFallback",
  "getScope",
  "addScopes",
  "parentScopes",
  "parentFallback",
  "allScopes",
  "addScopesFromKey",
  "subGetTarget",
  "resolveKeysFromAllScopes",
  "_parseObjectDataRadialScale",
  "parsed",
  "EPSILON",
  "getPoint",
  "getValueAxis",
  "indexAxis",
  "splineCurve",
  "firstPoint",
  "middlePoint",
  "afterPoint",
  "d01",
  "d12",
  "s01",
  "s12",
  "fa",
  "fb",
  "monotoneAdjust",
  "deltaK",
  "mK",
  "pointsLen",
  "alphaK",
  "betaK",
  "tauK",
  "squaredMagnitude",
  "pointCurrent",
  "pointAfter",
  "monotoneCompute",
  "valueAxis",
  "delta",
  "pointBefore",
  "iPixel",
  "vPixel",
  "splineCurveMonotone",
  "slopeDelta",
  "capControlPoint",
  "pt",
  "capBezierPoints",
  "inArea",
  "inAreaPrev",
  "inAreaNext",
  "_updateBezierControlPoints",
  "loop",
  "controlPoints",
  "_isDomSupported",
  "_getParentNode",
  "domNode",
  "parseMaxStyle",
  "styleValue",
  "parentProperty",
  "valueInPixels",
  "getStyle",
  "positions",
  "getPositionedStyle",
  "suffix",
  "pos",
  "useOffsetPos",
  "getCanvasPosition",
  "box",
  "getRelativePosition",
  "currentDevicePixelRatio",
  "borderBox",
  "paddings",
  "borders",
  "getContainerSize",
  "maxWidth",
  "maxHeight",
  "containerStyle",
  "containerBorder",
  "containerPadding",
  "round1",
  "getMaximumSize",
  "bbWidth",
  "bbHeight",
  "aspectRatio",
  "margins",
  "containerSize",
  "retinaScale",
  "forceRatio",
  "forceStyle",
  "pixelRatio",
  "deviceHeight",
  "deviceWidth",
  "supportsEventListenerOptions",
  "passiveSupported",
  "readUsedSize",
  "_pointInLine",
  "_steppedInterpolation",
  "_bezierInterpolation",
  "cp1",
  "cp2",
  "intlCache",
  "getNumberFormat",
  "locale",
  "cacheKey",
  "formatter",
  "formatNumber",
  "getRightToLeftAdapter",
  "rectX",
  "getLeftToRightAdapter",
  "_itemWidth",
  "getRtlAdapter",
  "overrideTextDirection",
  "original",
  "restoreTextDirection",
  "propertyFn",
  "normalizeSegment",
  "getSegment",
  "segment",
  "bounds",
  "startBound",
  "endBound",
  "between",
  "normalize",
  "_boundSegment",
  "compare",
  "inside",
  "subStart",
  "prevValue",
  "startIsBefore",
  "endIsBefore",
  "shouldStart",
  "shouldStop",
  "_boundSegments",
  "segments",
  "sub",
  "findStartAndEnd",
  "spanGaps",
  "solidSegments",
  "cur",
  "_computeSegments",
  "segmentOptions",
  "splitByStyles",
  "completeLoop",
  "doSplitByStyles",
  "chartContext",
  "baseStyle",
  "readStyle",
  "datasetIndex",
  "prevStyle",
  "addStyle",
  "st",
  "dir",
  "styleChanged",
  "Animator",
  "anims",
  "callbacks",
  "numSteps",
  "remaining",
  "draw",
  "charts",
  "cb",
  "animator",
  "transparent",
  "interpolators",
  "factor",
  "c0",
  "Animation",
  "cfg",
  "elapsed",
  "remain",
  "promises",
  "rej",
  "resolved",
  "numbers",
  "animationOptions",
  "Animations",
  "animatedProps",
  "newOptions",
  "resolveTargetOptions",
  "animations",
  "awaitAll",
  "running",
  "properties",
  "anim",
  "scaleClip",
  "scale",
  "allowedOverflow",
  "defaultClip",
  "toClip",
  "getSortedDatasetIndices",
  "filterVisible",
  "metasets",
  "applyStack",
  "stack",
  "dsIndex",
  "singleMode",
  "otherValue",
  "convertObjectDataToArray",
  "adata",
  "isStacked",
  "stacked",
  "getStackKey",
  "indexScale",
  "valueScale",
  "getUserBounds",
  "getOrCreateStack",
  "stacks",
  "stackKey",
  "indexValue",
  "subStack",
  "getLastIndexInStack",
  "vScale",
  "positive",
  "updateStacks",
  "controller",
  "iAxis",
  "vAxis",
  "itemStacks",
  "getFirstScaleId",
  "scales",
  "createDatasetContext",
  "createDataContext",
  "clearStacks",
  "isDirectUpdateMode",
  "cloneIfNotShared",
  "cached",
  "shared",
  "createStack",
  "canStack",
  "DatasetController",
  "chooseId",
  "xid",
  "yid",
  "rid",
  "iid",
  "vid",
  "scaleID",
  "_data",
  "resetNewElements",
  "stackChanged",
  "oldStacked",
  "scopeKeys",
  "_stacked",
  "sorted",
  "isNotInOrderComparedToPrev",
  "singleScale",
  "xAxisKey",
  "yAxisKey",
  "parsedValue",
  "otherScale",
  "otherMin",
  "otherMax",
  "_skip",
  "drawActiveElementsOnTop",
  "elementType",
  "sharing",
  "sharedOptions",
  "firstOpts",
  "previouslySharedOptions",
  "includeOptions",
  "arg1",
  "arg2",
  "numMeta",
  "numData",
  "removed",
  "newCount",
  "getAllScaleValues",
  "visibleMetas",
  "computeMinSampleSize",
  "curr",
  "updateMinAndPrev",
  "computeFitCategoryTraits",
  "ruler",
  "stackCount",
  "thickness",
  "computeFlexCategoryTraits",
  "pixels",
  "percent",
  "parseFloatBar",
  "entry",
  "startValue",
  "endValue",
  "barStart",
  "barEnd",
  "parseValue",
  "parseArrayOrPrimitive",
  "isFloatBar",
  "custom",
  "barSign",
  "actualBase",
  "borderProps",
  "setBorderSkipped",
  "edge",
  "parseEdge",
  "swap",
  "startEnd",
  "orig",
  "v2",
  "setInflateAmount",
  "inflateAmount",
  "iAxisKey",
  "vAxisKey",
  "bars",
  "reset",
  "horizontal",
  "vpixels",
  "ipixels",
  "dataIndex",
  "skipNull",
  "barThickness",
  "baseValue",
  "minBarLength",
  "floating",
  "length",
  "head",
  "startPixel",
  "endPixel",
  "halfGrid",
  "maxBarThickness",
  "stackIndex",
  "getRatioAndOffset",
  "circumference",
  "cutout",
  "ratioX",
  "ratioY",
  "startAngle",
  "endAngle",
  "startX",
  "startY",
  "endX",
  "endY",
  "calcMax",
  "calcMin",
  "maxX",
  "maxY",
  "minX",
  "minY",
  "getter",
  "chartArea",
  "arcs",
  "spacing",
  "maxSize",
  "chartWeight",
  "maxRadius",
  "outerRadius",
  "innerRadius",
  "radiusLength",
  "animationOpts",
  "centerX",
  "centerY",
  "animateScale",
  "arc",
  "metaData",
  "total",
  "ringWeightOffset",
  "pointStyle",
  "legendItem",
  "legend",
  "tooltipItem",
  "dataLabel",
  "_dataset",
  "maxGapLength",
  "directUpdate",
  "prevParsed",
  "nullData",
  "lastPoint",
  "minSize",
  "datasetStartAngle",
  "defaultAngle",
  "pointPosition",
  "Element$1",
  "useFinalPosition",
  "final",
  "Element",
  "formatters",
  "tickValue",
  "ticks",
  "notation",
  "maxTick",
  "calculateDelta",
  "logDelta",
  "numDecimal",
  "Ticks",
  "_ctx",
  "defaults$1",
  "autoSkip",
  "tickOpts",
  "ticksLimit",
  "determineMaxTicks",
  "majorIndices",
  "getMajorIndices",
  "numMajorIndices",
  "first",
  "newTicks",
  "skipMajors",
  "calculateSpacing",
  "avgMajorSpacing",
  "skip",
  "tickLength",
  "maxScale",
  "maxChart",
  "evenMajorSpacing",
  "getEvenSpacing",
  "factors",
  "majorStart",
  "majorEnd",
  "reverseAlign",
  "offsetFromEdge",
  "sample",
  "numItems",
  "getPixelForGridLine",
  "offsetGridLines",
  "validIndex",
  "lineValue",
  "garbageCollect",
  "caches",
  "getTickMarkLength",
  "getTitleHeight",
  "createScaleContext",
  "createTickContext",
  "tick",
  "titleAlign",
  "titleArgs",
  "titleX",
  "titleY",
  "positionAxisID",
  "Scale",
  "raw",
  "_userMin",
  "_userMax",
  "_suggestedMin",
  "_suggestedMax",
  "metas",
  "sampleSize",
  "samplingEnabled",
  "reversePixels",
  "numTicks",
  "minRotation",
  "maxRotation",
  "labelRotation",
  "tickWidth",
  "maxLabelDiagonal",
  "labelSizes",
  "maxLabelWidth",
  "maxLabelHeight",
  "titleOpts",
  "gridOpts",
  "display",
  "isHorizontal",
  "titleHeight",
  "widest",
  "highest",
  "tickPadding",
  "angleRadians",
  "cos",
  "sin",
  "labelHeight",
  "labelWidth",
  "isRotated",
  "labelsBelowTicks",
  "offsetLeft",
  "offsetRight",
  "paddingTop",
  "paddingBottom",
  "widths",
  "heights",
  "widestLabelSize",
  "highestLabelSize",
  "tickFont",
  "fontString",
  "lineHeight",
  "nestedLabel",
  "valueAt",
  "idx",
  "decimal",
  "optionTicks",
  "rot",
  "grid",
  "ticksLength",
  "tl",
  "borderOpts",
  "axisWidth",
  "axisHalfWidth",
  "alignBorderValue",
  "borderValue",
  "alignedLineValue",
  "tx1",
  "ty1",
  "tx2",
  "ty2",
  "x1",
  "y1",
  "x2",
  "y2",
  "limit",
  "optsAtIndex",
  "lineWidth",
  "lineColor",
  "borderDash",
  "borderDashOffset",
  "tickColor",
  "tickBorderDash",
  "tickBorderDashOffset",
  "crossAlign",
  "mirror",
  "tickAndPadding",
  "hTickAndPadding",
  "textAlign",
  "lineCount",
  "textOffset",
  "textBaseline",
  "halfCount",
  "strokeColor",
  "strokeWidth",
  "tickTextAlign",
  "labelPadding",
  "backgroundColor",
  "drawLine",
  "lastLineWidth",
  "tz",
  "gz",
  "axisID",
  "fontSize",
  "TypedRegistry",
  "override",
  "parentScope",
  "isIChartComponent",
  "registerDefaults",
  "itemDefaults",
  "routeDefaults",
  "routes",
  "propertyParts",
  "sourceName",
  "sourceScope",
  "Registry",
  "typedRegistry",
  "reg",
  "itemReg",
  "registry",
  "camelMethod",
  "showLine",
  "controllers",
  "abstract",
  "DateAdapter",
  "timestamp",
  "amount",
  "unit",
  "weekday",
  "members",
  "adapters",
  "binarySearch",
  "metaset",
  "intersect",
  "_sorted",
  "lookupMethod",
  "evaluateInteractionItems",
  "getDistanceMetricForAxis",
  "useX",
  "useY",
  "getIntersectItems",
  "includeInvisible",
  "getNearestRadialItems",
  "evaluationFunc",
  "getNearestCartesianItems",
  "distanceMetric",
  "minDistance",
  "inRange",
  "getNearestItems",
  "getAxisItems",
  "rangeMethod",
  "intersectsItem",
  "Interaction",
  "STATIC_POSITIONS",
  "filterByPosition",
  "filterDynamicPositionByAxis",
  "sortByWeight",
  "wrapBoxes",
  "boxes",
  "layoutBoxes",
  "stackWeight",
  "buildStacks",
  "layouts",
  "wrap",
  "setLayoutDims",
  "params",
  "vBoxMaxWidth",
  "hBoxMaxHeight",
  "layout",
  "fullSize",
  "buildLayoutBoxes",
  "centerHorizontal",
  "centerVertical",
  "getCombinedMax",
  "maxPadding",
  "updateMaxPadding",
  "boxPadding",
  "updateDims",
  "newWidth",
  "newHeight",
  "widthChanged",
  "heightChanged",
  "handleMaxPadding",
  "updatePos",
  "getMargins",
  "marginForPositions",
  "fitBoxes",
  "refitBoxes",
  "refit",
  "same",
  "other",
  "setBoxDims",
  "placeBoxes",
  "userPadding",
  "layoutItem",
  "minPadding",
  "availableWidth",
  "availableHeight",
  "verticalBoxes",
  "horizontalBoxes",
  "visibleVerticalBoxCount",
  "BasePlatform",
  "BasicPlatform",
  "EXPANDO_KEY",
  "EVENT_TYPES",
  "isNullOrEmpty",
  "initCanvas",
  "renderHeight",
  "renderWidth",
  "displayWidth",
  "displayHeight",
  "eventListenerOptions",
  "addListener",
  "removeListener",
  "fromNativeEvent",
  "nodeListContains",
  "nodeList",
  "createAttachObserver",
  "observer",
  "entries",
  "createDetachObserver",
  "drpListeningCharts",
  "oldDevicePixelRatio",
  "onWindowResize",
  "listenDevicePixelRatioChanges",
  "unlistenDevicePixelRatioChanges",
  "createResizeObserver",
  "releaseObserver",
  "createProxyAndListen",
  "DomPlatform",
  "proxies",
  "_detectPlatform",
  "PluginService",
  "hook",
  "descriptor",
  "all",
  "allPlugins",
  "createDescriptors",
  "previousDescriptors",
  "localIds",
  "getOpts",
  "pluginOpts",
  "getIndexAxis",
  "datasetDefaults",
  "getAxisFromDefaultScaleID",
  "getDefaultScaleIDFromAxis",
  "axisFromPosition",
  "determineAxis",
  "scaleOptions",
  "mergeScaleConfig",
  "chartDefaults",
  "configScales",
  "chartIndexAxis",
  "firstIDs",
  "scaleConf",
  "defaultId",
  "defaultScaleOptions",
  "defaultID",
  "initOptions",
  "initData",
  "initConfig",
  "keyCache",
  "keysCached",
  "cachedKeys",
  "generate",
  "addIfFound",
  "Config",
  "datasetType",
  "mainScope",
  "resetCache",
  "_scopeCache",
  "keyLists",
  "subPrefixes",
  "getResolver",
  "needContext",
  "subResolver",
  "resolverCache",
  "hasFunction",
  "isScriptable",
  "scriptable",
  "indexable",
  "version",
  "KNOWN_POSITIONS",
  "positionIsHorizontal",
  "compare2Level",
  "l1",
  "l2",
  "onAnimationsComplete",
  "onAnimationProgress",
  "getCanvas",
  "instances",
  "getChart",
  "moveNumericKeys",
  "intKey",
  "determineLastEvent",
  "lastEvent",
  "inChartArea",
  "isClick",
  "userConfig",
  "initialCanvas",
  "existingChart",
  "maintainAspectRatio",
  "_aspectRatio",
  "newSize",
  "newRatio",
  "scalesOptions",
  "axisOptions",
  "scaleOpts",
  "updated",
  "isRadial",
  "scaleType",
  "scaleClass",
  "hasUpdated",
  "datasets",
  "newControllers",
  "ControllerClass",
  "datasetElementType",
  "dataElementType",
  "animsDisabled",
  "_active",
  "_lastEvent",
  "existingEvents",
  "newEvents",
  "_hiddenIndices",
  "changes",
  "_dataChanges",
  "datasetCount",
  "makeSet",
  "changeSet",
  "noArea",
  "layers",
  "clip",
  "useClip",
  "visible",
  "platform",
  "_add",
  "_remove",
  "detached",
  "attached",
  "activeElements",
  "lastActive",
  "replay",
  "hoverOptions",
  "deactivated",
  "activated",
  "eventFilter",
  "invalidatePlugins",
  "enumerable",
  "clipArc",
  "pixelMargin",
  "angleMargin",
  "toRadiusCorners",
  "parseBorderRadius$1",
  "angleDelta",
  "halfThickness",
  "innerLimit",
  "computeOuterLimit",
  "outerArcLimit",
  "rThetaToXY",
  "theta",
  "pathArc",
  "circular",
  "innerR",
  "spacingOffset",
  "noSpacingInnerRadius",
  "noSpacingOuterRadius",
  "avNogSpacingRadius",
  "adjustedAngle",
  "beta",
  "angleOffset",
  "outerStart",
  "outerEnd",
  "innerStart",
  "innerEnd",
  "outerStartAdjustedRadius",
  "outerEndAdjustedRadius",
  "outerStartAdjustedAngle",
  "outerEndAdjustedAngle",
  "innerStartAdjustedRadius",
  "innerEndAdjustedRadius",
  "innerStartAdjustedAngle",
  "innerEndAdjustedAngle",
  "pCenter",
  "p4",
  "p8",
  "outerStartX",
  "outerStartY",
  "outerEndX",
  "outerEndY",
  "drawArc",
  "fullCircles",
  "drawFullCircleBorders",
  "inner",
  "drawBorder",
  "borderWidth",
  "borderJoinStyle",
  "chartX",
  "chartY",
  "rAdjust",
  "betweenAngles",
  "withinRadius",
  "halfAngle",
  "halfRadius",
  "radiusOffset",
  "setStyle",
  "lineTo",
  "getLineMethod",
  "pathVars",
  "paramsStart",
  "paramsEnd",
  "segmentStart",
  "segmentEnd",
  "outside",
  "pathSegment",
  "lineMethod",
  "fastPathSegment",
  "avgX",
  "countX",
  "prevX",
  "lastY",
  "pointIndex",
  "drawX",
  "truncX",
  "_getSegmentMethod",
  "_getInterpolationMethod",
  "strokePathWithCache",
  "path",
  "strokePathDirect",
  "segmentMethod",
  "usePath2D",
  "_interpolate",
  "interpolated",
  "inRange$1",
  "mouseX",
  "mouseY",
  "getBarBounds",
  "bar",
  "half",
  "skipOrLimit",
  "parseBorderWidth",
  "maxW",
  "maxH",
  "parseBorderRadius",
  "enableBorderRadius",
  "maxR",
  "enableBorder",
  "boundingRects",
  "skipX",
  "skipY",
  "hasRadius",
  "addNormalRectPath",
  "inflateRect",
  "refRect",
  "borderColor",
  "outer",
  "addRectPath",
  "lttbDecimation",
  "samples",
  "decimated",
  "bucketWidth",
  "sampledIndex",
  "endIndex",
  "maxAreaPoint",
  "maxArea",
  "nextA",
  "avgY",
  "avgRangeStart",
  "avgRangeEnd",
  "avgRangeLength",
  "rangeOffs",
  "rangeTo",
  "pointAx",
  "pointAy",
  "minMaxDecimation",
  "minIndex",
  "maxIndex",
  "startIndex",
  "xMin",
  "dx",
  "lastIndex",
  "intermediateIndex1",
  "intermediateIndex2",
  "cleanDecimatedDataset",
  "cleanDecimatedData",
  "getStartAndCountOfVisiblePointsSimplified",
  "plugin_decimation",
  "xAxis",
  "threshold",
  "_segments",
  "tpoints",
  "_findSegmentEnd",
  "_getBounds",
  "targetSegments",
  "tgt",
  "subBounds",
  "fillSources",
  "fillSource",
  "_getEdge",
  "_pointsFromSegments",
  "linePoints",
  "_createBoundaryLine",
  "_shouldApplyFill",
  "_resolveTarget",
  "propagate",
  "fill",
  "_decodeFill",
  "parseFillOption",
  "decodeTargetIndex",
  "firstCh",
  "_getTargetPixel",
  "_getTargetValue",
  "fillOption",
  "_buildStackLine",
  "sourcePoints",
  "linesBelow",
  "getLinesBelow",
  "addPointsBelow",
  "below",
  "sourcePoint",
  "postponed",
  "findPoint",
  "pointValue",
  "firstValue",
  "lastValue",
  "simpleArc",
  "_getTarget",
  "getLineByIndex",
  "computeBoundary",
  "computeCircularBoundary",
  "computeLinearBoundary",
  "_drawfill",
  "lineOpts",
  "above",
  "doFill",
  "clipVertical",
  "clipY",
  "lineLoop",
  "src",
  "notShape",
  "clipBounds",
  "interpolatedLineTo",
  "targetLoop",
  "interpolatedPoint",
  "_args",
  "getBoxSize",
  "labelOpts",
  "boxHeight",
  "boxWidth",
  "itemsEqual",
  "legendItems",
  "labelFont",
  "hitboxes",
  "lineWidths",
  "totalHeight",
  "columnSizes",
  "heightLimit",
  "totalWidth",
  "currentColWidth",
  "currentColHeight",
  "col",
  "rtlHelper",
  "hitbox",
  "defaultColor",
  "fontColor",
  "halfFontSize",
  "drawLegendBox",
  "drawOptions",
  "yBoxTop",
  "xBoxLeft",
  "borderRadius",
  "fillText",
  "realX",
  "titleFont",
  "titlePadding",
  "topPaddingPlusHalfFontSize",
  "hitBox",
  "lh",
  "isListened",
  "hoveredItem",
  "sameItem",
  "plugin_legend",
  "ci",
  "usePointStyle",
  "textSize",
  "fontOpts",
  "createTitle",
  "plugin_title",
  "titleBlock",
  "plugin_subtitle",
  "positioners",
  "eventPosition",
  "nearestElement",
  "tp",
  "pushOrConcat",
  "toPush",
  "splitNewlines",
  "createTooltipItem",
  "getTooltipSize",
  "tooltip",
  "footer",
  "bodyFont",
  "footerFont",
  "titleLineCount",
  "footerLineCount",
  "bodyLineItemCount",
  "combinedBodyLength",
  "bodyItem",
  "bodyLineHeight",
  "widthPadding",
  "maxLineWidth",
  "determineYAlign",
  "doesNotFitWithAlign",
  "xAlign",
  "caret",
  "determineXAlign",
  "yAlign",
  "chartWidth",
  "determineAlignment",
  "alignX",
  "alignY",
  "paddingAndSize",
  "getBackgroundPoint",
  "alignment",
  "caretSize",
  "caretPadding",
  "topLeft",
  "topRight",
  "bottomLeft",
  "bottomRight",
  "getAlignedX",
  "getBeforeAfterBodyLines",
  "createTooltipContext",
  "tooltipItems",
  "overrideCallbacks",
  "beforeTitle",
  "afterTitle",
  "bodyItems",
  "scoped",
  "beforeFooter",
  "afterFooter",
  "labelColors",
  "labelPointStyles",
  "labelTextColors",
  "positionAndSize",
  "backgroundPoint",
  "tooltipPoint",
  "caretPosition",
  "ptX",
  "ptY",
  "x3",
  "y3",
  "titleSpacing",
  "labelPointStyle",
  "colorX",
  "rtlColorX",
  "yOffSet",
  "colorY",
  "outerX",
  "innerX",
  "bodySpacing",
  "bodyAlign",
  "displayColors",
  "xLinePadding",
  "fillLineOfText",
  "bodyAlignForCalculation",
  "textColor",
  "tooltipSize",
  "animX",
  "animY",
  "hasTooltipContent",
  "positionChanged",
  "caretX",
  "caretY",
  "plugin_tooltip",
  "labelCount",
  "addIfString",
  "addedLabels",
  "findOrAddLabel",
  "added",
  "generateTicks$1",
  "generationOptions",
  "dataRange",
  "precision",
  "maxTicks",
  "maxDigits",
  "includeBounds",
  "maxSpaces",
  "rmin",
  "rmax",
  "countDefined",
  "minSpacing",
  "niceMin",
  "niceMax",
  "numSpaces",
  "decimalPlaces",
  "relativeLabelSize",
  "LinearScaleBase",
  "setMin",
  "setMax",
  "minSign",
  "maxSign",
  "maxTicksLimit",
  "stepSize",
  "numericGeneratorOptions",
  "isMajor",
  "tickVal",
  "generateTicks",
  "endExp",
  "endSignificand",
  "exp",
  "significand",
  "lastTick",
  "getTickBackdropHeight",
  "measureLabelSize",
  "determineLimits",
  "fitWithPointLabels",
  "limits",
  "valueCount",
  "pointLabelOpts",
  "additionalAngle",
  "plFont",
  "hLimits",
  "vLimits",
  "updateLimits",
  "buildPointLabelItems",
  "extra",
  "outerDistance",
  "pointLabelPosition",
  "yForAngle",
  "getTextAlignForAngle",
  "leftForTextAlign",
  "drawPointLabels",
  "pointLabels",
  "backdropColor",
  "backdropLeft",
  "backdropTop",
  "backdropWidth",
  "backdropHeight",
  "pathRadiusLine",
  "drawRadiusLine",
  "gridLineOpts",
  "createPointLabelContext",
  "leftMovement",
  "rightMovement",
  "topMovement",
  "bottomMovement",
  "angleMultiplier",
  "scalingFactor",
  "scaledDistance",
  "pointLabel",
  "distanceFromCenter",
  "angleLines",
  "INTERVALS",
  "UNITS",
  "sorter",
  "parse",
  "adapter",
  "parser",
  "isoWeekday",
  "determineUnitForAutoTicks",
  "minUnit",
  "capacity",
  "interval",
  "determineUnitForFormatting",
  "determineMajorUnit",
  "addTick",
  "timestamps",
  "setMajorTicks",
  "majorUnit",
  "major",
  "ticksFromTimestamps",
  "_applyBounds",
  "timeOpts",
  "minor",
  "hasWeekday",
  "formats",
  "minorFormat",
  "majorFormat",
  "ticksOpts",
  "tickLabelWidth",
  "cosRotation",
  "sinRotation",
  "tickFontSize",
  "exampleTime",
  "displayFormats",
  "exampleLabel",
  "prevSource",
  "nextSource",
  "prevTarget",
  "nextTarget",
  "screen",
  "utils",
  "updates",
  "orient",
  "origin",
  "x0",
  "y0",
  "dy",
  "ln",
  "aligned",
  "vx",
  "vy",
  "R_INSIDE",
  "R_LEFT",
  "R_RIGHT",
  "R_BOTTOM",
  "R_TOP",
  "region",
  "clipped",
  "r0",
  "r1",
  "compute$1",
  "anchor",
  "rx",
  "ry",
  "sx",
  "sy",
  "rasterize",
  "model",
  "th",
  "tw",
  "tx",
  "ty",
  "getScaleOrigin",
  "getPositioner",
  "drawRoundedRect",
  "drawFrame",
  "bgColor",
  "textGeometry",
  "drawTextLine",
  "shadow",
  "stroked",
  "drawText",
  "filled",
  "Label",
  "me",
  "MIN_INTEGER",
  "MAX_INTEGER",
  "rotated",
  "cx",
  "cy",
  "projected",
  "dp",
  "toAxis",
  "p0",
  "HitBox",
  "axes",
  "pr0",
  "pr1",
  "coordinates",
  "geometry",
  "vs",
  "collide",
  "collider",
  "s0",
  "s1",
  "compute",
  "h0",
  "sa",
  "sb",
  "dirty",
  "DEFAULT_KEY",
  "configure",
  "configs",
  "dispatchEvent",
  "groups",
  "callback$1",
  "dispatchMoveEvents",
  "enter",
  "leave",
  "handleMoveEvents",
  "expando",
  "handleClickEvents",
  "update"
  ],
  "mappings": "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oDACd,UAAW,6DACX,MAAO,WACP,eAAgB,uCAChB,QAAS,eACT,kBACE,gHACF,oBACE,4MACF,mBACE,mRACF,eACE,mZACF,sBACE,wEACF,yBAA0B,sCAC1B,+BAAgC,kBAChC,wBACE,iTACF,cACE,oNACF,sBACE,0JACF,iBACE,yJACF,iBACE,yJACF,uBACE,gIACF,gBACE,6GACF,oBACE,yGACF,sBACE,sIACF,wBACE,2HACF,qBACE,iGACF,wBACE,qGACF,iBAAkB,8BAClB,uBACE,kYACF,wBACE,qHACF,0BACE,+JACF,yBACE,iUACF,qBACE,sYACF,4BACE,qFACF,4BAA6B,+BAC7B,+BAAgC,kBAChC,uBACE,mNACF,wBAAyB,UACzB,8BACE,0SACF,yBACE,sNACF,oBACE,mNACF,4BACE,iJACF,uBACE,mKACF,uBACE,yJACF,6BACE,waACF,uBACE,oTACJ,EAEMC,GAAqB,CACzB,KAAM,SACN,WAAY,SACZ,aAAc,SACd,UAAW,SACX,MAAO,SACP,eAAgB,SAChB,QAAS,SACT,kBAAmB,SACnB,oBAAqB,SACrB,mBAAoB,SACpB,eAAgB,SAChB,sBAAuB,SACvB,yBAA0B,SAC1B,+BAAgC,SAChC,wBAAyB,SACzB,cAAe,SACf,sBAAuB,SACvB,iBAAkB,SAClB,iBAAkB,SAClB,uBAAwB,SACxB,gBAAiB,SACjB,oBAAqB,SACrB,sBAAuB,SACvB,wBAAyB,SACzB,qBAAsB,SACtB,wBAAyB,SACzB,uBAAwB,SACxB,wBAAyB,SACzB,0BAA2B,SAC3B,yBAA0B,SAC1B,qBAAsB,SACtB,4BAA6B,SAC7B,4BAA6B,SAC7B,+BAAgC,SAChC,uBAAwB,SACxB,wBAAyB,SACzB,8BAA+B,SAC/B,yBAA0B,SAC1B,oBAAqB,SACrB,4BAA6B,SAC7B,uBAAwB,SACxB,uBAAwB,SACxB,6BAA8B,SAC9B,uBAAwB,QAC1B,EAQA,MAAM8rB,EAAW,CACf,YAAYlyC,EAASqO,EAAU,CAAA,EAAIiY,EAAS,CA8gD5C6rB,GAAA,mBAAeC,GAAY,CACrBA,IAAY,MACd,KAAK,aAAe,GAC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",
  "x_google_ignoreList": [
  5,
  6,
  7,
  8,
  9,
  10,
  11,
  12,
  13,
  14,
  15,
  16,
  17,
  18,
  19,
  20,
  21,
  22,
  23,
  24,
  25,
  26,
  27,
  28,
  29,
  30,
  31,
  32,
  33,
  34,
  35,
  36,
  37,
  38,
  39,
  40,
  41,
  42,
  43,
  44,
  45,
  46,
  47,
  48,
  49,
  50,
  51,
  52,
  53,
  54,
  55,
  56,
  57,
  58,
  59,
  60,
  61,
  62,
  81,
  92,
  111,
  114,
  115,
  116
  ]
  }